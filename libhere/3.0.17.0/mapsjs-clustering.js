H.util.eval("Vi.prototype.Ge=ca(1,function(){return this.b});function uq(){}uq.prototype.o=function(){};uq.prototype.S=function(){};uq.prototype.j=function(){};r(\"H.clustering.ICluster.prototype.forEachEntry\",uq.prototype.j);uq.prototype.i=function(){};r(\"H.clustering.ICluster.prototype.forEachDataPoint\",uq.prototype.i);function vq(a,b,c){this.v=this.m=c;this.b=[];this.g=0;this.a=Xe(a,b,!0)}r(\"H.clustering.grid.Cluster\",vq);vq.prototype.Qc=function(a){this.c||(this.c=ic(a));this.g+=a.wt||1;this.b.push(a)};vq.prototype.Ge=function(){return this.b};vq.prototype.getPosition=function(){return this.c};vq.prototype.getPosition=vq.prototype.getPosition;vq.prototype.Db=function(){return this.g};vq.prototype.getWeight=vq.prototype.Db;vq.prototype.l=Be;vq.prototype.isCluster=vq.prototype.l;vq.prototype.f=function(){return this.m};\nvq.prototype.getMinZoom=vq.prototype.f;vq.prototype.o=function(){return this.v};vq.prototype.getMaxZoom=vq.prototype.o;vq.prototype.S=function(){return this.a};vq.prototype.getBounds=vq.prototype.S;vq.prototype.j=function(a){this.i(a)};vq.prototype.forEachEntry=vq.prototype.j;vq.prototype.i=function(a){var b=this;if(!sa(a))throw new C(this.i,0,a);this.b.forEach(function(c){a(new wq(c,b.m+1))})};vq.prototype.forEachDataPoint=vq.prototype.i;function xq(a){xc.call(this);this.a=[];var b;a?Ca(b={},yq,a):b=yq;this.g=b;xc.call(this)}v(xq,xc);var zq={cancel:sc},Aq={clusters:[],noisePoints:[]},yq={projection:ih,min:0,max:22,eps:32,minWeight:2};p=xq.prototype;p.gc=function(a){this.a=a;this.b=!0};p.eb=function(a){this.a.push(a);this.b=!0};p.vg=function(a){this.a=this.a.concat(a);this.b=!0};p.Oe=function(a){this.a=this.a.filter(function(b){return b!==a});this.b=!0};p.D=function(){xq.u.D.call(this);this.a=null};p.bh=sc;function wq(a,b){this.a=a;this.b=b}r(\"H.clustering.grid.NoisePoint\",wq);wq.prototype.getPosition=function(){return ic(this.a)};wq.prototype.getPosition=wq.prototype.getPosition;wq.prototype.Db=function(){return this.a.wt};wq.prototype.getWeight=wq.prototype.Db;wq.prototype.l=Ce;wq.prototype.isCluster=wq.prototype.l;wq.prototype.f=function(){return this.b};wq.prototype.getMinZoom=wq.prototype.f;wq.prototype.getData=function(){return this.a.data};wq.prototype.getData=wq.prototype.getData;function Bq(a){xq.call(this,a)}v(Bq,xq);\nBq.prototype.Af=function(a){var b=this.g,c=b.min,d=b.max,e=[],f=[],g;if(this.b){for(g=this.a;c<=d;c++){for(var h=c,k=g,l=e,m=f,n=void 0,q=n=void 0,t=void 0,u=b.eps,y=b.projection,J=b.minWeight,T=t=void 0,ea=void 0,la=t=void 0,ob=k.length,na=void 0,ia=Math.pow(2,h+8),Ja=void 0,Jb=void 0,Ja=void 0,Sd=[];n=k[--ob];)if(!n.Kf){la=y.qb(n).scale(ia).floor();q=ia;T=la.x;ea=la.y;for(na=Sd.length;na--;)Ja=Sd[na],t=Ja.getPosition(),Ja.Jf||(Ja.Jf=y.qb(t).scale(ia).floor()),t=Ja.Jf,t=t.distance(la),t<q&&(q=t,\nJb=Ja);Jb&&Jb.S().Vc(n)||(Jb=new vq(y.Fc({x:(T-u)/ia,y:(ea-u)/ia}),y.Fc({x:(T+u)/ia,y:(ea+u)/ia}),h),Sd.push(Jb));Jb.Qc(n);Jb=null}for(ob=Sd.length;ob--;)if(Ja=Sd[ob],n=Ja.Db(),n<J)for(Ja=Ja.Ge(),na=Ja.length;n=Ja[--na];)m.push(new wq(n,h)),n.Kf=!0;else l.push(Ja)}c=0;for(d=g.length;c<d;c++)delete g[c].Kf;this.b=!1;a({clusters:e,noisePoints:f})}return zq};function Cq(a){this.a=a;a=document.createElement(\"canvas\");var b=a.getContext(\"2d\"),c=a.width=a.height=14*this.a;b.beginPath();b.strokeStyle=\"#FFFFFF\";b.fillStyle=\"#1080DD\";b.arc(c/2,c/2,6*this.a,0,2*Math.PI,!1);b.fill();b.lineWidth=1;b.stroke();this.i=new ri(a,{size:{w:c,h:c},anchor:{x:c/2,y:c/2}});this.b={};this.c={}}r(\"H.clustering.theme.Circular\",Cq);\nfunction Dq(a,b,c){var d,e,f=document.createElement(\"canvas\"),g=f.getContext(\"2d\");b*=a.a;d=b+\":\"+c;f.width=f.height=b;(e=a.b[d])?g.putImageData(e,0,0):(e=b/2,g.beginPath(),g.strokeStyle=\"rgba(\"+c+\",0.2)\",g.fillStyle=\"rgba(\"+c+\",1)\",g.arc(e,e,e/5*3,0,2*Math.PI,!1),g.fill(),g.lineWidth=e/5*4,g.stroke(),a.b[d]=g.getImageData(0,0,b,b));return f}\nCq.prototype.f=function(a){var b,c,d=a.Db(),e,f,g;b=this.c[d];b||(10>d?(b=Dq(this,28,\"118,209,0\"),e={x:11,y:18}):25>d?(b=Dq(this,38,\"255,105,0\"),e={x:13,y:23}):50>d?(b=Dq(this,38,\"240,60,0\"),e={x:13,y:23}):100>d?(b=Dq(this,38,\"181,0,21\"),e={x:13,y:23}):1E3>d?(b=Dq(this,48,\"181,0,21\"),e={x:15,y:28}):(b=Dq(this,66,\"181,0,21\"),e={x:20,y:38}),c=e,e=b.width,f=b.getContext(\"2d\"),f.fillStyle=\"#FFFFFF\",g=11*this.a,f.font=\"bold \"+g+\"px Arial\",g=c.x*this.a,c=c.y*this.a,f.fillText(d,g,c),b=new ri(b,{anchor:{x:e/\n2,y:e/2}}),this.c[d]=b);d=new xi(a.getPosition(),{icon:b,min:a.f(),max:a.o()});d.g(a);return d};Cq.prototype.getClusterPresentation=Cq.prototype.f;Cq.prototype.g=function(a){var b=new xi(a.getPosition(),{icon:this.i,min:a.f()});b.g(a);return b};Cq.prototype.getNoisePresentation=Cq.prototype.g;function Eq(a){xq.call(this,a);a=this.g;if(a.projection!==ih)throw new C(Eq,0,\"Other projection than mercator not supported yet\");this.j=a.projection;this.f=a.eps;this.s=a.minWeight;this.o=new jh(this.j);(new Lh).md(\"cluster\",\"H.clustering.dynamicgrid.worker\");this.i=z(this.i,this);this.l=z(this.l,this)}v(Eq,xq);Eq.prototype.bh=function(a,b){this.m=a;this.v=nb(b)};\nEq.prototype.Af=function(a,b){var c,d,e,f;c=this.c;var g=this.m,h=this.v||0;d=!c||!(c.zoom===h&&c.b.pa(g));var k=zq;if(g&&(this.b||d)){c&&3>c.state&&c.cancel();this.b=!1;c=this.f;var l;c>=128*ub(2,h)?f=Fq:(d=this.o,d.Ja(h),e=d.geoToPixel(g.tb()),f=d.geoToPixel(g.rb()),e.y-=c,f.y+=c,e=d.a(e),l=d.a(f),f=new G(e.lat,e.lng,l.lat,l.lng),c=d.Aa(c,0).lng+180,f=f.a(e.lat,e.lng-c,l.lat,e.lng).a(e.lat,l.lng,l.lat,l.lng+c));c=f;e=this.a;f=[];for(d=e.length;d--;)c.Vc(e[d])&&f.push(e[d]);0<f.length?(this.c=new Gq(g,\nh,f,this.f,this.s,this.j!==ih,a,b),this.c.then(this.i,this.l),k=this.c):a(Aq)}return k};Eq.prototype.i=function(a){qa(a)||(a=new w.Uint32Array(a));this.c.g(Hq(this,a))};Eq.prototype.l=function(a){ra(a)&&this.c.f(a)};var Fq=new G(90,-180,-90,180);\nfunction Hq(a,b){for(var c=0,d=b[c++],e=Array(d),f=0,g=[],h=b.length,k=a.c.a,l=a.c.zoom;d--;)e[f++]=new wq(k[b[c++]],l);for(;c<h;){var d=b[c++],f=k[b[c]],m=a.o,n=void 0,q=a.f,t=void 0,n=void 0;m.Ja(a.c.zoom);n=m.geoToPixel(f);t=m.Aa(n.x-q,n.y-q);n=m.Aa(n.x+q,n.y+q);f=new G(t.lat,t.lng,n.lat,n.lng);for(f=new vq(f.tb(),f.rb(),l);d--;)f.Qc(k[b[c++]]);g.push(f)}return{clusters:g,noisePoints:e}}Eq.prototype.D=function(){Eq.u.D.call(this)};\nfunction Gq(a,b,c,d,e,f,g,h){this.b=a;this.zoom=b;this.a=c;this.g=g;this.f=h;a=c.length;g=3*a;h=new (w.Float64Array||Array)(g);for(var k;a--;)k=c[a],h[--g]=k.lat,h[--g]=k.lng,h[--g]=k.wt;td.call(this,\"cluster\",{message:[h,d,e,b,f]},void 0)}v(Gq,Nh);function Iq(a,b,c){this.b=a;this.a=b;this.g=c}r(\"H.clustering.fastgrid.NoisePoint\",Iq);Iq.prototype.getPosition=function(){this.c||(this.c=this.b.Aa(this.a[1],this.a[0],1));return this.c};Iq.prototype.getPosition=Iq.prototype.getPosition;Iq.prototype.Db=function(){return this.a.a};Iq.prototype.getWeight=Iq.prototype.Db;Iq.prototype.l=Ce;Iq.prototype.isCluster=Iq.prototype.l;Iq.prototype.f=function(){return this.g-this.b.c};Iq.prototype.getMinZoom=Iq.prototype.f;Iq.prototype.getData=function(){return this.a.data};\nIq.prototype.getData=Iq.prototype.getData;function Jq(a,b,c,d){this.g=a;this.b=b;this.B=c;this.F=d;this.v=ya(this.v,this);this.m=ya(this.m,this)}r(\"H.clustering.fastgrid.Cluster\",Jq);Jq.prototype.getPosition=function(){this.c||(this.c=this.g.Aa(this.b.Tc,this.b.Uc,this.b.gb));return this.c};Jq.prototype.getPosition=Jq.prototype.getPosition;Jq.prototype.Db=function(){return this.b.gb};Jq.prototype.getWeight=Jq.prototype.Db;Jq.prototype.l=Be;Jq.prototype.isCluster=Jq.prototype.l;\nJq.prototype.f=function(){return this.B?this.B-this.g.c:-1/0};Jq.prototype.getMinZoom=Jq.prototype.f;Jq.prototype.o=function(){return this.F-this.g.c};Jq.prototype.getMaxZoom=Jq.prototype.o;Jq.prototype.S=function(){this.a||(this.a=Xe(this.g.Aa(this.b.a,this.b.f,1),this.g.Aa(this.b.b,this.b.c,1),!0));return this.a};Jq.prototype.getBounds=Jq.prototype.S;Jq.prototype.j=function(a){this.s=a;Kq(this.b,this.v)};Jq.prototype.forEachEntry=Jq.prototype.j;\nJq.prototype.v=function(a,b){var c=!1,d,e,f;a.gb>=this.g.j&&a!==this.b&&a.gb!==this.b.gb&&(this.s(new Jq(this.g,a,0,b)),c=!0);if(!c&&(d=a.entries))for(e=d.length,f=0;f<e;f++)this.s(new Iq(this.g,d[f],b));return c};Jq.prototype.i=function(a){this.A=a;Kq(this.b,this.m)};Jq.prototype.forEachDataPoint=Jq.prototype.i;Jq.prototype.m=function(a,b){var c,d,e;if(c=a.entries)for(d=c.length,e=0;e<d;e++)this.A(new Iq(this.g,c[e],b));return!1};function Lq(a,b,c,d,e,f){this.i=b;a&&(this.g=a,b&1?(c=a[8],e=a[5]):(c=a[7],e=a[8]),b&2?(d=a[9],f=a[6]):(d=a[4],f=a[9]));this[7]=c;this[5]=e;this[8]=(c+e)/2;this[4]=d;this[6]=f;this[9]=(d+f)/2}p=Lq.prototype;p.pc=0;function Mq(a,b){return a[b]||(++a.pc,a[b]=new Lq(a,b))}p.removeChild=function(a){var b=a.i;this[b]===a&&(delete this[b],delete a.g,--this.pc)};function Kq(a,b){for(var c=0,d=a;d=d.g;)++c;Nq(a,b,Lb,c)}\nfunction Nq(a,b,c,d){var e,f;if(!b(a,d)&&c--)for(++d,e=0;4>e;e++)(f=a[e])&&Nq(f,b,c,d)}p.Tc=0;p.Uc=0;p.gb=0;function Oq(a){this.b=a||10;this.a=null;Pq(this)}function Pq(a){a.head=a.a=new Lq(null,NaN,0,0,4294967296,4294967296)}function Qq(a,b){var c,d;for(c=0;4>c;c++)if(d=b[c])Qq(a,d),delete b[c];delete b.g;delete b.entries}function Rq(a,b){var c=a.head,d,e;if(b){if(d=b,d!==c)for(c=d;d=d.g;)if(d.entries||1<d.pc)c=d}else for(;!c.entries&&2>(e=c.pc);)if(e)c=d;else break;a.head=c}\nfunction Sq(a,b,c,d,e,f,g){var h;h=b.entries;var k;f?b.pc?h=Sq(a,Mq(b,c>=b[8]|(d>=b[9])<<1),c,d,e,f-1,g):h?(h=h[0],k=Mq(b,h[1]>=b[8]|(h[0]>=b[9])<<1),k.entries=b.entries,k.Tc=b.Tc,k.Uc=b.Uc,k.gb=b.gb,k.a=b.a,k.f=b.f,k.b=b.b,k.c=b.c,delete b.entries,h.node=k,Rq(a,k),h=Sq(a,Mq(b,c>=b[8]|(d>=b[9])<<1),c,d,e,f-1,g)):(f=h=new Tq(c,d,e,g),(b.entries||(b.entries=[])).push(f),Rq(a,b)):(h||Rq(a,b),a=h=new Tq(c,d,e,g),(b.entries||(b.entries=[])).push(a));b.Tc+=c*e;b.Uc+=d*e;b.gb+=e;b.a===A?(b.a=b.b=c,b.f=b.c=\nd):(c<b.a?b.a=c:c>b.b&&(b.b=c),d<b.f?b.f=d:d>b.c&&(b.c=d));return h}function Tq(a,b,c,d){this[0]=b;this[1]=a;this.a=c;this.data=d};function Uq(a){xq.call(this,a);a=this.g;this.l=a.projection;this.o=a.min;this.f=a.max;this.j=a.minWeight;this.c=7-nb(sb(mb(1,a.eps))/Cb);this.i=new Oq(mb(this.o,this.f+this.c))}v(Uq,xq);p=Uq.prototype;\np.gc=function(a){var b=0,c=a.length,d,e=new M(0,0),f=this.l,g=this.i;Uq.u.gc.call(this,a);Qq(g,g.a);for(Pq(g);b<c;b++){f.qb(d=a[b],e).scale(4294967296).floor();var h=e.x,k=e.y,l=g.a;if(!(h>=l[7]&&k>=l[4]&&h<=l[5]&&k<=l[6]))throw Error(\"Coordinates out of bounds\");Sq(g,g.a,h,k,d.wt,g.b,d.data)}this.b=!0};p.eb=function(a){Uq.u.eb.call(this,a);this.gc(this.a)};p.vg=function(a){for(var b=a.length,c=Uq.u.eb;b--;)c.call(this,a[b]);this.gc(this.a)};p.Oe=function(a){Uq.u.Oe.call(this,a);this.gc(this.a)};\np.Aa=function(a,b,c,d){return this.l.Aa(a/c/4294967296,b/c/4294967296,d)};p.Af=function(a){var b;this.b&&(b={clusters:[],noisePoints:[]},Vq(this,this.i.a,0,this.f+this.c,-1/0,b,null),this.b=!1,a(b));return zq};function Vq(a,b,c,d,e,f,g){var h=b.gb,k;g&&(g.node.gb!==h?(f.clusters.push(new Jq(a,g.node,g.depth,c-1)),g=null):e++);g||(h>=a.j?(g={node:b,depth:c},e=c):Wq(a,b,e+1,f));if(b.pc&&d--)for(c++,h=0;4>h;h++)if(k=b[h])Vq(a,k,c,d,e,f,g),g=null;g&&f.clusters.push(new Jq(a,g.node,g.depth,a.f+a.c))}\nfunction Wq(a,b,c,d){b=b.entries;var e,f;if(b)for(e=b.length,d=d.noisePoints,f=0;f<e;f++)d.push(new Iq(a,b[f],c));else for(f=0;4>f;f++)(e=a[f])&&Wq(a,e,c,d)}p.D=function(){Uq.u.D.call(this);this.i=null};function Xq(a,b,c,d){this.lat=a;this.lng=b;this.wt=c===+c?c:1;this.data=d}r(\"H.clustering.DataPoint\",Xq);Xq.prototype.lat=NaN;Xq.prototype.lng=NaN;function W(a,b){var c=b||{},d={},e=c.min||0,f=mb(e,c.max||22),g={min:e,max:f};this.min=e;this.max=f;W.u.constructor.call(this);this.B=c.pixelRatio||1;this.f=new L(g);this.f.ia(this);this.g=this.f.f;Ca(d,yq,g,c.clusteringOptions||{});d.minWeight=mb(yq.minWeight,d.minWeight);switch(d.strategy){case Yq.DYNAMICGRID:if(d.projection!==ih)throw new C(W,1,\"Unsupported projection\");this.a=new Eq(d);break;case Yq.GRID:this.a=new Bq(d);break;default:this.a=new Uq(d)}this.a.gc(a);this.i=c.theme||new Cq(this.B);\nthis.j=z(this.j,this);this.v=z(this.v,this);Zq(this)}v(W,I);r(\"H.clustering.Provider\",W);W.prototype.D=function(){W.u.D.call(this);this.g.Ea();this.f=null;this.a.J();this.i=this.l=this.a=null;w.clearTimeout(this.o)};var Yq={FASTGRID:0,GRID:1,DYNAMICGRID:2};W.Strategy=Yq;W.prototype.j=function(){this.dispatchEvent(this.m.rh);this.a.Af(this.v,sc)};function Zq(a,b,c){a.o&&w.clearTimeout(a.o);b&&a.a.bh(b,c);a.o=w.setTimeout(a.j,150)}\nW.prototype.v=function(a){this.dispatchEvent(this.m.qh);this.l=a;$q(this)};W.prototype.U=function(a){this.a.gc(a);Zq(this)};W.prototype.setDataPoints=W.prototype.U;W.prototype.eb=function(a){this.a.eb(a);Zq(this)};W.prototype.addDataPoint=W.prototype.eb;W.prototype.A=function(a){this.a.vg(a);Zq(this)};W.prototype.addDataPoints=W.prototype.A;W.prototype.P=function(a){this.a.Oe(a);Zq(this)};W.prototype.removeDataPoint=W.prototype.P;W.prototype.s=function(){return this.i};W.prototype.getTheme=W.prototype.s;\nW.prototype.ba=function(a){this.i=a;this.l&&(this.g.Ea(),$q(this))};W.prototype.setTheme=W.prototype.ba;function $q(a){var b=a.l.clusters,c=a.l.noisePoints,d,e=b.length,f=c.length,g=0<e+f;for(a.g.Ea();e--;)d=b[e],a.g.V(a.i.getClusterPresentation(d));for(;f--;)b=c[f],a.g.V(a.i.getNoisePresentation(b));g&&a.dispatchEvent(a.m.la)}W.prototype.m={la:\"update\",rh:\"start\",qh:\"end\"};W.prototype.N=function(){return!0};W.prototype.providesDomMarkers=W.prototype.N;\nW.prototype.b=function(a,b,c,d){Zq(this,a,b);return this.f.b(a,b,c,d)};W.prototype.requestDomMarkers=W.prototype.b;W.prototype.K=function(){return!0};W.prototype.providesMarkers=W.prototype.K;W.prototype.c=function(a,b,c,d){Zq(this,a,b);return this.f.c(a,b,c,d)};W.prototype.requestMarkers=W.prototype.c;W.prototype.I=function(){return!0};W.prototype.providesSpatials=W.prototype.I;W.prototype.T=function(a,b,c,d){Zq(this,a,b);return this.f.m(a,b,c,d)};W.prototype.requestSpatials=W.prototype.T;\nW.prototype.O=function(a,b,c){return this.f.g(a,b,c)};W.prototype.requestSpatialsByTile=W.prototype.O;W.prototype.F=function(){return this.f.N()};W.prototype.getInvalidations=W.prototype.F;W.prototype.C=function(a,b){this.f.o(a,b)};W.prototype.invalidateObject=W.prototype.C;W.prototype.Ia=function(){return null};W.prototype.getCopyrights=W.prototype.Ia;r(\"H.clustering.buildInfo\",function(){return Bh(\"mapsjs-clustering\",\"0.17.0\",\"b369779\")});\n");