!function(){var p,aa=[];function ba(a){return function(){return aa[a].apply(this,arguments)}}function ca(a,b){return aa[a]=b}var da=da||{},fa=this;function ga(a){return void 0!==a}function ha(a,b,c){a=a.split("."),c=c||fa,a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&ga(b)?c[d]=b:c=c[d]?c[d]:c[d]={}}function ja(a){a=a.split(".");for(var c,b=fa;c=a.shift();){if(null==b[c])return null;b=b[c]}return b}function ka(){}function ma(){throw Error("unimplemented abstract method")}function oa(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&void 0!==a.splice&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||void 0!==a.call&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&void 0===a.call)return"object";return b}function pa(a){return"array"==oa(a)}function qa(a){var b=oa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ra(a){return"string"==typeof a}function sa(a){return"function"==oa(a)}function ta(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var ua="closure_uid_"+(1e9*Math.random()>>>0),va=0;function wa(a,b,c){return a.call.apply(a.bind,arguments)}function xa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function ya(a,b,c){return(ya=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wa:xa).apply(null,arguments)}function za(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();return b.push.apply(b,arguments),a.apply(this,b)}}var Aa=Date.now||function(){return+new Date};function r(a,b){ha(a,b,void 0)}function v(a,b){function c(){}c.prototype=b.prototype,a.u=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.Si=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}}var Ba="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ca(a,b){for(var c,d,e=1;e<arguments.length;e++){for(c in d=arguments[e])a[c]=d[c];for(var f=0;f<Ba.length;f++)c=Ba[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}var w=function(){return this}();function Da(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Da);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}v(Da,Error),Da.prototype.name="CustomError";var Ea=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function Fa(a,b){return a<b?-1:a>b?1:0}var Ga=Array.prototype,Ha=Ga.indexOf?function(a,b,c){return Ga.indexOf.call(a,b,c)}:function(a,b,c){if(c=null==c?0:0>c?Math.max(0,a.length+c):c,ra(a))return ra(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ia=Ga.forEach?function(a,b,c){Ga.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=ra(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};function Ka(){return Object.create(x,void 0)}var z=ya,La=String;function Ma(a){return eval(""+a)}var Na=w.Object.freeze||function(a){return a};function Oa(a){for(var d,b=Object.keys(a),c=b.length;c--;)d=a[b[c]],Pa(d)&&Oa(d);return Na(a)}function Qa(a){var c,b={};for(c in a)b[c]=a[c];return b}var A=Ma(),x=Ma(null);function Ra(a,b){return La(a).split(b!==A?b:" ")}var Sa="prototype constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(a,b,c,d,e){if(!(b=a instanceof b)&&c)throw new C(c,d,Ta(e)?e:a);return b}function Ua(a,b){if(!0===(B(a,b)&&a.constructor===b))throw new TypeError("Illegal constructor "+Va(b))}var Pa=ta;function Wa(a){for(var b in a)return!1;return!0}function Xa(a,b,c,d,e){if(!(b=Ya(a)===b)&&c)throw new C(c,d,Ta(e)?e:a);return b}function Za(a,b,c,d){return Xa(a,"Array",b,c,d)}function Ta(a){return a!==A}r("H.lang.isObject",Pa),r("H.lang.isEmptyObject",Wa),r("H.lang.isArray",Za),r("H.lang.isString",ra);var $a=parseFloat,D=isNaN;function ab(a){return a===+a}function bb(a){return!D(+a)}function Ya(a){var b=Object[Sa[0]][Sa[6]].call(a).match(/^\[object (\w+)\]$/);return b?b[1]:typeof a}function Va(a,b,c,d){var e="",f=2>arguments.length;return f&&(b={H:w.H},c="",d=[]),cb(b,!0,function(b,f){try{var l,k=b[f];if(f=db(b,k),(l=!(Pa(k)&&k.window===k&&k.self===k))&&(l=!(Pa(k)&&0<k.nodeType&&sa(k.cloneNode))),l&&Pa(k)){if(k===a)return e=c+"."+f,!0;if(0>d.indexOf(k)&&(d.push(k),e=Va(a,k,c+"."+f,d)))return!0}}catch(m){}}),f&&(e=e?e.substr(1).replace("."+Sa[0]+".","#"):"~"+(sa(a)?eb(a)+"()":Ya(a))),e}function db(a,b){var c=[];return cb(a,!1,function(a,e){a[e]===b&&c.push(e)}),c.sort(fb)[0]}function fb(a,b){return b.length-a.length}r("H.lang.isNumber",ab);var gb=Object[Sa[0]][Sa[2]];function cb(a,b,c){var d,e;if(a){for(d in a)if((!b||gb.call(a,d))&&c(a,d,!0))return;for(e=Sa.length;e--&&(d=Sa[e],b&&!gb.call(a,d)||!c(a,d,!1)););}}function eb(a){return(a=/^\s*function ([^\( ]+)/.exec(a))?a[1]:"anonymous"}function hb(a,b,c){c[b]="#"+b}var ib="[object Undefined]"!=={}.toString.call(void 0);function jb(a,b){var d,c=w.console;!ib&&c&&c.warn&&(d=Va(a)+" is deprecated and will be removed soon. ",b&&(d+=b),c.warn(d))}function C(a,b,c){var e,d=arguments.length;b=1<d?+b:b,d=2<d?La(c):"",b!==A&&((e=(e=/^.*?\(([^\)]+)/.exec((""+a).replace(/(\/\*([\s\S]*?)\*\/)|(\/\/(.*)$)/gm,"")))?Ra(e[1].replace(/\s+/g,""),","):[]).forEach(hb),e=e[b]||"#"+b),this.message=(a?Va(a):"")+(e||d?" (":"")+(e?"Argument "+e:"")+(d?(e?" ":"")+d:"")+(e||d?")":""),this.stack=Error().stack}r("H.lang.InvalidArgumentError",C),C.prototype=Error(),C.prototype.name="InvalidArgumentError";var kb=Math,lb=kb.min,mb=kb.max,nb=kb.round,pb=kb.floor,qb=kb.ceil,rb=kb.abs,sb=kb.log,tb=kb.sqrt,ub=kb.pow,vb=kb.exp,wb=kb.sin,xb=kb.asin,yb=kb.cos,zb=kb.tan,Ab=kb.atan,Bb=kb.atan2,Cb=kb.LN2,Db=kb.PI,Eb=Db/2,Fb=Db/4,Gb=2*Db,Hb=3*Db,Ib=Db/180,Kb=180/Db,Lb=1/0,Mb=ub(-2,53),Nb=Nb||function(a){return sb(a)/Cb};function Ob(a,b){var c;return 0>(c=a%b)==0>b?c:c+b}function Pb(a,b,c){return b-=c=c||0,(a-=c)-pb(a/b)*b+c}function Qb(a,b,c){return(a-=0)>c?c:a<b?b:a}function Rb(a,b,c,d){return(d-=0)||(d=0),b<c?a>=b-d&&a<=c+d:a>=c-d&&a<=b+d}function Sb(a,b,c,d,e,f){return tb(ub((a-e)*(d-f)-(b-f)*(c-e),2)/(ub(c-e,2)+ub(d-f,2)))}r("H.math.normalize",Pb),r("H.math.clamp",Qb);var Tb={NONE:0,Ri:1,Li:2,Qi:3};function Ub(a,b,c,d,e){for(var h,k,l,f=c.length,g=f,m=c[0],n=0,q=0,t=0,u=d/2||0,y=e?1:3;1!=n&&g>y;)h=c[--g],d=c[--g],l=c[g?g-1:(f+(g-1))%f],k=c[g?g-2:(f+(g-2))%f],d>=a-u&&d<=a+u&&h>=b-u&&h<=b+u||k>=a-u&&k<=a+u&&l>=b-u&&l<=b+u?n=1:n||d!==a?!n&&Rb(a,d,k,u)&&((d<a&&k>a||d>a&&k<a)&&(q+=(m=h+(a-d)/(k-d)*(l-h))>b,t+=m<b),n=Rb(b,h,l,u)&&Sb(a,b,d,h,k,l)<=u?2:0):(k===a&&(h<b&&l>b||h>b&&l<b)||(m<=a&&k>a||m>=a&&k<a)&&(h>=b?++q:++t),n=Rb(b,h,l,u)&&Sb(a,b,d,h,k,l)<=u?2:0),m=d;return!n&&e&&0!==t&&0!=q%2&&(n=3),n}var Vb={undefined:"GL",GL:"GL",OL:"OL",SL:"SL",SB:"SB",WE:"WE",WG:"WG"};function Wb(a,b,c){var d=Qb(+a,-90,90);if(b&&D(d))throw new C(b,c,a);return d}function Xb(a,b,c){var d=+a;if((-180>d||180<d)&&(d=Ob(d+180,360)-180),b&&D(d))throw new C(b,c,a);return d}function Yb(a,b,c){var d;if(a!==A&&D(d=+a)&&b)throw new C(b,c,a);return d}function Zb(a,b,c){var d=!Vb[a];if(b&&d)throw new C(b,c,a);return!d}function $b(a){return!(!a||D(a.lat)||D(a.lng))}function ac(a,b){return 0!=(0>a^0>b)&&180<rb(b-a)}function bc(){Ua(this,bc)}function E(a,b){var c;if(E.u.constructor.call(this),B(a,F,E,0),b!==A&&Za(b,E,1)){for(c=0;c<b.length;c++)B(b[c],F,E,1,"index "+c);this.lb=b}else this.lb=[];this.$a=a,this.a=[]}r("H.geo.AltitudeContext",Vb),r("H.geo.isDBC",ac),r("H.geo.AbstractGeometry",bc),bc.prototype.getBounds=bc.prototype.S,bc.prototype.equals=bc.prototype.pa,bc.prototype.toString=function(){return this.Lb([this.qd," "]).join("")},bc.prototype.toString=bc.prototype.toString,v(E,bc),r("H.geo.Polygon",E);var cc={NORTH:90,SOUTH:-90},jc,mc,nc;function dc(a,b){var c,d,e;return(e=a.S())&&((c=a.l(!0))&&(d=a.f())&&(e=e.wb(fc([a.g(0),a.g(d-1)],!0),!0)),360===e.ab()&&1==c%2&&(e=e.b(b,0))),e}function gc(a,b,c,d){this.lat=Wb(a,gc,0),this.lng=Xb(b,gc,1),c!==A&&(this.alt=Yb(c,gc,2)),d!==A&&Zb(d,gc,3)&&(this.ctx=d)}function hc(a,b,c){var d=!!a&&!(D(a.lat=Wb(a.lat))||D(a.lng=Xb(a.lng))||a.alt!==A&&D(a.alt=Yb(a.alt))||a.ctx!==A&&!Zb(a.ctx));if(!d&&b)throw new C(b,c,a);return d}function ic(a){if(!a)throw new C(ic,0,a);return new gc(a.lat,a.lng,a.alt,a.ctx)}function kc(a,b){var c=[];a&&c.push(Va(a)),1<arguments.length&&c.push(b),this.message=c.join(" "),this.stack=Error().stack}function lc(a){if(!ra(a))throw new C(this.constructor,0);if(this.g=w.indexedDB||w.webkitIndexedDB||w.mozIndexedDB||w.msIndexedDB,!this.g)throw new kc(this.constructor,"This browser does not support IndexedDB");this.l=a,this.a=[],this.c=[],this.pf=z(this.pf,this)}function tc(a,b,c){var d;a.b?a.a?(a.a.push(b),c&&a.c.push(c)):a.f?c&&c(a.f):b(a.b.result):(a.b=a.g.open(uc+a.l,1),a.b.onupgradeneeded=a.pf,d=a.b.onerror=function(){clearTimeout(a.i),a.f=this.error,a.c.forEach(function(b){b(a.f)}),a.a=a.c=null},a.i=setTimeout(function(){d.call({error:Error("DbOpenTimeoutError")})},500),a.b.onsuccess=function(){clearTimeout(a.i),a.a?(a.a.forEach(function(a){a(this.result)},this),a.a=a.c=null):(a.b=a.f=null,a.a=[],a.c=[])},a.a.push(b),c&&a.c.push(c))}function qc(a,b,c){tc(a,function(c){c=c.transaction(["data"],a.Gh),b(c.objectStore("data"))},c)}function rc(a,b,c){b&&(a.onsuccess=function(){b(this.result)}),c&&(a.onerror=function(){c(this.error)})}function pc(a){var b=Object.prototype.toString.call(a);return"[object Blob]"===b||"[object ArrayBuffer]"===b||ra(a)||Pa(a)}function oc(a){return ra(a)||ab(a)}function vc(){return mc||(mc=new lc("STATIC_DB")),mc}E.Direction=cc,E.prototype.hc=cc.NORTH,E.prototype.i=function(a){return this.hc!==a&&(this.c=x,this.a.length=0,this.hc=a),this},E.prototype.setPoleCovering=E.prototype.i,E.prototype.o=function(){return this.hc},E.prototype.getPoleCovering=E.prototype.o,E.prototype.l=function(){return this.$a},E.prototype.getExterior=E.prototype.l,E.prototype.g=function(a){if(!B(a,F))throw new C(this.g,0,a);this.$a=a,this.c=x},E.prototype.setExterior=E.prototype.g,E.prototype.j=function(){return this.lb},E.prototype.getInteriors=E.prototype.j,E.prototype.b=function(a,b,c){var e,f,d=arguments.length;for(e=2;e<d;e++)B(arguments[e],F,this.b,e);for(f=this.lb.splice.apply(this.lb,arguments),e=2;e<d;e++)arguments[e]=A;return this.a.splice.apply(this.a,arguments),f},E.prototype.spliceInteriors=E.prototype.b,E.prototype.v=function(a){return this.b(a,1)[0]},E.prototype.removeInteriorAt=E.prototype.v,E.prototype.m=function(a){return 0>(a=this.lb.indexOf(a))?A:this.b(a,1)[0]},E.prototype.removeInterior=E.prototype.m,E.prototype.f=function(a){if(!B(a,F))throw new C(this.f,0,a);this.lb.push(a)},E.prototype.pushInterior=E.prototype.f,E.prototype.S=function(){var a=this.c;return a||(this.c=a=dc(this.$a,this.hc)),a},E.prototype.getBounds=E.prototype.S,p=E.prototype,p.ig=function(a){var b=this.lb.length;if(0>a||a>=b)throw new ec(this.ig,a,[0,b-1]);return(b=this.a[a])||(this.a[a]=b=dc(this.lb[a],this.hc)),b},p.$a=x,p.lb=[],p.qd="POLYGON",p.Lb=function(a){var d,b=this.lb,c=b.length;if(this.$a.f()){for(a.push("("),this.$a.Lb(a),d=0;d<c;d++)b[d].f()&&(a.push(","),b[d].Lb(a));a.push(")")}else a.push("EMPTY");return a},v(gc,bc),r("H.geo.Point",gc),gc.prototype.pa=function(a){return this===a||!!a&&this.lat===a.lat&&this.lng===a.lng&&Vb[this.ctx]===Vb[a.ctx]&&(this.alt||0)===(a.alt||0)},gc.prototype.equals=gc.prototype.pa,gc.prototype.distance=function(a){var b,c;return this===a||this.lat===a.lat&&this.lng===a.lng?a=0:(b=this.lat*Ib,c=a.lat*Ib,a=12742001.58*xb(lb(1,tb(ub(wb((b-c)/2),2)+yb(b)*yb(c)*ub(wb((this.lng*Ib-a.lng*Ib)/2),2))))),a},gc.prototype.distance=gc.prototype.distance,gc.prototype.Gf=function(a,b,c){var d,e,f,g,h,k;if(c){if(b/=6371000.79){a*=Ib,d=Ib*this.lat,f=wb(d),g=wb(b),h=yb(b),e=Ib*this.lng;var l=yb(d);d=xb(l*yb(a)*g+f*h),l=((e+(a=Bb(wb(a)*l*g,h-f*wb(d)))+Db)%(2*Db)-Db)*Kb}return b?new gc(d*Kb,(l+540)%360-180):this}return 0==((a=(a%360+360)%360)+90)%180?(d=this.lng+b/(6371000.79*Gb*yb(this.lat*Ib))*(270===a?-360:360),new gc(this.lat,(d+540)%360-180)):((b/=6371000.79)&&(a*=Ib,e=this.lat*Ib,f=this.lng*Ib,h=(g=e+b*yb(a))-e,d=sb(zb(g/2+Fb)/zb(e/2+Fb)),d=D(h/d)?yb(e):h/d,k=b*wb(a)/d,rb(g)>Eb&&(g=0<g?Db-g:-(Db+g))),b?new gc(g*Kb,((f+k+Hb+(rb(e+h)>Eb?Db:0))%Gb-Db)*Kb):this)},gc.prototype.walk=gc.prototype.Gf,gc.prototype.S=function(){return new G(this.lat,this.lng,this.lat,this.lng)},gc.prototype.getBounds=gc.prototype.S,gc.validate=hc,gc.fromIPoint=ic,gc.prototype.qd="POINT",gc.prototype.Lb=function(a){return a.push("(",this.lng," ",this.lat,")"),a},v(kc,Error),r("H.lang.IllegalOperationError",kc),kc.prototype=Error(),kc.prototype.name="IllegalOperationError",r("H.util.IndexedDBStorage",lc),p=lc.prototype,p.gd=function(a,b,c,d){if(!oc(a))throw new C(this.gd,0);if(!pc(b))throw new C(this.gd,1);qc(this,function(e){rc(e.put(b,a),c,d)},d)},p.get=function(a,b,c){var d;if(!oc(a))throw new C(this.get,0);if(!sa(b))throw new C(this.get,1);return qc(this,function(e){rc(d=e.get(a),b,c)},c),{cancel:function(){d&&(d.onsuccess=sc)}}},p.remove=function(a,b,c){if(!oc(a))throw new C(this.remove,0);qc(this,function(d){rc(d.delete(a),b,c)},c)},p.clear=function(a,b){qc(this,function(c){rc(c.clear(),a,b)},b)},p.Gh=w.IDBTransaction&&w.IDBTransaction.READ_WRITE||"readwrite",p.pf=function(){var a=this.b.result;a.objectStoreNames.contains("data")||a.createObjectStore("data")},lc.getInstance=vc;var uc="H_";function wc(){var a,b,c;if(!Ta(nc))if("file:"===window.location.protocol&&-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&128<=window.location.href.length)nc=!1;else{a=w.indexedDB||w.webkitIndexedDB||w.mozIndexedDB||w.msIndexedDB,c=uc+"TEST_DB";try{b=a&&a.open(c,1)}catch(d){}nc=!!b&&null===b.onupgradeneeded,b&&a.deleteDatabase&&a.deleteDatabase(c)}return nc}function xc(){0!=yc&&(zc[this[ua]||(this[ua]=++va)]=this),this.pb=this.pb,this.Ta=this.Ta}lc.isSupported=wc;var yc=0,zc={};function Ac(a){a&&"function"==typeof a.J&&a.J()}function Bc(a,b){this.type=a,this.currentTarget=this.target=b,this.a=!1,this.ah=!0}function Cc(a,b,c){Cc.u.constructor.call(this,a,c),this.data=b}function Dc(a,b,c){Dc.u.constructor.call(this,a,c),this.message=b}function Ec(a,b,c){this.g=c,this.c=a,this.f=b,this.b=0,this.a=null}function Fc(a,b){a.f(b),a.b<a.g&&(a.b++,b.next=a.a,a.a=b)}function Gc(){this.b=this.a=null}xc.prototype.pb=!1,xc.prototype.J=function(){if(!this.pb&&(this.pb=!0,this.D(),0!=yc)){var a=this[ua]||(this[ua]=++va);delete zc[a]}},xc.prototype.Eb=function(a,b){this.pb?a.call(b):(this.Ta||(this.Ta=[]),this.Ta.push(ga(b)?ya(a,b):a))},xc.prototype.D=function(){if(this.Ta)for(;this.Ta.length;)this.Ta.shift()()},Bc.prototype.stopPropagation=function(){this.a=!0},Bc.prototype.preventDefault=function(){this.ah=!1},r("H.util.Event",Bc),Bc.prototype.stopPropagation=Bc.prototype.stopPropagation,Bc.prototype.stopPropagation=Bc.prototype.stopPropagation,Bc.prototype.j=1,Bc.prototype.CAPTURING_PHASE=Bc.prototype.j,Bc.prototype.i=2,Bc.prototype.AT_TARGET=Bc.prototype.i,Bc.prototype.l=3,Bc.prototype.BUBBLING_PHASE=Bc.prototype.l,Bc.prototype.o=0,Bc.prototype.eventPhase=Bc.prototype.o,v(Cc,Bc),r("H.util.DataEvent",Cc),v(Dc,Bc),r("H.util.ErrorEvent",Dc),Ec.prototype.get=function(){var a;return 0<this.b?(this.b--,a=this.a,this.a=a.next,a.next=null):a=this.c(),a};var Ic=new Ec(function(){return new Hc},function(a){a.reset()},100),Jc,Pc,Sc;function Hc(){this.next=this.b=this.a=null}Gc.prototype.add=function(a,b){var c=Ic.get();c.set(a,b),this.b?this.b.next=c:this.a=c,this.b=c},Gc.prototype.remove=function(){var a=null;return this.a&&(a=this.a,this.a=this.a.next,this.a||(this.b=null),a.next=null),a},Hc.prototype.set=function(a,b){this.a=a,this.b=b,this.next=null},Hc.prototype.reset=function(){this.next=this.b=this.a=null};a:{var Kc=fa.navigator;if(Kc){var Lc=Kc.userAgent;if(Lc){Jc=Lc;break a}}Jc=""}function Mc(){return-1!=Jc.indexOf("Edge")||-1!=Jc.indexOf("Trident")||-1!=Jc.indexOf("MSIE")}function Nc(){return-1!=Jc.indexOf("Edge")}function Oc(a){fa.setTimeout(function(){throw a},0)}function Qc(){var a=fa.MessageChannel;if(void 0===a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&-1==Jc.indexOf("Presto")&&(a=function(){(a=document.createElement("IFRAME")).style.display="none",a.src="",document.documentElement.appendChild(a);var b=a.contentWindow;(a=b.document).open(),a.write(""),a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=ya(function(a){"*"!=d&&a.origin!=d||a.data!=c||this.port1.onmessage()},this);b.addEventListener("message",a,!1),this.port1={},this.port2={postMessage:function(){b.postMessage(c,d)}}}),void 0!==a&&!Mc()){var b=new a,c={},d=c;return b.port1.onmessage=function(){if(ga(c.next)){var a=(c=c.next).$f;c.$f=null,a()}},function(a){d.next={$f:a},d=d.next,b.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null,b.parentNode.removeChild(b),b=null,a(),a=null},document.documentElement.appendChild(b)}:function(a){fa.setTimeout(a,0)}}function Rc(a,b){Sc||Tc(),Uc||(Sc(),Uc=!0),Vc.add(a,b)}function Tc(){if(fa.Promise&&fa.Promise.resolve){var a=fa.Promise.resolve();Sc=function(){a.then(Wc)}}else Sc=function(){var a=Wc;!sa(fa.setImmediate)||fa.Window&&fa.Window.prototype&&fa.Window.prototype.setImmediate==fa.setImmediate?(Pc||(Pc=Qc()),Pc(a)):fa.setImmediate(a)}}var Uc=!1,Vc=new Gc;function Wc(){for(var a=null;a=Vc.remove();){try{a.a.call(a.b)}catch(b){Oc(b)}Fc(Ic,a)}Uc=!1}function Xc(a,b){if(this.G=Yc,this.i=void 0,this.c=this.a=this.b=null,this.f=this.g=!1,a==Zc)$c(this,ad,b);else try{var c=this;a.call(b,function(a){$c(c,ad,a)},function(a){$c(c,bd,a)})}catch(d){$c(this,bd,d)}}var Yc=0,ad=2,bd=3;function cd(){this.next=this.c=this.b=this.f=this.a=null,this.g=!1}cd.prototype.reset=function(){this.c=this.b=this.f=this.a=null,this.g=!1};var dd=new Ec(function(){return new cd},function(a){a.reset()},100);function ed(a,b,c){var d=dd.get();return d.f=a,d.b=b,d.c=c,d}function Zc(){}function fd(a){return new Xc(function(b,c){c(a)})}function gd(){var a,b;return new hd(new Xc(function(c,e){a=c,b=e}),a,b)}function kd(a,b){if(a.G==Yc)if(a.b){var c=a.b;if(c.a){for(var d=0,e=null,f=null,g=c.a;g&&(g.g||(d++,g.a==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(c.G==Yc&&1==d?kd(c,b):(f?((d=f).next==c.c&&(c.c=d),d.next=d.next.next):ld(c),md(c,e,bd,b)))}a.b=null}else $c(a,bd,b)}function nd(a,b){a.a||a.G!=ad&&a.G!=bd||od(a),a.c?a.c.next=b:a.a=b,a.c=b}function id(a,b,c,d){var e=ed(null,null,null);return e.a=new Xc(function(a,g){e.f=b?function(c){try{var e=b.call(d,c);a(e)}catch(l){g(l)}}:a,e.b=c?function(b){try{var e=c.call(d,b);!ga(e)&&b instanceof jd?g(b):a(e)}catch(l){g(l)}}:g}),e.a.b=a,nd(a,e),e.a}function $c(a,b,c){if(a.G==Yc){if(a==c)b=bd,c=new TypeError("Promise cannot resolve to itself");else{var d;if(c)try{d=!!c.$goog_Thenable}catch(e){d=!1}else d=!1;if(d)return a.G=1,b=c,c=a.l,d=a.j,void(b instanceof Xc?nd(b,ed(c||ka,d||null,a)):b.then(c,d,a));if(ta(c))try{var f=c.then;if(sa(f))return void pd(a,c,f)}catch(g){b=bd,c=g}}a.i=c,a.G=b,a.b=null,od(a),b!=bd||c instanceof jd||qd(a,c)}}function pd(a,b,c){function d(b){f||(f=!0,a.j(b))}a.G=1;var f=!1;try{c.call(b,function(b){f||(f=!0,a.l(b))},d)}catch(g){d(g)}}function od(a){a.g||(a.g=!0,Rc(a.o,a))}function ld(a){var b=null;return a.a&&(b=a.a,a.a=b.next,b.next=null),a.a||(a.c=null),b}function md(a,b,c,d){if(c==bd&&b.b&&!b.g)for(;a&&a.f;a=a.b)a.f=!1;if(b.a)b.a.b=null,rd(b,c,d);else try{b.g?b.f.call(b.c):rd(b,c,d)}catch(e){sd.call(null,e)}Fc(dd,b)}function rd(a,b,c){b==ad?a.f.call(a.c,c):a.b&&a.b.call(a.c,c)}function qd(a,b){a.f=!0,Rc(function(){a.f&&sd.call(null,b)})}Xc.prototype.then=function(a,b,c){return id(this,sa(a)?a:null,sa(b)?b:null,c)},Xc.prototype.then=Xc.prototype.then,Xc.prototype.$goog_Thenable=!0,Xc.prototype.cancel=function(a){this.G==Yc&&Rc(function(){kd(this,new jd(a))},this)},Xc.prototype.l=function(a){this.G=Yc,$c(this,ad,a)},Xc.prototype.j=function(a){this.G=Yc,$c(this,bd,a)},Xc.prototype.o=function(){for(var a=null;a=ld(this);)md(this,a,this.G,this.i);this.g=!1};var sd=Oc;function jd(a){Da.call(this,a)}function hd(a,b,c){this.sf=a,this.resolve=b,this.reject=c}function td(a,b,c){this.type=a,this.data=b,this.$d=gd(),this.resolve=z(this.resolve,this),this.reject=z(this.reject,this),this.c=ud,c!==A&&(this.c=c),this.Fe().add(this)}v(jd,Da),jd.prototype.name="cancel";var ud=1,vd={Ni:0,NORMAL:ud,Mi:2};function wd(a){for(var b in this.kc={},vd)this.kc[vd[b]]=[];this.ae=a,this.ae.addEventListener("allocatable",z(this.eg,this))}td.prototype.then=function(a,b,c){return this.$d.sf.then(a,b,c)},Ca(td.prototype,{resolve:function(a){this.state=3,this.$d.resolve(a)},reject:function(a){this.state=5,this.$d.reject(a)},state:0,cancel:function(){this.$d.sf.cancel(),3>this.state&&(this.Sc(),this.Fe().remove(this),this.state=4)},Sc:ma,De:ma,Th:function(a){this.state=this.De(a)?1:5}}),r("H.util.JobManager",wd);var xd=Object.keys(vd).map(function(a){return vd[a]}).sort().reverse();function ec(a,b,c){var d=[];1<arguments.length&&d.push(b),2<arguments.length&&d.push("out of ["+c[0]+"..."+c[1]+"]"),this.message=(a?Va(a):"")+(d.length?" ("+d.join(" ")+")":""),this.stack=Error().stack}Ca(wd.prototype,{add:function(a){B(a,td,this.add,0),this.kc[a.c].push(a),this.eg()},contains:function(a){return-1<this.kc[a.c].indexOf(a)},remove:function(a){var b=a.c;return-1<(a=this.kc[b].indexOf(a))&&(this.kc[b].splice(a,1),!0)},eg:function(){xd.forEach(function(a){this.kc[a]=this.kc[a].filter(function(a){var c,d;if((c=this.ae.se(a))===x)return!0;d=z(this.ae.ye,this.ae,c,a),a.then(d,d),a.Th(c)},this)},this)}}),r("H.lang.OutOfRangeError",ec),ec.prototype=Error(),ec.prototype.name="OutOfRangeError";var yd="closure_listenable_"+(1e6*Math.random()|0);function zd(a){return!(!a||!a[yd])}var Ad=0;function Bd(a,b,c,d,e){this.listener=a,this.a=null,this.src=b,this.type=c,this.ya=!!d,this.Dd=e,this.key=++Ad,this.Hc=this.wd=!1}function Cd(a){a.Hc=!0,a.listener=null,a.a=null,a.src=null,a.Dd=null}function Dd(a){this.src=a,this.a={},this.b=0}function Fd(a,b){var c=b.type;if(!(c in a.a))return!1;var f,d=a.a[c],e=Ha(d,b);return(f=0<=e)&&Ga.splice.call(d,e,1),f&&(Cd(b),0==a.a[c].length&&(delete a.a[c],a.b--)),f}function Ed(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Hc&&f.listener==b&&f.ya==!!c&&f.Dd==d)return e}return-1}Dd.prototype.add=function(a,b,c,d,e){var f=a.toString();(a=this.a[f])||(a=this.a[f]=[],this.b++);var g=Ed(a,b,d,e);return-1<g?(b=a[g],c||(b.wd=!1)):((b=new Bd(b,this.src,f,!!d,e)).wd=c,a.push(b)),b},Dd.prototype.remove=function(a,b,c,d){if(!((a=a.toString())in this.a))return!1;var e=this.a[a];return-1<(b=Ed(e,b,c,d))&&(Cd(e[b]),Ga.splice.call(e,b,1),0==e.length&&(delete this.a[a],this.b--),!0)},Dd.prototype.Ea=function(a){a=a&&a.toString();var c,b=0;for(c in this.a)if(!a||c==a){for(var d=this.a[c],e=0;e<d.length;e++)++b,Cd(d[e]);delete this.a[c],this.b--}return b};var Gd=-1!=Jc.indexOf("Opera")||-1!=Jc.indexOf("OPR"),Hd=Mc(),Id=!(-1==Jc.indexOf("Gecko")||-1!=Jc.toLowerCase().indexOf("webkit")&&!Nc()||-1!=Jc.indexOf("Trident")||-1!=Jc.indexOf("MSIE")||Nc()),Jd=-1!=Jc.toLowerCase().indexOf("webkit")&&!Nc();function Kd(){var a=Jc;return Id?/rv\:([^\);]+)(\)|;)/.exec(a):Hd&&Nc()?/Edge\/([\d\.]+)/.exec(a):Hd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):Jd?/WebKit\/(\S+)/.exec(a):void 0}function Ld(){var a=fa.document;return a?a.documentMode:void 0}var Md=function(){if(Gd&&fa.opera)return sa(a=fa.opera.version)?a():a;var a="",b=Kd();return b&&(a=b?b[1]:""),Hd&&!Nc()&&(b=Ld())>parseFloat(a)?String(b):a}(),Nd={};function Od(a){var b;if(!(b=Nd[a])){b=0;for(var c=Ea(String(Md)).split("."),d=Ea(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",k=/(\d*)(\D*)/g,l=/(\d*)(\D*)/g;do{var m=k.exec(g)||["","",""],n=l.exec(h)||["","",""];if(0==m[0].length&&0==n[0].length)break;b=Fa(0==m[1].length?0:parseInt(m[1],10),0==n[1].length?0:parseInt(n[1],10))||Fa(0==m[2].length,0==n[2].length)||Fa(m[2],n[2])}while(0==b)}b=Nd[a]=0<=b}return b}var Pd=fa.document,Qd=Ld(),Rd=!Pd||!Hd||!Qd&&Nc()?void 0:Qd||("CSS1Compat"==Pd.compatMode?parseInt(Md,10):5),Td;(Td=!Hd)||(Td=Hd&&(Nc()||9<=Rd));var Ud=Td,Vd=Hd&&!Od("9");function Wd(a){return Wd[" "](a),a}function Xd(a,b){if(Bc.call(this,a?a.type:""),this.currentTarget=this.target=null,this.keyCode=0,this.b=this.state=null,a){this.type=a.type,this.target=a.target||a.srcElement,this.currentTarget=b;var c=a.relatedTarget;if(c&&Id)try{Wd(c.nodeName)}catch(d){}this.keyCode=a.keyCode||0,this.state=a.state,this.b=a,a.defaultPrevented&&this.preventDefault()}}!Jd||Od("528"),Id&&Od("1.9b")||Hd&&Od("8")||Gd&&Od("9.5")||Jd&&Od("528"),Id&&!Od("8")||Hd&&Od("9"),Wd[" "]=ka,v(Xd,Bc),Xd.prototype.stopPropagation=function(){Xd.u.stopPropagation.call(this),this.b.stopPropagation?this.b.stopPropagation():this.b.cancelBubble=!0},Xd.prototype.preventDefault=function(){Xd.u.preventDefault.call(this);var a=this.b;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Vd)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(b){}};var Yd="closure_lm_"+(1e6*Math.random()|0),Zd={},$d=0;function ae(a,b,c,d,e){if(pa(b)){for(var f=0;f<b.length;f++)ae(a,b[f],c,d,e);return null}return c=be(c),zd(a)?a.Ob.add(String(b),c,!1,d,e):ce(a,b,c,!1,d,e)}function ce(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=de(a);return h||(a[Yd]=h=new Dd(a)),(c=h.add(b,c,d,e,f)).a?c:(d=ee(),c.a=d,d.src=a,d.listener=c,a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent(fe(b.toString()),d),$d++,c)}function ee(){var a=ge,b=Ud?function(c){return a.call(b.src,b.listener,c)}:function(c){if(!(c=a.call(b.src,b.listener,c)))return c};return b}function he(a,b,c,d,e){if(pa(b)){for(var f=0;f<b.length;f++)he(a,b[f],c,d,e);return null}return c=be(c),zd(a)?a.Ob.add(String(b),c,!0,d,e):ce(a,b,c,!0,d,e)}function ie(a,b,c,d,e){if(pa(b)){for(var f=0;f<b.length;f++)ie(a,b[f],c,d,e);return null}return c=be(c),zd(a)?a.Ob.remove(String(b),c,d,e):!!a&&(!!((a=de(a))&&(b=a.a[b.toString()],a=-1,b&&(a=Ed(b,c,!!d,e)),c=-1<a?b[a]:null))&&je(c))}function je(a){if("number"==typeof a||!a||a.Hc)return!1;var b=a.src;if(zd(b))return Fd(b.Ob,a);var c=a.type,d=a.a;return b.removeEventListener?b.removeEventListener(c,d,a.ya):b.detachEvent&&b.detachEvent(fe(c),d),$d--,(c=de(b))?(Fd(c,a),0==c.b&&(c.src=null,b[Yd]=null)):Cd(a),!0}function fe(a){return a in Zd?Zd[a]:Zd[a]="on"+a}function ke(a,b,c,d){var e=!0;if((a=de(a))&&(b=a.a[b.toString()]))for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.ya==c&&!f.Hc&&(f=le(f,d),e=e&&!1!==f)}return e}function le(a,b){var c=a.listener,d=a.Dd||a.src;return a.wd&&je(a),c.call(d,b)}function ge(a,b){if(a.Hc)return!0;if(!Ud){var c=b||ja("window.event"),d=new Xd(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var f=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(g){f=!0}(f||void 0==c.returnValue)&&(c.returnValue=!0)}for(c=[],f=d.currentTarget;f;f=f.parentNode)c.push(f);f=a.type;for(var h=c.length-1;!d.a&&0<=h;h--){d.currentTarget=c[h];var k=ke(c[h],f,!0,d);e=e&&k}for(h=0;!d.a&&h<c.length;h++)d.currentTarget=c[h],k=ke(c[h],f,!1,d),e=e&&k}return e}return le(a,new Xd(b,this))}function de(a){return(a=a[Yd])instanceof Dd?a:null}var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function be(a){return sa(a)?a:(a[me]||(a[me]=function(b){return a.handleEvent(b)}),a[me])}function I(){xc.call(this),this.Ob=new Dd(this),this.ph=this,this.Me=null}function ne(a){var b=(a=a||{}).callback;this.a=a.label,sa(b)&&(this.callback=b),this.g=!!a.disabled,ne.u.constructor.call(this)}v(I,xc),I.prototype[yd]=!0,p=I.prototype,p.jb=function(){return this.Me},p.ia=function(a){this.Me=a},p.addEventListener=function(a,b,c,d){ae(this,a,b,c,d)},p.removeEventListener=function(a,b,c,d){ie(this,a,b,c,d)},p.dispatchEvent=function(a){var b;if(c=this.jb())for(b=[];c;c=c.jb())b.push(c);var c=this.ph,d=a.type||a;if(ra(a))a=new Bc(a,c);else if(a instanceof Bc)a.target=a.target||c;else{var e=a;Ca(a=new Bc(d,c),e)}var f;e=!0;if(b)for(var g=b.length-1;!a.a&&0<=g;g--)e=(f=a.currentTarget=b[g]).dc(d,!0,a)&&e;if(a.a||(e=(f=a.currentTarget=c).dc(d,!0,a)&&e,a.a||(e=f.dc(d,!1,a)&&e)),b)for(g=0;!a.a&&g<b.length;g++)e=(f=a.currentTarget=b[g]).dc(d,!1,a)&&e;return e},p.D=function(){I.u.D.call(this),this.Ob&&this.Ob.Ea(void 0),this.Me=null},p.dc=function(a,b,c){if(!(a=this.Ob.a[String(a)]))return!0;a=a.concat();for(var d=!0,e=0;e<a.length;++e){var f=a[e];if(f&&!f.Hc&&f.ya==b){var g=f.listener,h=f.Dd||f.src;f.wd&&Fd(this.Ob,f),d=!1!==g.call(h,c)&&d}}return d&&0!=c.ah},r("H.util.EventTarget",I),I.prototype.ia=I.prototype.ia,I.prototype.setParentEventTarget=I.prototype.ia,I.prototype.jb=I.prototype.jb,I.prototype.getParentEventTarget=I.prototype.jb,I.prototype.addEventListener=I.prototype.addEventListener,I.prototype.addEventListener=I.prototype.addEventListener,I.prototype.removeEventListener=I.prototype.removeEventListener,I.prototype.removeEventListener=I.prototype.removeEventListener,I.prototype.dispatchEvent=I.prototype.dispatchEvent,I.prototype.dispatchEvent=I.prototype.dispatchEvent,I.prototype.J=I.prototype.J,I.prototype.dispose=I.prototype.J,I.prototype.Eb=I.prototype.Eb,I.prototype.addOnDisposeCallback=I.prototype.Eb,I.prototype.th=I.prototype.dc,I.prototype.dc=function(a,b,c){var d,e,f,g=!0;return d=c[c.currentTarget===c.target?"AT_TARGET":b?"CAPTURING_PHASE":(e=!0,"BUBBLING_PHASE")],(!e||"pointerenter"!==(f=c.type)&&"pointerleave"!==f)&&(c.eventPhase=d,g=I.prototype.th.apply(this,arguments),e&&this.jb&&null===this.jb()&&delete c.eventPhase),g},v(ne,I),r("H.util.ContextItem",ne),ne.prototype.b=function(){return this.a},ne.prototype.getLabel=ne.prototype.b,ne.prototype.Sa=function(a){return this.a!==a&&(this.a=a,this.dispatchEvent("update")),this},ne.prototype.setLabel=ne.prototype.Sa,ne.prototype.c=function(){return this.g},ne.prototype.isDisabled=ne.prototype.c,ne.prototype.qa=function(a){return a^this.g&&(this.g=a,this.dispatchEvent("update")),this},ne.prototype.setDisabled=ne.prototype.qa;var oe=new ne;function pe(){if(w.document){var a=document.createElement("canvas");return a.width=a.height=1,a.getContext("2d")}return null}ne.SEPARATOR=oe;var qe=/^rgba\(([^,]+),([^,]+),([^,]+),([^)]+)\)$/;function re(a){var b=se[a],c=w.RegExp;return b||(w.Uint8ClampedArray||(w.Uint8ClampedArray=function(a){return a instanceof Number?Array(a):a.map(function(a){return Qb(nb(a),0,255)})}),"none"===a?b=new Uint8ClampedArray([0,0,0,0]):(te.fillStyle="black",te.fillStyle=a,qe.test(te.fillStyle)?b=new Uint8ClampedArray([c.$1,c.$2,c.$3,255*c.$4]):(te.clearRect(0,0,1,1),te.fillRect(0,0,1,1),b=te.getImageData(0,0,1,1).data)),se[a]=b),b}function ue(a){return"none"!==a&&0<re(a)[3]}var se=Ka(),ve=!!w.VBArray;function we(a,b){return a!==A?a:b}function xe(a){return/^<svg/.test(a)?"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(a):a}function ye(){this.xb=0}r("H.util.eval",function(a){return eval(a)}),r("H.util.provide",function(a){ha(a,void 0)}),ye.prototype.next=function(a){if(4294967295===this.xb)throw new ec(a,this.xb,[0,4294967295]);return this.xb++};var ze=new ye,Ae=z(ze.next,ze);function Be(){return!0}function Ce(){return!1}function sc(){}var De=Na([]);function Ee(a){return"CANVAS"===a.tagName?[a]:a.getElementsByTagName("CANVAS")}function Fe(a,b,c){var d;if(b=a.ownerDocument===b?a.cloneNode(!0):b.importNode(a,!0),c)for(a=Ee(a),d=(c=Ee(b)).length;d--;)c[d].getContext("2d").drawImage(a[d],0,0);return b}function Ge(a){a.parentNode.removeChild(a)}var te=pe(),He=pe();function Ie(a){var b=a.complete,c=0<a.naturalWidth;if(b&&!c&&ve)try{He.drawImage(a,0,0),c=!0}catch(d){}return b&&c}var Je=w.BlobBuilder||w.WebKitBlobBuilder||w.MozBlobBuilder;function Ke(a,b){var d,c=b||"";return Je?((d=new Je).append(a),c=d.getBlob(c)):c=new Blob([a],{type:c}),c}function Le(){}r("H.map.provider.Invalidations",Le),Le.MARK_INITIAL=Mb,Le.prototype.c=function(a,b){b!==Me.NONE&&(this.a=a,b&Me.SPATIAL&&(this.m=a),b&Me.VISUAL&&(this.v=a),b&Me.ADD&&(this.l=a),b&Me.REMOVE&&(this.o=a),b&Me.Z_ORDER&&(this.s=a))},Le.prototype.update=Le.prototype.c,Le.prototype.B=function(){return this.a},Le.prototype.getMark=Le.prototype.B,Le.prototype.a=Mb,Le.prototype.A=function(a){return this.a>a},Le.prototype.isAny=Le.prototype.A,Le.prototype.v=Mb,Le.prototype.b=function(a){return this.v>a},Le.prototype.isVisual=Le.prototype.b,Le.prototype.m=Mb,Le.prototype.g=function(a){return this.m>a},Le.prototype.isSpatial=Le.prototype.g,Le.prototype.l=Mb,Le.prototype.j=function(a){return this.l>a},Le.prototype.isAdd=Le.prototype.j,Le.prototype.o=Mb,Le.prototype.f=function(a){return this.o>a},Le.prototype.isRemove=Le.prototype.f,Le.prototype.s=Mb,Le.prototype.i=function(a){return this.s>a},Le.prototype.isZOrder=Le.prototype.i;var Me={NONE:0,VISUAL:1,SPATIAL:2,ADD:4,REMOVE:8,Z_ORDER:16};function Ne(a,b,c){Ne.u.constructor.call(this,a),this.oldValue=c,this.newValue=b}function K(a){var b;Ua(this,K),K.u.constructor.call(this),this.zb=Oe.next(),a&&(ab(a[b="min"])&&(this.Ga=a[b]),ab(a[b="max"])&&(this.ea=a[b]),(b="visibility")in a&&(this.T=!!a[b]),(b="zIndex")in a&&(this.I=+a[b]||0),(b="provider")in a&&(this.l=a[b],this.ua(Me.ADD)),(b="data")in a&&this.g(a[b]))}Le.Flag=Me,v(Ne,Bc),r("H.util.ChangeEvent",Ne),v(K,I),r("H.map.Object",K);var Oe=new ye,Pe={ANY:0,OVERLAY:1,SPATIAL:2,MARKER:3,DOM_MARKER:4,GROUP:5};function Qe(a){var c,d,e,b=a.U;return b||(c=(d=a.I)!==A,(b=a.Da)?(b=Qe(b).slice())[0]|=c:b=[0|c],b.push(d||0,(e=a.fh)!==A?e:a.zb),a.U=b),b}function Re(a,b,c){if(!c||a[0]|b[0])for(var g,d=a.length,e=b.length,f=lb(d,e),h=1,k=1+c;h<f;h+=k)if(g=a[h]-b[h])return g;return c?0:d-e}function Se(a,b){return a.Xa(b)}function G(a,b,c,d){Te(this,Wb(a,G,0),Xb(b,G,1),Wb(c,G,2),Xb(d,G,3))}function Te(a,b,c,d,e){return a.ga=c,a.ha=e,b<d&&(c=b,b=d,d=c),a.ka=b,a.ja=d,a.i=a.f=a.o=null,a}function Ve(a,b){var c=b-a;return c+(0>c?360:0)}function Ue(a,b){var c=a+b/2;return c-(180<c?360:0)}function We(a,b,c,d,e,f,g,h,k){var l,m,n;return c=lb(c,g),a=mb(a,e),l=Ue(b,e=Ve(b,d)),n=Ue(f,g=Ve(f,h))-l,180>(n+=0>n-1e-6?360:0)-1e-6?(l=b,m=h):(n=360-n,l=f,m=d),360<=(n=n+e/2+g/2)+5e-7?(l=-180,m=180):n-5e-7<e?(l=b,m=d):n-5e-7<g&&(l=f,m=h),k?Te(k,a,l,c,m):new G(a,l,c,m)}function Xe(a,b,c){return c||(hc(a,Xe,0),hc(b,Xe,1)),new G(a.lat,a.lng,b.lat,b.lng)}function fc(a,b){if(!qa(a))throw new C(fc,0,a);var e,c=1,d=a.length,f=null;if(0<d)for(f=Xe(e=a[0],e,b);c<d;c++)e=a[c],f.b(e.lat,e.lng,b,f);return f}function Ye(a,b){if(!(b||a&&null!=a.length))throw new C(Ye,0,a);var e,c=3,d=a.length;if(0<d)for(e=new G(a[0],a[1],a[0],a[1]);c<d;c+=3)e.b(a[c],a[c+1],b,e);return e}function Ze(a,b){if(b&&(!a||null==a.length))throw new C(Ze,0,a);var e,c=1,d=a.length;if(0<d)for(e=new G(a[0].ka,a[0].ga,a[0].ja,a[0].ha);c<d;c++)e.wb(a[c],b,e);return e}function $e(a,b,c,d,e){this.j=a||10,this.a=this.b=this.l=null,this.c=d||0,this.f=e||0,this.g=b||1,this.i=c||1,this.a=this.l=new af(null,0,this.c-this.g,this.f-this.i,this.c+this.g,this.f+this.i),this.b=null}function bf(a,b){for(var c,d,e,f,g,h,k,m,n,t,l=0,q=4;q--;){for(t=q+4,g=[],c=+!(q%3),h=b[q],m=(d=a[q]).length;m--;){if(f=(e=d[m]).Y)for(n=f.length;n--;)((k=f[n][q])>h)-c&&(h=k);for(n=4;n--;)(f=e[n])&&(c?f[t]<h&&g.push(f):f[t]>h&&g.push(f))}l+=g.length,b[q]=h,a[q]=g}return l&&(b=bf(a,b)),b}function df(a,b,c){var d,e;if(d=a.b)for(e=4;e--;)if(e%3?b[e]>=d[e]:b[e]<=d[e]){if(!c){a.b=null;break}d[e]=b[e]}}function ef(a,b,c,d,e,f,g){var h=b[8],k=b[9];g&&(e<h||e<b[5]&&c>=h)&&(f<k||f<b[6]&&d>=k)?c=ef(a,b=b[h=(d>=k?2:0)|c>=h]||(b[h]=new af(b,h)),c,d,e,f,g-1):(c=new ff(b,c,d,e,f),(b.Y||(b.Y=[])).push(c),df(a,c,!0),cf(a,b));return c}function cf(a,b){var d,c=a.a;if(b){if((d=b)!==c)for(c=d;d=d.a;)(d.Y||3>!d[0]+!d[1]+!d[2]+!d[3])&&(c=d)}else for(;!c.Y&&2<!c[0]+!c[1]+!c[2]+!c[3]&&(d=c[0]||c[1]||c[2]||c[3]);)c=d;a.a=c}function gf(a,b,c,d,e,f,g){var h,k,l=b.Y;k=b[7];var y,m=b[8],n=b[5],q=b[4],t=b[9],u=b[6];if(l)if(h=l.length,d>k||f<n||e>q||g<u)for(;h--;)n=(k=l[h])[3],q=k[0],u=k[1],y=k[2],n>f||u<d||q>g||y<e||c.push(k);else for(;h--;)c.push(l[h]);f>=m&&(e<=t&&b[1]&&gf(a,b[1],c,d,e,f,g),g>=t&&b[3]&&gf(a,b[3],c,d,e,f,g)),d<=m&&(e<=t&&b[0]&&gf(a,b[0],c,d,e,f,g),g>=t&&b[2]&&gf(a,b[2],c,d,e,f,g))}function af(a,b,c,d,e,f){a?(this.a=a,this.b=b,1&b?(c=a[8],e=a[5]):(c=a[7],e=a[8]),2&b?(d=a[9],f=a[6]):(d=a[4],f=a[9])):this.b=this.a=null,this[7]=c,this[5]=e,this[8]=(c+e)/2,this[4]=d,this[6]=f,this[9]=(d+f)/2}function ff(a,b,c,d,e){this.id=++hf,this.a=a,this[0]=c,this[1]=d,this[2]=e,this[3]=b}K.Type=Pe,K.prototype.yb={Hh:"visibilitychange",Ih:"zindexchange"},K.prototype.ta=function(){return this.zb},K.prototype.getId=K.prototype.ta,K.prototype.Ga=-1/0,K.prototype.ea=1/0,K.prototype.Ld=function(){return this.ea},K.prototype.getMax=K.prototype.Ld,K.prototype.Xd=function(){return this.Ga},K.prototype.getMin=K.prototype.Xd,K.prototype.T=!0,K.prototype.setVisibility=function(a){var b=this.T;return(a=!!a)^b&&(this.T=a,this.invalidate(Me.VISUAL),this.dispatchEvent(new Ne(this.yb.Hh,a,b))),this},K.prototype.setVisibility=K.prototype.setVisibility,K.prototype.getVisibility=function(a){for(var c,b=this;(c=b.T)&&a&&(b=b.Da););return c},K.prototype.getVisibility=K.prototype.getVisibility,K.prototype.I=A,K.prototype.he=function(){return this.I},K.prototype.getZIndex=K.prototype.he,K.prototype.Ha=function(a){var b=this.I;return a!==b&&(this.K(),this.I=a,this.invalidate(Me.Z_ORDER),this.dispatchEvent(new Ne(this.yb.Ih,a,b))),this},K.prototype.setZIndex=K.prototype.Ha,K.prototype.U=A,K.prototype.K=function(){this.U=A},K.compareZOrder=Se,K.prototype.Xa=function(a){return this.je-a.je||Re(Qe(this),Qe(a),!1)},K.prototype.compareZOrder=K.prototype.Xa,p=K.prototype,p.previousSibling=x,p.nextSibling=x,p.fh=A,p.Da=x,p.Zh=function(){return this.Da},K.prototype.getParentGroup=K.prototype.Zh,K.prototype.ee=function(){for(var b,a=this;b=a.Da;)a=b;return a},K.prototype.getRootGroup=K.prototype.ee,K.prototype.contains=function(a){return this===a},K.prototype.contains=K.prototype.contains,K.prototype.ia=function(a){if(this.Da)throw new kc(this.ia,"Not allowed for a child of a group");K.u.ia.call(this,a)},K.prototype.setParentEventTarget=K.prototype.ia,K.prototype.l=x,K.prototype.Pa=function(){return this.l},K.prototype.getProvider=K.prototype.Pa,K.prototype.F=function(a,b){var d,e,c=this.l;if(d=c!==a){if(b&&(c&&!B(c,L)||a&&!B(a,L)))throw new kc(b,"Only LocalObjectProvider allows an object transfers");e=this.type!==Pe.GROUP,c&&(this.invalidate(Me.REMOVE),e&&c.a(this)),(this.l=a)&&(e&&a.V(this),this.Fb=x,this.invalidate(Me.ADD))}return d},K.prototype.j=function(){return this.Fb||(this.Fb=new Le)},K.prototype.getInvalidations=K.prototype.j,K.prototype.ua=function(a){var c,b=this.Pa();return(c=!!b)&&b.invalidateObject(this,a),c},K.prototype.invalidate=K.prototype.ua,K.prototype.D=function(){this.Da&&this.Da.a(this),K.u.D.call(this)},K.prototype.getData=function(){return this.P},K.prototype.getData=K.prototype.getData,K.prototype.g=function(a){return this.P=a,this},K.prototype.setData=K.prototype.g,v(G,bc),r("H.geo.Rect",G),G.prototype.qd="POLYGON",G.prototype.Lb=function(a){var b=this.ka,c=this.ga,d=this.ja,e=this.ha;return a.push("(",c," ",b,",",e," ",b,",",e," ",d,",",c," ",d,",",c," ",b,")"),a},G.prototype.pa=function(a){return this===a||!!a&&this.ka===a.ka&&this.ga===a.ga&&this.ja===a.ja&&this.ha===a.ha},G.prototype.equals=G.prototype.pa,G.prototype.clone=function(){return new G(this.ka,this.ga,this.ja,this.ha)},G.prototype.clone=G.prototype.clone,G.prototype.tb=function(){return this.i||(this.i=new gc(this.ka,this.ga)),this.i},G.prototype.getTopLeft=G.prototype.tb,G.prototype.rb=function(){return this.f||(this.f=new gc(this.ja,this.ha)),this.f},G.prototype.getBottomRight=G.prototype.rb,G.prototype.F=function(){return this.ka},G.prototype.getTop=G.prototype.F,G.prototype.s=function(){return this.ja},G.prototype.getBottom=G.prototype.s,G.prototype.B=function(){return this.ga},G.prototype.getLeft=G.prototype.B,G.prototype.A=function(){return this.ha},G.prototype.getRight=G.prototype.A,G.prototype.Oa=function(){return this.o||(this.o=new gc(this.ja+(this.ka-this.ja)/2,Ue(this.ga,this.ab()))),this.o},G.prototype.getCenter=G.prototype.Oa,G.prototype.ab=function(){return Ve(this.ga,this.ha)},G.prototype.getWidth=G.prototype.ab,G.prototype.c=function(){return this.ka-this.ja},G.prototype.getHeight=G.prototype.c,G.prototype.g=function(){return this.ga>this.ha},G.prototype.isCDB=G.prototype.g,G.prototype.ed=function(){return!this.ab()&&!this.c()},G.prototype.isEmpty=G.prototype.ed,G.prototype.S=function(){return new G(this.ka,this.ga,this.ja,this.ha)},G.prototype.l=function(a,b,c){var d=this.Oa();return c||(a=Wb(a,this.l,0),b=Xb(b,this.l,1)),(a=(b=this.b(a,b,c)).Oa()).lat===d.lat&&a.lng===d.lng&&this.c()===b.c()&&this.ab()===b.ab()},G.prototype.containsLatLng=G.prototype.l,G.prototype.Vc=function(a,b){return b||hc(a,this.Vc,0),this.l(a.lat,a.lng,b)},G.prototype.containsPoint=G.prototype.Vc,G.prototype.j=function(a,b){var d,e,c=this.Oa();if(!b&&!B(a,G))throw new C(this.j,0,a);return(d=(e=this.wb(a,b)).Oa()).lat===c.lat&&d.lng===c.lng&&this.c()===e.c()&&this.ab()===e.ab()},G.prototype.containsRect=G.prototype.j,G.prototype.b=function(a,b,c,d){if(!c){if(D(a=Wb(a)))throw new C(this.b,0,a);if(D(b=Xb(b)))throw new C(this.b,1,b)}return We(this.ka,this.ga,this.ja,this.ha,a,b,a,b,d)},G.prototype.mergeLatLng=G.prototype.b,G.prototype.m=function(a,b,c){return b||hc(a,this.m,0),this.b(a.lat,a.lng,b,c)},G.prototype.mergePoint=G.prototype.m,G.prototype.wb=function(a,b,c){if(!b&&!B(a,G))throw new C(this.wb,0,a);return We(this.ka,this.ga,this.ja,this.ha,a.ka,a.ga,a.ja,a.ha,c)},G.prototype.mergeRect=G.prototype.wb,G.prototype.a=function(a,b,c,d,e,f){return e||(a=Wb(a,this.a,0),b=Xb(b,this.a,1),c=Wb(c,this.a,2),d=Xb(d,this.a,3)),We(this.ka,this.ga,this.ja,this.ha,a,b,c,d,f)},G.prototype.mergeTopLeftBottomRight=G.prototype.a,G.prototype.xc=function(a,b){if(!b&&!B(a,G))throw new C(this.xc,0,a);var c=this.ga<=this.ha,d=a.ga<=a.ha,e=this.ga<a.ha,f=a.ga<this.ha;return this.ja<=a.ka&&a.ja<=this.ka&&(!c&&(!d||e||f)||!d&&(e||f)||e&&f)},G.prototype.intersects=G.prototype.xc,G.merge=We,G.fromPoints=Xe,G.coverPoints=fc,G.coverLatLngAlts=Ye,G.coverRects=Ze,G.prototype.v=function(a,b){hc(a,this.v,0);var k,c=this.ga,d=this.ka,e=this.ha,f=this.ja,g=this.Oa().lng,h=a.lat-f-(d-f)/2;c=-180>(c=c+(0>(k=180<(k=a.lng-g)||-180>k?-(g+a.lng):k)?2*k:0))?360+c:c,e=180<(e=e+(0<k?2*k:0))?e-360:e;return 90<=(d=0<h?d+2*h:d)&&(d=90),-90>=(f=0>h?f+2*h:f)&&(f=-90),b?Te(b,d,c,f,e):new G(d,c,f,e)},G.prototype.resizeToCenter=G.prototype.v,$e.prototype.remove=function(a){var b,c=a.a,d=c.Y;if(d&&(-1!==(b=d.indexOf(a))&&(d.splice(b,1),!d.length))){delete c.Y;for(var e=this.a;(d=c.a)&&!(c.Y||c[0]||c[1]||c[2]||c[3]);)c===e&&(e=d),delete c.a,delete d[c.b],c=d;this.a=e,cf(this)}return(b=0<=b)&&df(this,a,!1),b},$e.prototype.bb=function(a,b,c,d){var e=[];return gf(this,this.a,e,a,b,c,d),e};var hf=0;function jf(a){this.i=new $e(+a||10,180,90,0,0),this.g=[],this.b=this.f=this.a=null}function kf(a,b,c,d,e,f){return f?(f=new ff(null,e,-b,c+360,-d),a.g.push(f),a.b&&a.b.a(b,c,d,e,!0,a.b)):(f=ef(f=a.i,f.l,c,-b,e,-d,f.j),a.f&&a.f.a(b,c,d,e,!0,a.f)),++a.c,a.a=null,f}function lf(a,b,c,d,e){var g,k,l,f=(a=a.g).length,h=[];if(f)for(k=c+360,l=e+360;f--;)mf(g=a[f],b,c,d,e)?h.push(g):mf(g,b,k,d,l)&&h.push(g);return h}function mf(a,b,c,d,e){var f=a[0],g=a[1],h=a[2];return!(a[3]>e||g<c||f>d||h<b)}function nf(a,b){var c,d,e,f;if(d=b.length){for(c=a.length,e={};c--;)e[a[c].id]=1;for(;d--;)(f=b[d]).id in e||a.push(f)}}function of(a,b){var h,c=a.i,d=b.tb(),e=b.rb(),f=-d.lat,g=(d=d.lng,-e.lat);e=e.lng;return b.g()?(nf(h=c.bb(-180,f,e,g),c.bb(d,f,180,g)),nf(h,lf(a,f,e,g,d+360))):nf(h=c.bb(d,f,e,g),lf(a,f,d,g,e)),h}function F(a,b){F.u.constructor.call(this),a&&pf(a,F,0),this.na=a||[],this.j=b,this.b=qf(this,0,this.na.length)}function qf(a,b,c){a=a.na;var d=0;for(b=mb(b,0),c=lb(c,a.length),c-=2,b+=1;b<c;)d+=tf(a[b],a[b+=3]);return d}function uf(a,b,c,d,e){var f=a.na.length;b=Wb(b,e),c=Xb(c,e),a.na.push(Wb(b,e),Xb(c,e),d===A?0:Yb(d,e)),f&&(a.b+=tf(a.na[f-2],c)),delete a.a,delete a.m}jf.prototype.c=0,jf.prototype.S=function(){var a,b,c;if(!this.a){var d,e,f,g,h,k;if(c=[],d=!this.f)!(e=(a=this.i).b)&&((d=a.a).Y||d[0]||d[1]||d[2]||d[3])&&(e=bf([e=[d],e,e,e],[d[6],d[7],d[4],d[5]]),a.b=e),d=a=e;if(d&&(this.f=new G(-a[0],a[3],-a[2],a[1])),(b=this.f)&&c.push(b),!this.b&&(k=(g=this.g).length)){for(a=90,d=360,e=-90,f=0;k--;)h=g[k],a=lb(a,h[0]),d=lb(d,h[3]),e=mb(e,h[2]),f=mb(f,h[1]);this.b=new G(-a,d,-e,f-360)}(b=this.b)&&c.push(b),(b=c[0])&&(c[1]&&(b=b.wb(c[1],!0)),this.a=b)}return this.a},jf.prototype.remove=function(a){var b,c=!1;return a.a?(c=this.i.remove(a),this.f=null):(c=0<=(a=(b=this.g).indexOf(a)))&&(b.splice(a,1),this.b=null),c&&(--this.c,this.a=null),c},v(F,bc),r("H.geo.LineString",F),F.prototype.o=function(a,b,c){uf(this,a,b,c,this.o)},F.prototype.pushLatLngAlt=F.prototype.o,F.prototype.i=function(a,b,c){var d;return c&&pf(c,this.i,2),void 0===b&&(b=this.na.length),b&&(this.b-=qf(this,a-3,a+b+3)),d=c?this.na.splice.apply(this.na,[a,b].concat(c)):this.na.splice(a,b),c&&(this.b+=qf(this,a-3,a+c.length+3)),b&&!c&&(this.b+=qf(this,a-3,a-3)),delete this.a,delete this.m,d},F.prototype.spliceLatLngAlts=F.prototype.i,F.prototype.v=function(a,b,c,d){this.i(a,0,[b,c,d])},F.prototype.insertLatLngAlt=F.prototype.v,F.prototype.s=function(a){this.i(a,3)},F.prototype.removeLatLngAlt=F.prototype.s,F.prototype.c=function(a){uf(this,a.lat,a.lng,a.alt,this.c)},F.prototype.pushPoint=F.prototype.c,F.prototype.C=function(a,b){this.v(3*a,b.lat,b.lng,b.alt)},F.prototype.insertPoint=F.prototype.C,F.prototype.N=function(a){this.s(3*a)},F.prototype.removePoint=F.prototype.N,F.prototype.g=function(a,b){var d=3*a,e=(c=this.na)[d],f=c[d+1],c=c[d+2];return b&&(b.lat=e,b.lng=f,b.alt=c,void 0!==c&&this.j&&(b.ctx=this.j)),b||new gc(e,f,c,null!=c?this.j:void 0)},F.prototype.extractPoint=F.prototype.g,F.prototype.B=function(a,b,c){var d=this.na;b=b||0,c=we(c,d.length/3);for(var e=3*b;b<c;)a(d[e++],d[e++],d[e++],b++)},F.prototype.eachLatLngAlt=F.prototype.B;var tf=ac;function pf(a,b,c){for(var f,d=a.length,e=!(d%3);e&&d;)e=!(D(a[--d]=Yb((f=a[d])===A?0:f))||D(a[--d]=Xb(a[d]))||D(a[--d]=Wb(a[d])));if(!e&&b)throw new C(b,c,a)}function vf(a){var b=new F,c=0,d=a.length;if(d%2)throw new C(vf,0,a);for(;c<d;)uf(b,a[c++],a[c++],0,vf);return b}function wf(a,b){return a.ke-b.ke}function xf(a){var c,d,e,f,g,h,k,b=a.m;if(!b)for(b=a.m=new jf,c=0,d=(a=a.na).length,e=0;e<d;e+=3){if(f=a[e],g=a[e+1],e){var l=void 0,m=void 0,n=void 0,q=void 0;k<g?(l=k,n=g):(l=g,n=k),h<f?(m=f,q=h):(m=h,q=f),(h=kf(b,m,l,q,n,180<n-l)).ke=c++}h=f,k=g}return b}function yf(a,b){var c,d,f,g,h,m,n,q,e=a.na,k=-2,l=[];for(f=(c=of(xf(a),b).sort(wf)).length,g=0;g<f;g++)h=3*(d=(d=c[g]).ke),d>k+1&&(m=[e[h],e[h+1]],l.push(m)),k=d,m.push(e[h+3],e[h+4]);if(a.b){for(e=[],f=l.length,g=0;g<f;g++)if(k=(m=l[g]).length){for(d=[],c=0;c<k;c+=2)h=m[c],n=m[c+1],d.push(h,n),q=m[c-1],c&&ac(n,q)&&(e.push(d),d=[],q+=0>q?360:-360,d.push(m[c-2],q,h,n));e.push(d)}l=e}return l}function zf(a){var b,c,d,e;if(a){for(b=Af,e=B(a,zf);b--;)if(c=Bf[b],a.hasOwnProperty(c))if(d=a[c],e)this[c]=d;else{if((d=Cf[b](d))===Df)throw new C(zf,0,c+": "+a[c]);d!==this[c]&&d!==A&&(this[c]=d)}(b=e?a.b:this.lineWidth&&ue(this.strokeColor))||(this.b=b),(b=e?a.c:ue(this.fillColor))||(this.c=b),(b=e?a.a:"none"!==this.strokeColor&&this.lineWidth)||(this.a=b)}Na(this)}F.isDBC=tf,F.prototype.l=function(a){var b=this.b;return a&&(b+=ac((a=this.na)[a.length-2],a[1])),b},F.prototype.getDBCs=F.prototype.l,F.prototype.f=function(){return this.na.length/3},F.prototype.getPointCount=F.prototype.f,F.prototype.A=function(){return this.na},F.prototype.getLatLngAltArray=F.prototype.A,F.prototype.a=x,F.prototype.S=function(){var a;if(!(a=this.a)){var d,e,f,g,h,b=(a=this.na).length,c=3,k=x,l=We;if(3<=b)for(k=new G(d=e=a[0],f=g=a[1],e,g);c<b;c+=3)d=a[c-3],f=a[c-2],e=a[c],(f>(g=a[c+1])&&180<g-f||f<g&&-180>f-g||g<f&&180>rb(g-f))&&(h=f,f=g,g=h),d<e&&(h=d,d=e,e=h),l(k.ka,k.ga,k.ja,k.ha,d,f,e,g,k);a=this.a=k}return a},F.prototype.getBounds=F.prototype.S,F.prototype.F=function(){return this.a!==x},F.prototype.hasBounds=F.prototype.F,F.fromLatLngArray=vf,F.prototype.pa=function(a){var c,d,b=this===a;if(!b&&(b=B(a,F)))for(c=this.na,a=a.na,b=(d=c.length)===a.length;b&&d--;)b=c[d]==a[d];return b},F.prototype.equals=F.prototype.pa,F.prototype.qd="LINESTRING",F.prototype.Lb=function(a){var d,b=this.na,c=b.length;if(c){for(a.push("("),d=0;d<c;d+=3)d&&a.push(","),a.push(b[d+1]," ",b[d]);a.push(")")}else a.push("EMPTY");return a},r("H.geo.Strip",F),r("H.map.SpatialStyle",zf),zf.prototype.c=!0,zf.prototype.b=!0,zf.prototype.a=!0;var Bf=[];zf.prototype[Bf[0]="strokeColor"]="rgba(0,85,170,.6)",zf.prototype[Bf[1]="fillColor"]="rgba(0,85,170,.4)",zf.prototype[Bf[2]="lineWidth"]=2,zf.prototype[Bf[3]="lineCap"]="round",zf.prototype[Bf[4]="lineJoin"]="miter",zf.prototype[Bf[5]="miterLimit"]=10,zf.prototype[Bf[6]="lineDash"]=De,zf.prototype[Bf[7]="lineDashOffset"]=0;var Af=Bf.length;zf.prototype.pa=function(a){var b,c;if(!(b=this===a)&&a){for(b=0;b<Af&&this[c=Bf[b]]===a[c];b++);b=b===Af}return b},zf.prototype.equals=zf.prototype.pa,zf.prototype.f=function(a){var b;return a?Ca(b={},this,a):b=this,new zf(b)},zf.prototype.getCopy=zf.prototype.f;var Df=Na({}),Cf=[function(a){return a?La(a):Df},function(a){return a?La(a):Df},function(a){return 0<=a&&100>=a?+a:Df},function(a){return"butt"===(a=La(a))||"square"===a||"round"===a?a:Df},function(a){return"round"===a||"bevel"===a||"miter"===a?a:Df},function(a){return 0<a&&100>=a?+a:Df},function(a){return a&&a.every&&a.every(bb)?a:Df},function(a){return D(+a)?Df:+a}];zf.MAX_LINE_WIDTH=100;var Ef=new zf;function Ff(a){var b,c,d;if(a){for(c in b=B(a,Ff),a)c in this&&((d=a[c])!==this[c]&&("fillColor"===c||0<(d=+d))&&(this[c]=d));(a=b?a.fd:!!(ue(this.fillColor)&&this.width&&this.width))||(this.fd=a)}Na(this)}function Gf(a,b){var c;Gf.u.constructor.call(this,b),b&&this.O(b.style),a&&(this.B=!0),b&&(c=b.arrows)&&this.Vb(c)}function Hf(a,b){var e,c=!1,d=!1;if(b.length){for(c=0;c<b.length;c++)if(b[c]!==If){d=!0;break}c=a.style,c=d?c.b||c.c&&a.B||(e=a.s||!1)&&c.a&&e.fd:c.c}return c&&a.getVisibility(!0)}function Jf(a,b){Jf.u.constructor.call(this,a,b)}function Kf(a,b,c,d){var g,h,e=[],f=b.length;for(g=0;g<f;g++)(h=b[g]).length&&e.push(Lf(a,h,c,d));return e}function Lf(a,b,c,d){var e,f=[],g=b.length,h=0;for(a.Va=0,e=e||0;h<g;)f.push(Mf(a,b[h++],b[h++],e,d));return c&&f.push(Mf(a,b[0],b[1],e,d)),f}function Mf(a,b,c,d,e){var f=a.Va;return f&&180<rb(f-c)&&(c+=0>f?-360:360),a.Va=c,e.f(b,c+d)}function Nf(a,b,c){for(var e,g,h,d=b,f=a.length+b;d--;){for(g=(b=a[d]).length,e=Array(g);g--;)h=b[g],e[g]=new M(h.x+c,h.y);a[--f]=e}}zf.DEFAULT_STYLE=Ef,r("H.map.ArrowStyle",Ff),Ff.prototype.fd=!0,Ca(Ff.prototype,{fillColor:"rgba(255,255,255,.75)",width:1.2,length:1.6,frequency:5}),Ff.prototype.pa=function(a){var b=this===a;return!b&&a&&(b=a.width===this.width&&a.fillColor===this.fillColor&&a.length===this.length&&a.frequency===this.frequency),b},Ff.prototype.equals=Ff.prototype.pa,v(Gf,K),r("H.map.Spatial",Gf),Gf.prototype.type=Pe.SPATIAL,Gf.prototype.je=0,Gf.prototype.style=Ef,Gf.prototype.Na=function(){return this.style},Gf.prototype.getStyle=Gf.prototype.Na,Gf.prototype.O=function(a){var b=this.style,c=!0;return a?this.style=B(a,zf)?a:new zf(a):this.style?delete this.style:c=!1,c&&(this.dispatchEvent(new Ne("stylechange",this.style,b)),this.invalidate(Me.VISUAL)),this},Gf.prototype.setStyle=Gf.prototype.O,Gf.prototype.jc=function(){return this.s},Gf.prototype.getArrows=Gf.prototype.jc,Gf.prototype.Vb=function(a){var b=this.s,c=!1;return!a&&b?(delete this.s,c=!0):!a||b&&b.pa(a)||(this.s=new Ff(a),c=!0),c&&"none"!==this.style.strokeColor&&this.ua(1),this},Gf.prototype.setArrows=Gf.prototype.Vb,Gf.prototype.B=!1,Gf.prototype.be=function(){return this.B},Gf.prototype.isClosed=Gf.prototype.be,Gf.prototype.getGeometriesForTile=Gf.prototype.ec,Gf.prototype.ba=function(){return x},Gf.prototype.getLabels=Gf.prototype.ba,v(Jf,Gf),r("H.map.GeoShape",Jf),Jf.prototype.getStrip=Jf.prototype.b,Jf.prototype.setStrip=Jf.prototype.f,Jf.prototype.getBounds=Jf.prototype.S;var Of=new F([0,0,0,0,0,0,0,0,0]);function Pf(a){Ua(this,Pf),Pf.u.constructor.call(this),this.ma=Qf(this,a,this.constructor,0)}function Qf(a,b,c,d){var e,f=[];if(!Za(b))throw new C(c,d);for(e=0;e<b.length;e++){if(!a.c(b[e]))throw new C(c,d);f.push(a.l(b[e]))}return f}function Rf(a){Rf.u.constructor.call(this,a)}function Sf(a,b,c){this.Ra=a,b!==A&&(this.a=b),c!==A&&(this.b=c)}v(Pf,bc),r("H.geo.MultiGeometry",Pf),Pf.prototype.splice=function(a,b,c){return a=[a],b!==A&&a.push(b),c&&(b=Qf(this,c,this.splice,2),a=a.concat(b)),this.a=x,this.ma.splice.apply(this.ma,a)},Pf.prototype.splice=Pf.prototype.splice,Pf.prototype.f=function(a){var b=this.ma.length;if(!(0<=a&&a<b))throw new ec(this.f,a,[0,b-1]);return this.a=x,this.ma.splice(a,1)[0]},Pf.prototype.removeAt=Pf.prototype.f,Pf.prototype.remove=function(a){var b;return 0<=(a=this.ma.indexOf(a))&&(b=this.ma.splice(a,1)[0],this.a=x),b||x},Pf.prototype.remove=Pf.prototype.remove,Pf.prototype.j=function(){return this.ma},Pf.prototype.getGeometries=Pf.prototype.j,Pf.prototype.push=function(a){var b=Qf(this,[a],this.push,0)[0];this.a&&(this.a=this.a.wb(a.S())),this.ma.push(b)},Pf.prototype.push=Pf.prototype.push,Pf.prototype.S=function(){var a,b,c;if(!(a=this.a)&&(a=x,this.ma.length))for(a=this.ma[0].S(),c=1;c<this.ma.length;c++)(b=this.ma[c].S())&&(a=a?a.wb(b):b);return this.a=a},Pf.prototype.getBounds=Pf.prototype.S,Pf.prototype.a=x,Pf.prototype.c=function(a){return B(a,this.b)},Pf.prototype.l=function(a){return a},Pf.prototype.pa=function(a){var c,d,b=this===a;if(!b&&(b=B(a,this.constructor)))for(c=this.ma,a=a.ma,b=(d=c.length)===a.length;b&&d--;)b=c[d].pa(a[d]);return b},Pf.prototype.equals=Pf.prototype.pa,Pf.prototype.Lb=function(a){var d,e,b=this.ma,c=b.length,f=!1;if(c){for(a.push("("),d=0;d<c;d++)(e=0<d&&f)&&a.push(","),b[d].Lb(a),"EMPTY"===a[a.length-1]?a.splice(-1-e,1+e):f=!0;f?a.push(")"):a.splice(-1,1,"EMPTY")}else a.push("EMPTY");return a},Pf.prototype.toString=function(){return this.Lb(["MULTI",this.b.prototype.qd," "]).join("")},v(Rf,Pf),r("H.geo.MultiPolygon",Rf),Rf.prototype.b=E,Sf.prototype.a=Lb,Sf.prototype.b=Lb;var If=Oa(new Sf([])),Tf=Na([]);function Uf(a,b){Uf.u.constructor.call(this,!0,b),B(a,F)?this.c(new E(a)):this.c(a)}function Vf(a,b,c,d){var e,f,g,h,k=0,l=!0;if(e=Xf(a,b.$a,c,d,b.S())){if(f=new Sf(e),h=(g=b.lb).length)for(f.a=f.Ra.length;k<h;k++)(e=Xf(a,g[k],c,d,b.ig(k)))&&(f.Ra=f.Ra.concat(e));for(h=f.Ra.length,k=0;k<h;k++)if(f.Ra[k]!==Tf){l=!1;break}l&&(f=k%2?If:A)}return f}function Xf(a,b,c,d,e){var g,f=c.j(),h=Yf(b,e);if(a=Kf(a,h,!0,g=c.B()),360===e.ab()&&1==b.l(!0)%2){var k,l,m;for(b=a,a=c.j(),b[0][1].x>b[0][b[0].length-1].x&&(b[0]=b[0].reverse()),l=[],k=b[0].length-1,h=0;h<k;h++)m=b[0][h],l[h]=new M(m.x-2*g.w,m.y),l[h+k]=new M(m.x-g.w,m.y),l[h+2*k]=new M(m.x,m.y),l[h+3*k]=new M(m.x+g.w,m.y),l[h+4*k]=new M(m.x+2*g.w,m.y);b[0]=l,(g=g.f(d,0)).y=2*a[d===cc.NORTH?"top":"bottom"],d=g.clone(),g.x=b[0][b[0].length-1].x+1,d.x=b[0][0].x-1,b[0].push(g,d),a=b}if(Zf(b=a,d=f.left,g=f.top,a=f.right,f=f.bottom,!0).length){if(!c.s().j(e)){for(c=b,e=[new M(d,g),new M(a,g),new M(a,f),new M(d,f)],f=[],d=c.length;d--;){b=c[d],l=h=void 0,g=$f(e),b=$f(b);var n=m=void 0,q=void 0,t=void 0,u=void 0,y=void 0,J=q=a=void 0;switch(k=a=void 0,a={},k=h=1,l=~~(1*(l=0))){case 1:k=h=0;break;case 2:h=0,k=1;break;case 3:h=1,k=0}l=k,k=h;var T=t=void 0;q=m=h=void 0;if(b&&g){for(b.zd=ag(b.x,b.y,null,bg(b)),g.zd=ag(g.x,g.y,null,bg(g)),m=b;m.next;m=m.next)if(!m.bb)for(n=g;n.next;n=n.next)!n.bb&&(q=dg(m,t=cg(m.next),n,T=cg(n.next),a))&&(q=a.Kh,J=a.Zf,eg(q=ag(u=a.Hi,y=a.Ii,null,null,null,null,1,0,0,q),m,t),eg(t=ag(u,y,null,null,null,null,1,0,0,J),n,T),q.df=t,t.df=q);for(a=fg(b,g),k&&(a=1-a),m=b;m;m=m.next)m.bb&&(m.Ce=a,a=1-a);for(a=fg(g,b),l&&(a=1-a),n=g;n.next;n=n.next)n.bb&&(n.Ce=a,a=1-a);for(gg(b),gg(g);(a=hg(b))!=b;){for(m=null;!a.ie;a=a.df){for(k=a.Ce;m=ag(a.x,a.y,m),a.ie=1,a=k?a.next:a.nb;)if(a.bb){a.ie=1;break}if(!a)break}m.ef=h,h=m}g=h}else g=void 0;if(g)for(b=ig(g),f.push(b);g.ef;)b=ig(g=g.ef),f.push(b)}b=f}}else c=jg(d,g,b[0]),b[1]&&(c^=jg(d,g,b[1])),b=c?[Tf]:A;return b}function jg(a,b,c){var d,e,f,g,h,k,l,m;for(e=g=c[0].x,f=h=c[0].y,d=1,m=c.length;d<m;d++)k=c[d].x,l=c[d].y,k>g?g=k:k<e&&(e=k),l>h?h=l:l<f&&(f=l);return e<=a&&a<=g&&f<=b&&b<=h&&1===fg({x:a,y:b},c.concat(c[0]))}function ig(a){var c,e,f,b=[],d=a;do{e=nb(100*(d.ti?d.ti:d.x))/100,f=nb(100*(d.ui?d.ui:d.y))/100,(!c||.01<tb(ub(c.x-e,2)+ub(c.y-f,2)))&&(c=new M(e,f),b.push(c)),d=d.next}while(d&&d!==a);return b}function Wf(a){var b=a.Ub;return b===A&&(b=a.m?cc.NORTH:a.Ca().hc),b}function Yf(a,b){var c,d,e=b.ab();c=[[]];var h,k,l,f=[],g=(d=a.na).length,m=!1;for(h=0;h<g;h+=3)k=d[h],l=d[h+1],m||180!=rb(l)||(f.push(k),f.push(l),f.push(k),f.push(-l),m=!0),f.push(k),f.push(l);if(d=f,360>e&&-180==b.ga&&(b=new G(b.ka,180,b.ja,b.ha)),360>e&&180==b.ha&&(b=new G(b.ka,b.ga,b.ja,-180)),b.g()){for(k=(e=d).length,d=-1,f=0;f<k-2;f+=2)if(ac(e[f+1],e[f+3])){d=f+2;break}-1===d&&ac(e[k-1],e[1])&&(d=k),-1!==d&&(g=e[d-2],f=e[d-1],h=e[d%k],m=e[(d+1)%k],180!==rb(g)&&180!==rb(h)&&(l=rb(h-g),k=rb(m-f),k+=180<k?-360:0,m=rb(180-m),m+=180<m?-360:0,k&&m&&(l/=rb(k)/rb(m),g=h+(h>g?-l:l),f=0<f?180:-180,e.splice(d,0,g,f,g,-f)))),d=e}return c[0]=kg([].concat(d),b.ga),360>b.ab()&&b.Vc(new gc(b.ka,180))&&(d=kg([].concat(d),b.ha),c.push(d)),c}function kg(a,b){var f,c=[],d=Number.POSITIVE_INFINITY,e=-1,g=a.length;for(c=0;c<g;c+=2)f=rb(a[c+1]-b),(f+=180<f?360-f:f)<d&&(d=f,e=c);return 0<c?(c=a.splice(e,a.length-e)).concat(a):a}function lg(a,b,c){lg.u.constructor.call(this,Of,c),this.Za(a),this.wa(b),c&&"precision"in c&&this.sa(c.precision)}function mg(a){a.i!==x&&lg.u.c.call(a,ng(a))}function ng(a){var b=a.o,c=b.lat,d=a.Ba,e=0,f=new F;if(90===rb(c))for(c=b.Gf(0,d,!0).lat;360>e;e+=120)f.o(c,e-180,A);else for(a=360/(a=a.a);360>e;e+=a)f.c(b.Gf(e,d,!0));return b=new E(f),0>c&&b.i(cc.SOUTH),b}function og(a){og.u.constructor.call(this,a)}function pg(a,b){pg.u.constructor.call(this,!1,b),this.c(a)}function qg(a,b){if(!B(a,F)||2>a.f())throw new C(b,0)}function rg(a,b,c,d){var f,e=yf(b,c.s());e.length&&(e=(a=Kf(a,e,!1,b=c.B())).length)&&(f=c.j(),b=b.w,c.x||Nf(a,e,-b),c.x===(1<<c.z)-1&&Nf(a,e,b),(c=Zf(a,f.left,f.top,f.right,f.bottom,!1)).length&&d.push(new Sf(c)))}function sg(a){sg.u.constructor.call(this,a)}function tg(a,b,c){var d,e=6;if(b){for(d=' expected close to: "'+b;e--;)-1!==(b=a.a.next())&&(d+=String.fromCharCode(b));d+='"'}throw new C(ug,0,"- Malformed WKT: "+(d?c+d:"unexpected end of stream"))}v(Uf,Jf),r("H.map.Polygon",Uf),Uf.prototype.i=x,Uf.prototype.Ca=function(){return this.i},Uf.prototype.getGeometry=Uf.prototype.Ca,Uf.prototype.c=function(a){var b;return a===x||B(a,E)?b=!1:(B(a,Rf,this.c,0),b=!0),this.m=b,b=this.i,this.i=a,b!==x&&this.ua(Me.SPATIAL),this},Uf.prototype.setGeometry=Uf.prototype.c,Uf.prototype.b=function(){var a=B(this.i,E)?this.i:this.i.ma[0];return jb(this.b,"See H.map.Polygon#getGeometry"),a.$a},Uf.prototype.getStrip=Uf.prototype.b,Uf.prototype.f=function(a){var b;if(jb(this.f,"See H.map.Polygon#setGeometry"),B(a,F,this.f,0),3>a.f())throw new C(this.f,0);return b=this.b(),this.c(new E(a)),this.dispatchEvent(new Ne("stripchange",this.b(),b)),this},Uf.prototype.setStrip=Uf.prototype.f,Uf.prototype.S=function(){return this.Ca().S()},Uf.prototype.getBounds=Uf.prototype.S,Uf.prototype.ec=function(a){var b,d,e,f,c=this.Ca();if(this.m)for(f=0,e=(c=c.ma).length;f<e;f++)(d=Vf(this,c[f],a,c[f].hc))&&(b||(b=[]),b.push(d));else(d=Vf(this,c,a,Wf(this)))&&(b=[d]);return b},Uf.prototype.getGeometriesForTile=Uf.prototype.ec,Uf.prototype.kb=x,Uf.prototype.A=function(a){return a=a?cc.NORTH:cc.SOUTH,jb(this.A,"See H.geo.Polygon#setPoleCovering"),this.Ub!==a&&(this.Ub=a,this.m||this.ua(Me.SPATIAL)),this},Uf.prototype.setNorthPoleCovering=Uf.prototype.A,Uf.prototype.Ya=function(){return jb(this.Ya,"See H.geo.Polygon#getPoleCovering"),Wf(this)===cc.NORTH},Uf.prototype.getNorthPoleCovering=Uf.prototype.Ya,Uf.prototype.Tb=function(){var b,c,d,a=this.Ca();if(jb(Uf.prototype.Tb),this.m)for(d=(b=a.ma).length,a=[],c=0;c<d;c++)a=a.concat(Yf(b[c].$a,b[c].S()));else a=Yf(a.$a,a.S());return a},Uf.prototype.clip=Uf.prototype.Tb,v(lg,Uf),r("H.map.Circle",lg),lg.prototype.Za=function(a){(a=ic(a)).pa(this.o)||(this.o=a,mg(this))},lg.prototype.setCenter=lg.prototype.Za,lg.prototype.Oa=function(){return this.o},lg.prototype.getCenter=lg.prototype.Oa,lg.prototype.wa=function(a){if(D(a=Qb(a,0,6371000.79*Db/2)))throw new C(this.wa,0,a);this.Ba!==a&&(this.Ba=a,mg(this))},lg.prototype.setRadius=lg.prototype.wa,lg.prototype.Zd=function(){return this.Ba},lg.prototype.getRadius=lg.prototype.Zd,lg.prototype.a=60,lg.prototype.sa=function(a){if(!ab(a))throw new C(this.sa,0,a);this.a!==(a=Qb(nb(a),4,360))&&(this.a=a,mg(this))},lg.prototype.setPrecision=lg.prototype.sa,lg.prototype.Yd=function(){return this.a},lg.prototype.getPrecision=lg.prototype.Yd,lg.prototype.A=function(){return this},lg.prototype.setNorthPoleCovering=lg.prototype.A,lg.prototype.c=function(){return this},lg.prototype.setGeometry=lg.prototype.c,lg.prototype.Ca=function(){return this.i||lg.u.c.call(this,ng(this)),this.i},lg.prototype.getGeometry=lg.prototype.Ca,lg.prototype.f=function(){return this},lg.prototype.setStrip=lg.prototype.f,lg.prototype.b=function(){return this.Ca().$a},lg.prototype.getStrip=lg.prototype.b,v(og,Pf),r("H.geo.MultiLineString",og),og.prototype.b=F,v(pg,Jf),r("H.map.Polyline",pg),pg.prototype.S=function(){return this.a.S()},pg.prototype.getBounds=pg.prototype.S,pg.prototype.f=function(a){var b;return jb(this.f,"See H.map.Polyline#setGeometry"),qg(a,this.f),b=this.b(),this.c(a),this.dispatchEvent(new Ne("stripchange",this.b(),b)),this},pg.prototype.setStrip=pg.prototype.f,pg.prototype.b=function(){return jb(this.b,"See H.map.Polyline#getGeometry"),B(this.a,F)?this.a:this.a.ma[0]},pg.prototype.getStrip=pg.prototype.b,pg.prototype.a=x,pg.prototype.c=function(a){var c,d,e,b=this.c;if(B(a,og)){if(!(d=(c=a.ma).length))throw new C(b,0);for(e=0;e<d;e++)qg(c[e],b)}else qg(a,b);return this.m=!!c,this.a=a,this.ua(Me.SPATIAL),this},pg.prototype.setGeometry=pg.prototype.c,pg.prototype.Ca=function(){return this.a},pg.prototype.getGeometry=pg.prototype.Ca,pg.prototype.i=function(a){var b=this.a;return yf(this.m?b.ma[0]:b,a)},pg.prototype.clip=pg.prototype.i,pg.prototype.ec=function(a){var b;b=this.a;var c,d=[];if(this.m)for(c=(b=b.ma).length;c--;)rg(this,b[c],a,d);else rg(this,b,a,d);return d.length?d:A},pg.prototype.getGeometriesForTile=pg.prototype.ec,v(sg,Pf),r("H.geo.MultiPoint",sg),sg.prototype.c=function(a){return hc(a)},sg.prototype.l=function(a){return B(a,gc)?a:ic(a)},sg.prototype.b=gc;var vg={Eh:" ",Ch:"(",Dh:")",sh:",",wh:""};function wg(a,b){var c=a.next(),d=b?")":"(";c!==d&&tg(a,c,'"'+d+'"')}function xg(a){return","===yg(a)&&(a.next(),!0)}function zg(a,b,c,d,e){var f,g,h=2+b+c;for(g=1;g<=h;g++)(c=a.next())?(f=+c)!==f?tg(a,c,"number"):1===g?d[e+1]=f:2===g?d[e+0]=f:3===g&&(d[e+2]=f):tg(a,c);b||(d[e+2]=0)}Object.keys(vg).reduce(function(a,b){return a[vg[b]]=!0,a},Ka());var Ag=[];function Bg(a,b,c,d){return d||wg(a,0),zg(a,b,c,Ag,0),d||wg(a,1),new gc(Ag[0],Ag[1],b?Ag[2]:A)}function Cg(a,b,c){var d=[];wg(a,0);do{zg(a,b,c,d,d.length)}while(xg(a));return wg(a,1),new F(d)}function Dg(a,b,c){var d,e;if(wg(a,0),d=Cg(a,b,c),xg(a)){e=[];do{e.push(Cg(a,b,c))}while(xg(a))}return wg(a,1),new E(d,e)}var Eg=[],Fg=[Dg],Gg=[Bg],Hg={POINT:Gg,LINESTRING:[Cg],POLYGON:Fg,MULTIPOINT:[Bg,sg],MULTILINESTRING:[Cg,og],MULTIPOLYGON:[Dg,Rf],GEOMETRY:Eg,GEOMETRYCOLLECTION:Eg,CIRCULARSTRING:Eg,COMPOUNDCURVE:Eg,CURVEPOLYGON:Eg,MULTICURVE:Eg,MULTISURFACE:Eg,CURVE:Eg,SURFACE:Eg,POLYHEDRALSURFACE:Eg,TIN:Eg,TRIANGLE:Eg},Ig={Z:1,M:2,ZM:3};function ug(a){var b,c,d,e,f;if(c=(a=new Jg(a)).next(),(b=Hg[c.toUpperCase()])||tg(a,c,"type name"),b!==Eg){if(c=yg(a),(d=1&(c=Ig[c.toUpperCase()]))|(e=c>>1)&&a.next(),"EMPTY"===(c=yg(a)))a.next(),(d=b[1])?f=new d([]):b!==Gg&&(f=new F([]),b===Fg&&(f=new E(f)));else if("("===c){var g,h;if(f=b[0],b=b[1]){if(g=[],wg(a,0),f===Bg){h="("!==yg(a);do{g.push(f(a,d,e,h))}while(xg(a))}else do{g.push(f(a,d,e))}while(xg(a));wg(a,1),d=new b(g)}else d=f(a,d,e);f=d}else tg(a,c,'"Z", "M", "ZM", "(" or "EMPTY"');a.next()&&tg(a,c,"end of stream")}return f||x}function Jg(a){this.a=a}function yg(a){var b=a.b;if(b===A){for(b=a.a;b.a()===Kg;)b.next();if(Lg[b.a()])b=(b=b.next())===Mg?"":String.fromCharCode(b);else{b.m();do{b.next()}while(!Lg[b.a()]);b=String.fromCharCode.apply(null,b.l())}a.b=b}return b}Jg.prototype.next=function(){var a=yg(this);return""!==a&&delete this.b,a};var Kg=32,Mg=-1,Ng={Eh:Kg,Ch:40,Dh:41,sh:44,wh:Mg},Lg=Object.keys(Ng).reduce(function(a,b){return a[Ng[b]]=!0,a},Ka());function Og(){}function Pg(a){this.f=String(a),this.g=0,this.b=[],this.c=!1}function Qg(a){var c,b=""+Ae();if(a=a||{},this.min=a.min||0,this.max=a.max||22,c=a.uri){if(/_/.test(c))throw new C(Qg,0,"uri "+c)}else c=b;this.uri=c||b,this.uid=b,a.getCopyrights&&Xa(a.getCopyrights,"Function",Qg)&&(this.getCopyrights=a.getCopyrights),Qg.u.constructor.call(this)}function Rg(a,b){a.dispatchEvent(new Bc(a.F.la,b))}function Sg(a){var b;if(Ua(this,Sg),Sg.u.constructor.call(this,a),a&&"tileSize"in a){if(b=sb(+a.tileSize)/Cb,isNaN(b)||b%1||0>b||30<b)throw new C(Sg,0,"tileSize: "+a.tileSize);this.tileSize=+a.tileSize}}function Tg(a,b){return Nb(a)-8-nb(Nb(b))}function Ug(){}function Vg(a,b,c){if(b&&this.c(b),c&&!sa(c))throw new C(Vg,2,c);this.a=0,this.filter=c,this.Y={},this.f=this.b=null,this.i(a)}function Wg(a,b){return b&&(a.b=Yg(a,b,a.b)),b}function Zg(a){for(;a.a>a.l&&a.f;)Xg(a,a.f,!0)}function Yg(a,b,c){return c!==b&&((b.xb||b.Xb)&&Xg(a,b),(b.xb=c)&&(b.Xb=c.Xb,c.Xb=b),b.Xb||(a.b=b),b.xb||(a.f=b),a.a+=b.size),b}function Xg(a,b,c){var d=b.Xb,e=b.xb;(d||e||b==a.b&&b==a.f)&&(d?d.xb=e:a.b=e,e?e.Xb=d:a.f=d,a.a-=b.size,c&&(a.j&&a.j(b.id,b.data,b.size),delete a.Y[b.id])),b.xb=b.Xb=null}function $g(a,b,c,d){this.key="",this.x=a,this.y=b,this.z=c,this.data=d,this.valid=!0}function N(a){Ua(this,N),N.u.constructor.call(this,a),this.a={},this.Ha=new ah,this.m=z(this.m,this),this.g=bh}r("H.util.ICharStream",Og),Og.prototype.next=function(){},Og.prototype.m=function(){},Og.prototype.l=function(){},Og.prototype.a=function(){},r("H.util.CharStream",Pg),Pg.prototype.next=function(){var a=this.f.charCodeAt(this.g++);a=isNaN(a)?-1:a;return this.c&&this.b.push(a),a},Pg.prototype.m=function(){this.c=!0,this.b=[]},Pg.prototype.l=function(){var a=this.b.slice();return this.c=!1,this.b=[],a},Pg.prototype.a=function(a){return a=this.f.charCodeAt(this.g+(a||0)),isNaN(a)?-1:a},r("H.util.wkt.toGeometry",function(a){return ug(new Pg(a))}),v(Qg,I),r("H.map.provider.Provider",Qg),Qg.prototype.F={la:"update"},Qg.prototype.D=function(){I.prototype.D.call(this)},Qg.prototype.Ia=function(){return null},Qg.prototype.getCopyrights=Qg.prototype.Ia,Qg.prototype.s=Ce,Qg.prototype.providesSpatials=Qg.prototype.s,Qg.prototype.ba=Ce,Qg.prototype.providesOverlays=Qg.prototype.ba,Qg.prototype.l=Ce,Qg.prototype.providesMarkers=Qg.prototype.l,Qg.prototype.i=Ce,Qg.prototype.providesDomMarkers=Qg.prototype.i,v(Sg,Qg),r("H.map.provider.TileProvider",Sg),Sg.getZoomLevelOffset=Tg,Sg.prototype.A=function(a,b,c){return this.uri.concat("_",a,"_",b,"_",c)},Sg.prototype.getTileKey=Sg.prototype.A,Sg.prototype.Va=256,Sg.prototype.tileSize=Sg.prototype.Va,r("H.util.ICache",Ug),Ug.prototype.add=function(){},Ug.prototype.add=Ug.prototype.add,Ug.prototype.get=function(){},Ug.prototype.get=Ug.prototype.get,Ug.prototype.g=function(){},Ug.prototype.drop=Ug.prototype.g,Ug.prototype.forEach=function(){},Ug.prototype.forEach=Ug.prototype.forEach,Ug.prototype.Ea=function(){},Ug.prototype.removeAll=Ug.prototype.Ea,Ug.prototype.c=function(){},Ug.prototype.registerOnDrop=Ug.prototype.c,r("H.util.Cache",Vg),Vg.prototype.add=function(a,b,c){var d,e;if(!ab(c=+c)||0>c)throw new C(this.add,2,c);return a=String(a),d=this.Y[a],e=!0,this.filter&&(e=this.filter(a,b,c)),d?e?(this.a+=c-d.size,d.size=c,d.data=b,Wg(this,d)):Xg(this,d,!0):e&&(this.Y[a]=Yg(this,{id:a,data:b,size:c,xb:null,Xb:null},this.b)),Zg(this),e},Vg.prototype.add=Vg.prototype.add,Vg.prototype.c=function(a){if(!sa(a))throw new C(this.c,0,a);this.j=a},Vg.prototype.registerOnDrop=Vg.prototype.c,Vg.prototype.get=function(a,b){var c=b?this.Y[a]:Wg(this,this.Y[a]);return c&&c.data},Vg.prototype.get=Vg.prototype.get,Vg.prototype.g=function(a){var b;(b=this.Y[a])&&Xg(this,b,!0)},Vg.prototype.drop=Vg.prototype.g,Vg.prototype.forEach=function(a,b,c){var d,e;for(e in this.Y)d=this.Y[e],(!c||c(e,d.data,d.size))&&a.call(b,e,d.data,d.size)},Vg.prototype.forEach=Vg.prototype.forEach,Vg.prototype.Ea=function(a){var b,c;for(c in this.Y)b=this.Y[c],(!a||a(c,b.data,b.size))&&Xg(this,this.Y[c],!0)},Vg.prototype.removeAll=Vg.prototype.Ea,Vg.prototype.i=function(a){if(!(0<+a))throw new C(Vg.prototype.i,0,a);return this.l=+a,Zg(this),this},Vg.prototype.setMaxSize=Vg.prototype.i,Vg.prototype.m=function(){return this.l},Vg.prototype.getMaxSize=Vg.prototype.m,Vg.prototype.o=function(){return this.a},Vg.prototype.getCurrentSize=Vg.prototype.o,r("H.map.provider.Tile",$g),v(N,Sg),r("H.map.provider.RemoteTileProvider",N),N.prototype.v=function(){return 1},N.prototype.getEntryWeight=N.prototype.v;var bh=new Vg(65536);function ch(a,b,c,d,e,f){var g=a.B();return d=~~d,a.requestInternal(b,c,d,function(h,k){g.gd(a.A(b,c,d),k&&{raw:k.zi,timestamp:w.Date.now()},e,f)},f,0)}N.prototype.Ba=function(){return this.g},N.prototype.getCache=N.prototype.Ba,N.prototype.N=ba(0),N.prototype.m=function(a){var b=this.uri;return!a.indexOf(b)&&"_"===a.charAt(b.length)},N.prototype.cacheFilter=N.prototype.m,N.prototype.sa=function(a,b){b.valid=!1},N.prototype.j=function(a){var b,c=this.getCache();for(b in a?c.Ea(this.m):c.forEach(this.sa,this,this.m),this.a)this.a[b].cancel();this.a={},Rg(this)},N.prototype.reload=N.prototype.j,N.prototype.Rc=function(){return!1},N.prototype.canStore=N.prototype.Rc,N.prototype.MAX_STORE_TIME=1/0,N.prototype.B=function(){return this.Ha},N.prototype.getStorage=N.prototype.B,N.prototype.Ga=function(a,b){b(a)},N.prototype.requestInternal=N.prototype.c,N.prototype.o=function(a,b,c,d){var f,g,h,l,e=this,k=this.getCache(),m=this.a,n=this.B();if(D(a=+a))throw new C(this.o,0,a);if(D(b=+b))throw new C(this.o,0,b);if(D(c=+c))throw new C(this.o,0,c);return c=~~c,f=this.getTileKey(a,b,c),(g=k.get(f))&&g.valid||d||this.a[f]||(m[f]=dh,h=function(d){var h;d&&(h=w.Date.now()-d.timestamp),d&&h<e.MAX_STORE_TIME?e.Ga(d.raw,function(h){delete e.a[f],(g=e.createTileInternal(a,b,c,h,{})).key=f,k.add(f,g,e.v(d)),Rg(e,g)}):(h&&n.remove(f),g=void 0,e.a[f]=e.requestInternal(a,b,c,function(d,h){(g=e.createTileInternal(a,b,c,d,h)).key=f,k.add(f,g,e.v(d)),delete e.a[f],Rg(e,g)},function(){delete e.a[f]}),g&&delete e.a[f])},(l=n.get(f,h,function(){l=e.Ha.get(f,h)}))&&m[f]===dh&&(m[f]=l)),g},N.prototype.requestTile=N.prototype.o;var dh={cancel:function(){}};function ah(){}function eh(a){if(!a||!sa(a.requestData))throw new C(eh,0,"options.requestData");eh.u.constructor.call(this,a),this.ea=a.requestData,this.O=!!a.providesDomMarkers}function M(a,b){this.x=+a,this.y=+b}function gh(a){if(!a)throw new C(gh,0,a);return B(a,M)?a:new M(a.x,a.y)}function hh(){}N.prototype.createTileInternal=function(a,b,c,d){return new $g(a,b,c,d)},N.prototype.K=function(a){var b=this.a[a];b&&(b.cancel(),delete this.a[a])},N.prototype.cancelTileByKey=N.prototype.K,N.prototype.T=function(a,b,c){this.cancelTileByKey(this.getTileKey(a,b,c))},N.prototype.cancelTile=N.prototype.T,N.prototype.D=function(){var a;for(a in N.u.D.call(this),this.getCache().Ea(this.m),this.a)this.a[a].cancel(),delete this.a[a]},N.NullStorage=ah,ah.prototype.get=function(a,b){return b(),dh},ah.prototype.get=ah.prototype.get,ah.prototype.gd=function(a,b,c){c&&c()},ah.prototype.put=ah.prototype.gd,ah.prototype.clear=function(a){a&&a()},ah.prototype.clear=ah.prototype.clear,ah.prototype.remove=function(a,b){b&&b()},ah.prototype.remove=ah.prototype.remove,v(eh,N),r("H.map.provider.MarkerTileProvider",eh),eh.prototype.v=function(a){return a?a.length+1:1},eh.prototype.getEntryWeight=eh.prototype.v,eh.prototype.c=function(a,b,c,d,e){var f=this;return this.ea(a,b,c,function(e){for(var k,l,h=[],m=e.length;m--;)(l=e[m]).Di=f.getTileKey(a,b,c),l.ia(f),k=l.sb(),(B(l,fh)||k.getState()===k.Pc.READY)&&h.push(e[m]);d(h)},e)},eh.prototype.requestInternal=eh.prototype.c,eh.prototype.C=function(a,b){var c;b!==Me.NONE&&((c=this.g.get(a.Di))&&(c.valid=!1),Rg(this,c))},eh.prototype.invalidateObject=eh.prototype.C,eh.prototype.i=function(){return this.O},eh.prototype.providesDomMarkers=eh.prototype.i,eh.prototype.l=Be,eh.prototype.providesMarkers=eh.prototype.l,r("H.math.Point",M),M.prototype.set=M,M.prototype.set=M.prototype.set,M.prototype.clone=function(a){return a?(a.x=this.x,a.y=this.y):a=new M(this.x,this.y),a},M.prototype.clone=M.prototype.clone,M.prototype.add=function(a){return this.x+=a.x,this.y+=a.y,this},M.prototype.add=M.prototype.add,M.prototype.b=function(a){return this.x-=a.x,this.y-=a.y,this},M.prototype.sub=M.prototype.b,M.prototype.scale=function(a,b){return this.x*=a,this.y*=void 0===b?a:b,this},M.prototype.scale=M.prototype.scale,M.prototype.round=function(){return this.x=nb(this.x),this.y=nb(this.y),this},M.prototype.round=M.prototype.round,M.prototype.floor=function(){return this.x=pb(this.x),this.y=pb(this.y),this},M.prototype.floor=M.prototype.floor,M.prototype.ceil=function(){return this.x=qb(this.x),this.y=qb(this.y),this},M.prototype.ceil=M.prototype.ceil,M.prototype.pa=function(a){return!(!a||this.x!==a.x||this.y!==a.y)},M.prototype.equals=M.prototype.pa,M.prototype.a=function(a,b){var e,c=b.x-a.x,d=b.y-a.y,f=a;return(c||d)&&(f=0>=(e=((this.x-a.x)*c+(this.y-a.y)*d)/(c*c+d*d))?a:1<=e?b:new M(a.x+e*c,a.y+e*d)),f},M.prototype.getNearest=M.prototype.a,M.prototype.distance=function(a){return tb(ub(this.x-a.x,2)+ub(this.y-a.y,2))},M.prototype.distance=M.prototype.distance,M.fromIPoint=gh,hh.prototype.zc=function(){},r("H.geo.IProjection.prototype.latLngToPoint",hh.prototype.zc),hh.prototype.Aa=function(){},r("H.geo.IProjection.prototype.xyToGeo",hh.prototype.Aa),hh.prototype.Fc=function(){},r("H.geo.IProjection.prototype.pointToGeo",hh.prototype.Fc),hh.prototype.qb=function(){},r("H.geo.IProjection.prototype.geoToPoint",hh.prototype.qb);var ih={};function jh(a,b){this.projection=a||ih,this.g=0,this.c=this.exp=sb(b||256)/Cb,kh(this),this.y=this.x=0}r("H.geo.mercator",ih),ih.a=function(a){return lb(1,mb(0,.5-sb(zb(Fb+Eb*a/180))/Db/2))},ih.b=function(a){return a/360+.5},ih.zc=function(a,b,c){return c?(c.x=ih.b(b),c.y=ih.a(a)):c=new M(ih.b(b),ih.a(a)),c},ih.latLngToPoint=ih.zc,ih.qb=function(a,b){return ih.zc(a.lat,a.lng,b)},ih.geoToPoint=ih.qb,ih.f=function(a){return 0>=a?90:1<=a?-90:Kb*(2*Ab(vb(Db*(1-2*a)))-Eb)},ih.c=function(a,b){return b?0>=a?-180:1<=a?180:360*Ob(a,1)-180:360*(1===a?1:Ob(a,1))-180},ih.Aa=function(a,b,c,d){return c?(c.lat=ih.f(b),c.lng=ih.c(a,d)):c=new gc(ih.f(b),ih.c(a,d)),c},ih.xyToGeo=ih.Aa,ih.Fc=function(a,b,c){return ih.Aa(a.x,a.y,b,c)},ih.pointToGeo=ih.Fc,r("H.geo.PixelProjection",jh);var lh=rb(28)+rb(-8);function kh(a){a.c>lh&&(a.c=lh),a.w=ub(2,a.c),a.h=ub(2,a.c)}function mh(a){mh.u.constructor.call(this),a=a||{},this.min=0,this.max=22,this.Oh=!!a.dark,a.min&&this.B(a.min),a.max&&this.s(a.max),this.pixelProjection=new jh(a.projection,a.minWorldSize)}function nh(a,b){var c=b||{};if(!a)throw new C(oh,0,a);this.l=z(this.l,this),this.f=a,a.addEventListener(Qg.prototype.F.la,this.l,!1,this),this.tileSize=a.tileSize,this.N={},mh.call(this,{min:a.min,max:a.max,minWorldSize:this.tileSize,projection:c.bj,dark:c.dark})}function rh(a,b,c,d,e){d=pb(d);var f=ub(2,d),g=b.left,h=b.top,k=b.right;c=k+(c?f+(k===b.left?0:1):1);var n,q,l=b.bottom,m=[];for(e&&(n=g+(1+k-g)/2+e.x/a.tileSize-.5,q=h+(1+l-h)/2+e.y/a.tileSize-.5);g<c;){for(h=b.top;h<=l;)a=g%f,m.push([a,h,d,e?rb(n-g)+rb(q-h):0]),h++;g++}return m}function sh(a,b,c){return c=pb(c),a.pixelProjection.Ja(c),b=a.j(b),rh(a,a.i(b,c),b.left>b.right,c)}function th(a,b){return b[3]-a[3]}function uh(a,b){this.opacity=1,uh.u.constructor.call(this,a,b)}jh.prototype.Ja=function(a){if(D(a))throw new C(this.Ja,0,a);var b=this.x/this.w,c=this.y/this.h;this.g=a,this.c=this.exp+a,kh(this),this.x=b*this.w,this.y=c*this.h},jh.prototype.rescale=jh.prototype.Ja,jh.prototype.mg=function(){return this.g||0},jh.prototype.getZoomScale=jh.prototype.mg,jh.prototype.geoToPixel=function(a,b){var c=this.projection.zc(a.lat,a.lng,b);return c.x=c.x*this.w-this.x,c.y=c.y*this.h-this.y,c},jh.prototype.geoToPixel=jh.prototype.geoToPixel,jh.prototype.a=function(a,b,c){return this.projection.Aa((a.x+this.x)/this.w,(a.y+this.y)/this.h,b,c)},jh.prototype.pixelToGeo=jh.prototype.a,jh.prototype.Aa=function(a,b,c,d){return this.projection.Aa((a+this.x)/this.w,(b+this.y)/this.h,c,d)},jh.prototype.xyToGeo=jh.prototype.Aa,jh.prototype.f=function(a,b,c){return(a=this.projection.zc(a,b,c)).x=a.x*this.w-this.x,a.y=a.y*this.h-this.y,a},jh.prototype.latLngToPixel=jh.prototype.f,jh.prototype.b=function(a){return new M(a.x*this.w-this.x,a.y*this.h-this.y)},jh.prototype.pointToPixel=jh.prototype.b,v(mh,I),r("H.map.layer.Layer",mh),mh.prototype.a={la:"update",Uf:"minchange",Tf:"maxchange"},mh.prototype.K=function(a){return this.min<=a&&a<=this.max},mh.prototype.isValid=mh.prototype.K,mh.prototype.B=function(a){var b=this.min;if(a!==b){if(D(a))throw new C(mh.prototype.B,0,"min is NaN");if(!(a<=this.max))throw new C(mh.prototype.B,0,"min > max");this.min=a,this.dispatchEvent(new Ne(this.a.Uf,a,b)),this.l()}return this},mh.prototype.setMin=mh.prototype.B,mh.prototype.s=function(a){var b=this.max;if(a!==b){if(D(a))throw new C(mh.prototype.s,0,"max is NaN");if(!(a>=this.min))throw new C(mh.prototype.s,0,"max < min");this.max=a,this.dispatchEvent(new Ne(this.a.Tf,a,b)),this.l()}return this},mh.prototype.setMax=mh.prototype.s,mh.prototype.l=function(){this.dispatchEvent(this.a.la)},mh.prototype.D=function(){mh.u.D.call(this)},mh.prototype.Ia=function(){return null},mh.prototype.getCopyrights=mh.prototype.Ia,v(nh,mh),r("H.map.layer.BaseTileLayer",nh),nh.prototype.Pa=function(){return this.f},nh.prototype.getProvider=nh.prototype.Pa,nh.prototype.j=function(a,b){var c,e,d=this.pixelProjection;if(!B(a,G))throw new C(this.j,0,a);return D(b)||(c=d.mg(),d.Ja(b)),e=ph(d.geoToPixel(a.tb()),d.geoToPixel(a.rb())),!D(c)&&d.Ja(c),e},nh.prototype.geoRectToRect=nh.prototype.j,nh.prototype.i=function(a,b){if(!B(a,qh))throw new C(this.i,0,a);if(D(b=+b))throw new C(this.i,1,b);var e,f,c=ub(2,pb(b)),d=this.tileSize;return(e=pb(a.left/d))===c&&--e,(f=pb(a.right/d))===c&&--f,new qh(e,Qb(pb(a.top/d),0,c-1),f,Qb(pb(a.bottom/d),0,c-1))},nh.prototype.getTileBounds=nh.prototype.i,nh.prototype.A=function(a,b,c,d){return this.f.requestTile(a,b,c,d)},nh.prototype.m=function(a,b,c){this.f.cancelTile(a,b,c)},nh.prototype.cancelTile=nh.prototype.m,nh.prototype.Ia=function(a,b){return this.f.getCopyrights?this.f.getCopyrights(a,b):null},nh.prototype.getCopyrights=nh.prototype.Ia,nh.prototype.o=function(a,b,c,d,e,f){if(!B(a,qh))throw new C(this.o,0,a);if(D(c=+c))throw new C(this.o,1,c);var g,k,h=[],l=this.f;f=null!=f?f:"__default__";var m=l.requestTile;if(d||(g={}),a=(b=rh(this,a,b,c,e)).length)for(d||b.sort(th),c=a;c--;)e=b[c],d||(g[l.A.apply(l,e)]=!0),e[3]=+d,(k=m.apply(l,e))&&h.push(k);if(!d){var n;for(n in d=g,g=this.N[f]||{})g.hasOwnProperty(n)&&g[n]&&!d[n]&&this.f.cancelTileByKey(n);this.N[f]=d}return{total:a,tiles:h}},nh.prototype.getProviderTiles=nh.prototype.o,v(uh,nh),r("H.map.layer.MarkerTileLayer",uh);var vh={markers:[],total:0,requested:0};function wh(a,b,c,d,e){var f,g;for(f=pb(c),a.pixelProjection.Ja(f),b=a.j(b),f=a.i(b,f),a=(c=a.o(f,f.left>f.right,~~c,d,e)).tiles,c=c.total,d=a.length,e=[],g=0;g<d;g++)for(b=(f=a[g]).data.length;b--;)e.push(f.data[b]);return{markers:e,total:a.length,requested:c}}function xh(a,b){xh.u.constructor.call(this,Of,b),this.o(a)}function yh(a){var c,d,e,f,b=a.a;return a=[c=b.ka,d=b.ga,A,c,f=b.ha,A,e=b.ja,f,A,e,d,A],180<=b.ab()&&(a.splice(9,0,e,d=b.Oa().lng,A),a.splice(3,0,c,d,A)),new E(new F(a))}function zh(a,b,c){if(!a||!b||!c)throw new C(zh,null,"Must specify name, version and revision parameter");this.name=a,this.version=b,this.revision=c}uh.prototype.c=function(a,b,c,d){return this.f.providesDomMarkers()?vh:wh(this,a,b,c,d)},uh.prototype.requestMarkers=uh.prototype.c,uh.prototype.b=function(a,b,c,d){return this.f.providesDomMarkers()?wh(this,a,b,c,d):vh},uh.prototype.requestDomMarkers=uh.prototype.b,v(xh,Uf),r("H.map.Rect",xh),xh.prototype.o=function(a){if(!B(a,G))throw new C(this.o,0,a);a.pa(this.kb)||(this.kb=this.a=a,this.i!==x&&xh.u.c.call(this,yh(this)))},xh.prototype.setBounds=xh.prototype.o,xh.prototype.S=function(){return this.a},xh.prototype.getBounds=xh.prototype.S,xh.prototype.A=function(){return this},xh.prototype.setNorthPoleCovering=xh.prototype.A,xh.prototype.c=function(){return this},xh.prototype.setGeometry=xh.prototype.c,xh.prototype.Ca=function(){return this.i||xh.u.c.call(this,yh(this)),this.i},xh.prototype.getGeometry=xh.prototype.Ca,xh.prototype.f=function(){return this},xh.prototype.setStrip=xh.prototype.f,xh.prototype.b=function(){return this.Ca().$a},xh.prototype.getStrip=xh.prototype.b,r("H.util.BuildInfo",zh),zh.prototype.toString=function(){return this.name+";"+this.version+";"+this.revision};var Ah={};function Bh(a,b,c){if(!a)throw new C(Bh,1,"Must specify a name parameter");return Ah[a]||(Ah[a]=new zh(a,b,c))}function Ch(){Ch.u.constructor.call(this),this.a=Dh(this),this.f=Ka(),this.c=z(this.c,this),this.a.addEventListener("message",this.c)}zh.get=Bh,v(Ch,I),Ch.prototype.D=function(){this.a.terminate()},Ch.prototype.i=function(a){var b=a.type,c=!!this.f[b],d=a.data,e=Eh++,f=d&&d.Ei?d.Ei:A,g=!0;return c?(this.b[e]=a,Fh(this,b,e,d&&d.message,f)):(a.reject(new C(this.i,0,"processor_not_found")),g=!1),g},Ch.prototype.c=function(a){a=a.data;var b=this.b[a.taskId],c=a.taskId,d=a.data,e=this;if(2===a.type)new Gh(Hh,d).then(function(a){e.a.postMessage(["3",c,[a]],[a])},function(){e.a.postMessage(["3",c,[null,"ERROR"]])});else{if(b){switch(a.type){case 1:b.resolve(d);break;case 0:b.reject(d)}delete this.b[c]}this.dispatchEvent(new Bc(this.g.IDLE))}},Ch.prototype.b={};var Eh=0,Mh,a;function Ih(a,b,c){var e,d=Eh++;return a.b[d]=e=gd(),Fh(a,b,d,c),e.sf}function Fh(a,b,c,d,e){d===A||qa(d)||(d=[d]);try{a.a.postMessage([b,c,d],e)}catch(f){(a=a.b[c]).reject(f.message)}}function Dh(a){var b=w.H.__bootstrap__,c,b=sa(b)?(""+b).replace(/^[^{]+{((.|[\r\n])+?)}\s*$/,"$1"):""+b;if(w.Worker&&w.URL)try{c=new w.Worker(w.URL.createObjectURL(Ke(b,"application/javascript")))}catch(d){}return c||(a=new Jh(a),function(){eval("var self = arguments[0];"+b)}(a),c=new Kh(a)),c}function Kh(a){I.call(this),this.a=a}function Jh(a){I.call(this),this.a=a,this.addEventListener=z(this.addEventListener,this),this.removeEventListener=z(this.removeEventListener,this),this.postMessage=z(this.postMessage,this),this.eval=z(eval,this)}function Lh(){var a=Mh;return a||(a=Mh=this,I.call(a),this.b()),a}function Nh(a,b,c){td.call(this,a,b,c)}function Oh(a,b){var d=(c=b||{}).contextType,c=c.contextAttributes;if(Oh.u.constructor.call(this,b),B(a,Function,Oh,0,"invalid render callback"),d){if(-1===Ph.indexOf(d))throw new C(Oh,1,"invalid context type");this.v=d}c&&(this.F=c),this.g=a}Ch.prototype.g={IDLE:"idle",ERROR:"error"},Ch.prototype.l=function(a,b){var c=this.j||(this.j=new Bc(this.g.ERROR));c.data=b,delete this.f[a],this.dispatchEvent(c)},Ch.prototype.importScripts=function(a){Ih(this,"0",a)},v(Kh,I),Kh.prototype.postMessage=function(a){w.setTimeout(z(this.b,this,a),0)},Kh.prototype.b=function(a){var b=new Bc("message");b.data=a,this.a.dispatchEvent(b)},Kh.prototype.terminate=function(){this.a.J(),this.J()},v(Jh,I),Jh.prototype.postMessage=function(a){var b=new Bc("message");b.data=a,w.setTimeout(z(this.a.c,this.a,b),0)},v(Lh,I),Lh.prototype.D=function(){Lh.u.D.call(this),this.b()},Ca(Lh.prototype,{b:function(){var b,a=this.Hf;if(a)for(b=a.length;b--;)a[b].J();this.Hf=[],this.Ed=Ka(),this.Zg=Ka()},se:function(a){var b,c,d;if(a=a.type,!(d=this.Zg[a]))throw new kc(this.se,'Unknown type "'+a+'"');return(c=(b=this.Hf)[0])||(c=b[0]=new Ch,this.Eb(za(Ac,c)),Wa(this.Ed)||c.importScripts(w.Object.keys(this.Ed))),(b=c).f[a]||(b.f[a]=d,Ih(b,"1",[a,sa(d)?d+"":d]).then(sc,z(b.l,b,a))),c},ye:function(){},md:function(a,b){var c=this.Zg,d=c[a];if(d){if(b!==d)throw new kc(this.md,'Type "'+a+'" is already registered')}else c[a]=b},importScripts:function(a){[].concat(a).forEach(function(a){this.Ed[a]||(this.Ed[a]=!0,this.Hf.forEach(function(c){c.importScripts(a)}))},this)}}),v(Nh,td),Ca(Nh.prototype,{Fe:(a=new wd(new Lh),function(){return a}),Sc:sc,De:function(a){return a.i(this)}}),v(Oh,mh),r("H.map.layer.CanvasLayer",Oh);var Ph=Ra("2d webgl webgl2 experimental-webgl");function Qh(a,b){Qh.u.constructor.call(this,b),B(a,Function,Qh,0,"invalid render callback"),this.f=a}function Rh(a,b){var c,d=a;if(!B(d,Element)){if(Sh.innerHTML=d,!(d=Sh.firstElementChild))throw new C(Rh,0,"No element data");Sh.removeChild(d),c=!0,Sh.innerHTML=""}this.c=0!==Ee(d).length,this.i=c?d:Fe(d,w.document,this.c),b&&((c="onAttach")in b&&Xa(d=b[c],"Function",Rh,1,c)&&(this.ff=d),(c="onDetach")in b&&Xa(d=b[c],"Function",Rh,1,c)&&(this.f=d))}Oh.prototype.v="2d",Oh.prototype.ca=function(a,b){return this.f&&this.f.canvas===a||(this.f=a.getContext(this.v,this.F)),this.g(this.f,b)},Oh.prototype.D=function(){Oh.u.D.call(this),this.f=A},v(Qh,mh),r("H.map.layer.DomLayer",Qh),Qh.prototype.ca=function(a,b){return this.f(a,b)},r("H.map.DomIcon",Rh);var Sh=document.createElement("DIV");function Th(a,b){this.w=+a,this.h=+b}function Uh(a,b){var c,d,e,f,g,h,k;f=a;var l=b||[];if(a!==Vh.NONE){if(c=d=l.length,-1===this.c.indexOf(f))throw new C(Uh,0,a);if(!l)throw new C(Uh,1,l);for(;d--;)if(D(l[d]))throw new C(Uh,1,l);if(f===Vh.RECT&&3<c&&(l=[l[0],l[1],l[2],l[1],l[2],l[3],l[0],l[3]],f=Vh.POLYGON),f===Vh.CIRCLE&&2<c&&0<(e=l[2])){for(f=l[0],g=l[1],h=360/(d=lb(2*qb(e),40)),l=[];d--;)k=h*d*Ib,l.push(f+wb(k)*e,g+yb(k)*e);f=Vh.POLYGON}if(f!==Vh.POLYGON||!c||l.length%2)throw new C(Uh,1,l);this.b=l}}Rh.prototype.ff=null,Rh.prototype.f=null,Rh.prototype.c=!1,r("H.math.Size",Th),r("H.map.HitArea",Uh);var Vh={NONE:0,RECT:1,CIRCLE:2,POLYGON:3};function Wh(a,b){var c;Ua(this,Wh),Wh.u.constructor.call(this,b),this.a(a),b&&"icon"in b&&(c=b.icon),this.$b(c||Xh(this))}function Xh(a){var b=a.i;return b||(b=a.constructor.prototype.i=a.c(Yh)),b}Uh.ShapeType=Vh,Uh.prototype.c=[Vh.RECT,Vh.CIRCLE,Vh.POLYGON],Uh.prototype.a=function(a,b,c){return this.b?Ub(a,b,this.b,c,!0):Tb.NONE},Uh.prototype.hitTest=Uh.prototype.a,v(Wh,K),r("H.map.AbstractMarker",Wh),Wh.prototype.getPosition=function(){return B(this.b,sg)?this.b.ma[0]:this.b},Wh.prototype.getPosition=Wh.prototype.getPosition,Wh.prototype.f=function(a){return hc(a,this.f,0),this.a(a),this},Wh.prototype.setPosition=Wh.prototype.f,Wh.prototype.Ca=function(){return this.b},Wh.prototype.getGeometry=Wh.prototype.Ca,Wh.prototype.a=function(a){var b=this.b;return B(a,gc)||B(a,sg)?this.b=a:(hc(a,this.a,0),this.b=ic(a)),b&&this.ua(Me.SPATIAL),this},Wh.prototype.setGeometry=Wh.prototype.a,Wh.prototype.S=function(){return this.b.S()},Wh.prototype.sb=function(){return this.icon},Wh.prototype.getIcon=Wh.prototype.sb,Wh.prototype.$b=function(a){var b=this.icon,c=!b;if(b!==a){if(!B(a,this.pg))throw C.apply(b=new C,c?[this.constructor,1,"icon"]:[this.a,0,a]),b;this.icon=a,c||this.ua(Me.VISUAL)}return this},Wh.prototype.setIcon=Wh.prototype.$b;var Yh={svg:'<svg xmlns="http://www.w3.org/2000/svg" width="28px" height="36px"><path d="M 19 31 C 19 32.7 16.3 34 13 34 C 9.7 34 7 32.7 7 31 C 7 29.3 9.7 28 13 28 C 16.3 28 19 29.3 19 31 Z" fill="#000" fill-opacity=".2"/><path d="M 13 0 C 9.5 0 6.3 1.3 3.8 3.8 C 1.4 7.8 0 9.4 0 12.8 C 0 16.3 1.4 19.5 3.8 21.9 L 13 31 L 22.2 21.9 C 24.6 19.5 25.9 16.3 25.9 12.8 C 25.9 9.4 24.6 6.1 22.1 3.8 C 19.7 1.3 16.5 0 13 0 Z" fill="#fff"/><path d="M 13 2.2 C 6 2.2 2.3 7.2 2.1 12.8 C 2.1 16.1 3.1 18.4 5.2 20.5 L 13 28.2 L 20.8 20.5 C 22.9 18.4 23.8 16.2 23.8 12.8 C 23.6 7.07 20 2.2 13 2.2 Z" fill="#18d"/></svg>',size:new Th(28,36),anchor:new M(14,32),hitArea:new Uh(3,[0,16,0,7,8,0,18,0,26,7,26,16,18,34,8,34])};function fh(a,b){fh.u.constructor.call(this,a,b)}function Zh(a,b){var c=b||{};"status"in c&&(this.status=+c.status),"statusText"in c&&(this.statusText=c.statusText),this.ok=200<=this.status&&300>this.status,this.b=!1,a?"string"==typeof a&&(this.a=a):this.a=""}function $h(a,b,c){function d(){var a=z(l.b,l),b=+k.timeout||0;ai?(bi(l,"timeout",a),e.timeout=b):b&&(l.f=setTimeout(function(){e.abort(),l.b({type:"timeout"})},b)),bi(l,"error",a),bi(l,"load",a),e.send(k.data)}var e,f,g,h=c&&c.headers||{},k={},l=this;if(!sa(b))throw new C($h,1,"function required");a+="",Ca(h,ci.headers,h),Ca(k,ci,c||{}),k.headers=h,this.c=b,this.a=e=new XMLHttpRequest,b=k.method;try{for(f in e.open(b,a,!0),h)h.hasOwnProperty(f)&&(g=h[f])&&e.setRequestHeader(f,g);e.withCredentials=!!k.withCredentials,d()}catch(m){if(di)this.b({type:"cors"});else{this.a=e=new XDomainRequest;try{e.open(b,a),e.onprogress=function(){},d()}catch(n){this.b({type:"cors"})}}}}v(fh,Wh),r("H.map.DomMarker",fh),fh.prototype.type=Pe.DOM_MARKER,fh.prototype.je=2,fh.prototype.c=function(a){var b=new Rh(a.svg,a);return a=a.anchor,b.i.style.margin=-a.y+"px 0 0 -"+a.x+"px",b},fh.prototype.pg=Rh,r("H.net.Response",Zh),Zh.prototype.type="default",Zh.prototype.type=Zh.prototype.type,Zh.prototype.status=200,Zh.prototype.status=Zh.prototype.status,Zh.prototype.statusText="OK",Zh.prototype.statusText=Zh.prototype.statusText,Zh.b=function(a){if(a.b)return fd(new TypeError("Already read"));a.b=!0},Zh.error=function(){return Zh.a||(Zh.a=new Zh(null,{status:0,statusText:""}),Zh.a.type="error"),Zh.a},Zh.error=Zh.error,Zh.prototype.text=function(){var a=Zh.b(this);return a||(a=this.a?new Xc(Zc,this.a):fd("Unsupported response body")),a},Zh.prototype.json=function(){return this.text().then(w.JSON.parse)},w.Response&&w.Response.error&&(Zh=w.Response),r("H.net.Xhr",$h);var ci={method:"GET",headers:{},data:null},di="withCredentials"in new XMLHttpRequest,ai="timeout"in new XMLHttpRequest;function bi(a,b,c){di?a.a.addEventListener(b,c):a.a["on"+b]=c}function ei(a,b,c){di?a.a.removeEventListener(b,c):a.a["on"+b]=null}function fi(){var a=fi.a;return a||(a=this,fi.a=a,I.call(a),this.a()),a}function Gh(a,b,c,d){var e=gi;if(!this.b[a])throw new C(Gh,0,"Mime type is not supported");this.g=a,this.a=d,e.href=b,td.call(this,e.protocol+"//"+e.hostname,b,c)}$h.prototype.g=function(){this.a&&(this.a.abort(),this.a&&this.b({type:"abort"}))},$h.prototype.abort=$h.prototype.g,$h.prototype.b=function(a){var c,d,b=a.type;a=this.a,this.f&&clearTimeout(this.f),"load"===b?a instanceof XMLHttpRequest&&200!==a.status&&(c="network"):c=4===a.readyState&&0===a.status&&"error"==b?"cors":"error"!=b?b:"network",ei(this,"timeout",b=this.b),ei(this,"error",b),ei(this,"load",b),d=0===a.status||c&&"network"!==c?Zh.error():new Zh(a.responseText,a),c=this.c,delete this.b,delete this.c,delete this.a,c(d)},v(fi,I),fi.prototype.D=function(){fi.u.D.call(this),this.a()},Ca(fi.prototype,{a:function(){this.oi=10,this.pi=6,this.Jc=Ka(),this.uf=Ka(),this.xf=0},se:function(a){a=a.type;var c,b=this.Jc[a]||0;return this.xf<this.oi&&b<this.pi?(c=this.Fi(),this.xf++,this.Jc[a]=b+1,this.uf[c]=a,c):x},ye:function(a){var b=this.uf[a];if(!Ta(b)||!this.Jc[b])throw new kc(this.ye,"Unknown requestId");this.xf--,this.Jc[b]--,this.Jc[b]||delete this.Jc[b],delete this.uf[a],this.dispatchEvent("allocatable")},di:-1,Fi:function(){return++this.di}}),v(Gh,td),Gh.prototype.De=function(){return this.f=this.b[this.g].call(this),!0},Gh.prototype.Sc=function(){this.f&&(this.f.abort(),this.f=null)},Gh.prototype.b={"application/json":function(){var a=this,b=this.a||{};return(b.headers||(b.headers={})).Accept="application/json",new $h(this.data,function(b){200<=b.status&&300>b.status?a.resolve(b.json()):a.reject(b)},b)},"text/plain":function(){var a=this;return new $h(this.data,function(b){200<=b.status&&300>b.status?a.resolve(b.text()):a.reject(b)},this.a)},image:function(){var a=w.document.createElement("img"),b=this.a&&this.a.crossOrigin,c=this;return a.onload=z(this.resolve,this,a),a.onerror=function(){c.reject(Zh.error())},a.src=this.data,Ta(b)&&(a.crossOrigin=b),{abort:function(){a.onerror=a.onload=null,ve&&Ie(a)||a.removeAttribute("src")}}}},function(){var a;try{(a=new XMLHttpRequest).open("get","/",!0)}catch(b){a={}}"response"in a&&(Gh.prototype.b.arraybuffer=function(){var a=new XMLHttpRequest,b=this;return a.open("GET",this.data),a.responseType="arraybuffer",a.onerror=a.ontimeout=function(){b.reject(Zh.error())},a.onload=function(){b.resolve(a.response)},a.send(),a})}(),Gh.prototype.Fe=function(){var a=new wd(new fi);return function(){return a}}();var Hh="arraybuffer",gi=w.document.createElement("a");function hi(a){if(!(b=ii[a]))if(a in ji)b=ii[a]=a;else{var b=ki.length,c="",d=a.substr(0,1).toUpperCase()+a.substr(1),e="",f=!1;li&&(f=(e=li+d)in ji);for(;b--&&!f;)f=(e=(c=ki[b])+d)in ji;if(f&&(li=c),!(b=f?e:null))throw Error("Could not find any variant of CSS property ["+a+"]");ii[a]=b}return b}r("H.dom.cssPrefixer.prefix",hi);var ki=["O","Ms","ms","Moz","Webkit"],ii={},li="",ji=document.createElement("span").style;function mi(a,b,c,d,e){switch(b&&(this.c=b),Ta(c)&&(this.te=!!c),this.te&&d&&(this.b=new Th(d.w,d.h)),e&&(this.f={crossOrigin:"anonymous"}),ni[Ya(a)]){case 2:this.ic=a,oi(this,1);break;case 1:if(Ie(a)){this.ic=a,pi(this),oi(this,1);break}a=a.src;case 0:if(a){a=xe(a),this.a=new Gh("image",a,A,this.f),this.a.then(z(this.i,this),z(this.g,this));break}default:throw oi(this,-1),new C(mi,0,"No image data")}}function oi(a,b){a.G=b,delete a.a,a.c&&a.c(b,a)}function pi(a){if(a.te){var b=a.ic,c=qi(a),e=c&&c.w||+b.width,f=c&&c.h||+b.height;B(b,w.HTMLCanvasElement)?c=b:((c=b.ownerDocument.createElement("CANVAS")).width=e,c.height=f,c.getContext("2d").drawImage(b,0,0,e,f)),a.ic=c}}p=mi.prototype,p.G=0,p.getState=function(){return this.G},p.te=!0,p.ic=x,p.getData=function(){return this.ic};var ni={String:0,HTMLImageElement:1,HTMLCanvasElement:2};function qi(a){var c,d,e,f,b=a.b;return b||(0===(b=(c=a.ic).naturalWidth||c.width)&&ve&&1===ni[Ya(c)]&&(d=!0,(e=c.parentNode)&&(f=c.nextSibling),document.body.appendChild(c)),a.b=b=new Th(c.naturalWidth||c.width,c.naturalHeight||c.height),d&&(e?e.insertBefore(c,f):document.body.removeChild(c))),b}function ri(a,b){var c,d,e,f;if(this.uid=si.next(),ri.u.constructor.call(this),b){if((c="size")in b){if(!(d=b[c])||isNaN(d.w)||isNaN(d.h))throw new C(ri,1,c);this.b=new Th(d.w,d.h)}if((c="anchor")in b){if(!(d=b[c])||isNaN(d.x)||isNaN(d.y))throw new C(ri,1,c);this.a=new M(d.x,d.y)}(c="hitArea")in b&&(B(d=b[c],Uh,ri,1),this.g=b[c]),(c="asCanvas")in b&&(e=b[c]),(c="crossOrigin")in b&&(f=b[c])}c=new mi(a,z(this.i,this),e,this.b,f),0!==(d=this.G=c.getState())?this.i(d,c):this.f=c}mi.prototype.b=x,mi.prototype.i=function(a){this.ic=a,pi(this),oi(this,1)},mi.prototype.g=function(){oi(this,-1)},mi.prototype.cancel=function(){this.a&&this.a.cancel()},v(ri,I),r("H.map.Icon",ri);var si=new ye;ri.prototype.Pc={ERROR:-1,LOADING:0,READY:1},ri.prototype.State=ri.prototype.Pc,ri.prototype.getState=function(){return this.G},ri.prototype.getState=ri.prototype.getState,ri.prototype.i=function(a,b){if(this.c=b.getData(),1===a){var c=this.b;c||(c=this.b=1===b.G?qi(b):x),this.a||(this.a=new M(c.w/2|0,c.h))}this.f&&(this.G=a,delete this.f,this.dispatchEvent("statechange"))},ri.prototype.c=x,ri.prototype.Pb=function(){return this.c},ri.prototype.getBitmap=ri.prototype.Pb,ri.prototype.b=x,ri.prototype.o=function(){return this.b},ri.prototype.getSize=ri.prototype.o,ri.prototype.a=x,ri.prototype.j=function(){return this.a},ri.prototype.getAnchor=ri.prototype.j,ri.prototype.g=x,ri.prototype.l=function(){return this.g},ri.prototype.getHitArea=ri.prototype.l,ri.prototype.D=function(){ri.u.D.call(this),this.c?(this.c.removeAttribute("src"),delete this.c):(this.f.cancel(),delete this.f)};var ti=he;r("H.util.events.listenOnce",ti),r("H.util.events.dispatchEvent",function(a,b){return a.dispatchEvent(b)}),r("H.util.events.fireListeners",function(a,b,c,d){return zd(a)?a.dc(b,c,d):ke(a,b,c,d)});var ui=ae;r("H.util.events.listen",ui);var vi=ie;r("H.util.events.unlisten",vi);var wi=le,le=function(a,b){var c,d,e,f=!0;return c=b[b.currentTarget===b.target?"AT_TARGET":a.ya?"CAPTURING_PHASE":(d=!0,"BUBBLING_PHASE")],(!d||"pointerenter"!==(e=b.type)&&"pointerleave"!==e)&&(b.eventPhase=c,f=wi(a,b),d&&a.src&&a.src.jb&&null===a.src.jb()&&delete b.eventPhase),f};function xi(a,b){xi.u.constructor.call(this,a,b)}function yi(a,b,c,d){yi.u.constructor.call(this,a,b,c),this.modifiers=d}function zi(){this.Y=[],zi.u.constructor.call(this)}function Ai(a,b,c){var d;if(a=a.Y.length,c)d=a;else if(D(d=0>(d=+b)?mb(0,a+d):lb(a,d)))throw new ec(zi,b,[0,a-1]);return d}function Ci(a,b){var c=a.Y.splice(b,1)[0];return a.dispatchEvent(new Bi(a,a.a.Nc,b,null,c,null)),c}function Bi(a,b,c,d,e,f){Bi.u.constructor.call(this,b,a),this.idx=c,this.added=d,this.removed=e,this.moved=f}function Di(a){if(Di.u.constructor.call(this),this.dispatchEvent=z(this.dispatchEvent,this),a)for(var b=0,c=a.length;b<c;b++)this.add(a[b])}function Ei(a,b){sa(a)&&(this.i=a),ab(b)&&(this.a=b)}v(xi,Wh),r("H.map.Marker",xi),p=xi.prototype,p.type=Pe.MARKER,p.je=1,p.ua=function(a){var b;return a===Me.VISUAL&&1!==this.Yg&&1!==this.icon.getState()||(b=xi.u.ua.call(this,a)),b||!1},p.Yg=0,p.pg=ri,p.Le=!1,p.Hg=function(){this.ua(Me.VISUAL)},p.$b=function(a){var b=this.icon;return this.Le&&(b.removeEventListener("statechange",this.Hg,!1,this),delete this.Le),b&&(this.Yg=b.getState()),xi.u.$b.call(this,a),0===a.getState()&&(this.Le=!0,ti(a,"statechange",this.Hg,!1,this)),this},xi.prototype.setIcon=xi.prototype.$b,xi.prototype.c=function(a){return new ri(a.svg,a)},v(yi,Ne),r("H.map.ChangeEvent",yi),yi.prototype.b=1,yi.prototype.FOV=yi.prototype.b,yi.prototype.PITCH=2,yi.prototype.PITCH=yi.prototype.PITCH,yi.prototype.POSITION=4,yi.prototype.POSITION=yi.prototype.POSITION,yi.prototype.c=8,yi.prototype.ROLL=yi.prototype.c,yi.prototype.f=16,yi.prototype.SIZE=yi.prototype.f,yi.prototype.g=32,yi.prototype.YAW=yi.prototype.g,yi.prototype.ZOOM=64,yi.prototype.ZOOM=yi.prototype.ZOOM,v(zi,I),r("H.util.OList",zi),zi.prototype.add=function(a,b){var c=Ai(this,b,D(b));this.Y.splice(c,0,a),this.dispatchEvent(new Bi(this,this.a.Lc,c,a,null,null))},zi.prototype.add=zi.prototype.add,zi.prototype.b=function(a){return this.get(a),Ci(this,a)},zi.prototype.removeAt=zi.prototype.b,zi.prototype.remove=function(a){return 0<=(a=this.indexOf(a))&&(Ci(this,a),!0)},zi.prototype.remove=zi.prototype.remove,zi.prototype.set=function(a,b){var c=this.get(a);return a=Ai(this,a,!1),c=this.Y[a],this.Y[a]=b,this.dispatchEvent(new Bi(this,this.a.td,a,b,c,null)),c},zi.prototype.set=zi.prototype.set,zi.prototype.indexOf=function(a){return this.Y.indexOf(a)},zi.prototype.indexOf=zi.prototype.indexOf,zi.prototype.get=function(a){var b=Ai(this,a,!1),c=this.Y;if(b>=c.length)throw new ec(this.get,a,[0,c.length-1]);return c[b]},zi.prototype.get=zi.prototype.get,zi.prototype.g=function(){return this.Y.length},zi.prototype.getLength=zi.prototype.g,zi.prototype.c=function(){return[].concat(this.Y)},zi.prototype.asArray=zi.prototype.c,zi.prototype.f=function(){for(var a=this.Y.length;a--;)Ci(this,a)},zi.prototype.flush=zi.prototype.f,zi.prototype.D=function(){this.f(),zi.u.D.call(this)},zi.prototype.a={Lc:"add",Nc:"remove",td:"set",Pi:"move"},v(Bi,Bc),v(Di,zi),r("H.map.DataModel",Di),Di.prototype.add=function(a,b){B(a,mh,this.add,0),Di.u.add.call(this,a,b),a.addEventListener(a.a.la,this.dispatchEvent,!1)},Di.prototype.add=Di.prototype.add,Di.prototype.set=function(a,b){var c;return B(b,mh,this.set,0),c=Di.u.set.call(this,a,b),b.addEventListener(b.a.la,this.dispatchEvent,!1),c.removeEventListener(c.a.la,this.dispatchEvent,!1),c},Di.prototype.set=Di.prototype.set,Di.prototype.b=function(a){var b;return(b=Di.u.b.call(this,a))&&b.removeEventListener(b.a.la,this.dispatchEvent,!1),b},Di.prototype.removeAt=Di.prototype.b,Di.prototype.remove=function(a){var b;return(b=Di.u.remove.call(this,a))&&a.removeEventListener(a.a.la,this.dispatchEvent,!1),b},Di.prototype.remove=Di.prototype.remove,Di.prototype.f=function(){for(var a=this.Y.length;a--;)this.b(a);Di.u.f.call(this)},Di.prototype.flush=Di.prototype.f,r("H.util.Request",Ei),Ei.State={PENDING:0,PROCESSING:1,COMPLETE:2,CANCELLED:3,ERROR:4};var Fi={Vf:0,ne:1,le:2,Ji:3,ERROR:4},Gi=[0,1,2,3,4],Ni;function Hi(a,b){a.b<a.a&&(Ta(b)||(b=Fi.le),b===Fi.Vf||b===Fi.ne||a.G!==Fi.Vf&&a.G!==Fi.ne||(a.b++,b!==Fi.le&&a.g++,a.L(a.b<a.a?Fi.ne:Fi.le)))}function Ii(){}function Ji(a,b){var c=a.b,d=c.ownerDocument;Ji.u.constructor.call(this),this.a=a,this.b=c=c.appendChild(Ki(d,"DIV","position:absolute;bottom:4.55em;left:0.5em;z-index:1;height:0px;direction:ltr")),this.ve=Ki(d,"DIV","position:absolute;top:0px;pointer-events:none;",Li),this.m=c.appendChild(this.ve).firstChild.firstChild.style,c=c.appendChild(Ki(d,"DIV","-webkit-touch-callout: none;-webkit-user-select:none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select:none;whiteSpace:nowrap;position:relative;top:2.73em;padding-left:1px")),this.i=c.appendChild(Ki(d,"SPAN")),this.i.setAttribute("unselectable","on"),this.l=c.appendChild(Ki(d,"A","color:inherit","Terms of use")),this.l.target="_blank",this.s=c=c.appendChild(Ki(d,"SPAN","color:inherit"," | ")),this.B=c.appendChild(function(){var a=Ki(d,"A","color:inherit","Report image");return a.target="_blank",a}()),this.o=Qa(Mi),this.g(b),this.f=z(this.f,this),this.c=z(this.c,this),this.a.addEventListener(this.a.v.Sf,this.f),this.a.fa.addEventListener("add",this.c),this.a.fa.addEventListener("remove",this.c),this.a.fa.addEventListener("set",this.c),this.c()}Ei.prototype.G=0,Ei.prototype.getState=function(){return this.G},Ei.prototype.getState=Ei.prototype.getState,Ei.prototype.L=function(a){if(0>Gi.indexOf(a))throw new C(this.L,0,a);(this.G!==a||1===a&&1<this.a)&&(this.G=a,this.i&&this.i(this))},Ei.prototype.a=1,Ei.prototype.m=function(){return this.a},Ei.prototype.getTotal=Ei.prototype.m,Ei.prototype.b=0,Ei.prototype.o=function(){return this.b},Ei.prototype.getProcessed=Ei.prototype.o,Ei.prototype.g=0,Ei.prototype.j=function(){return this.g},Ei.prototype.getFailed=Ei.prototype.j,Ei.prototype.cancel=function(){3!==this.G&&(this.Sc(),this.L(3))},Ei.prototype.cancel=Ei.prototype.cancel,r("H.util.ICapturable",Ii),Ii.prototype.ya=function(){},Ii.prototype.capture=Ii.prototype.ya,r("H.util.Disposable",xc),xc.prototype.Eb=xc.prototype.Eb,xc.prototype.addOnDisposeCallback=xc.prototype.Eb,r("H.util.dispose",Ac),v(Ji,xc),r("H.map.Imprint",Ji);var Mi={font:"11px Arial,sans-serif",href:"https://legal.here.com/{LN}/terms/serviceterms/{CN}",invert:!1,reportHref:"https://wego.here.com/",locale:"en-US"};function Ki(a,b,c,d){return a=a.createElement(b),c&&(a.style.cssText=c),d&&(a.innerHTML=d),a}Ji.prototype.g=function(a){var b,c;for(b in a||(this.o=Qa(Mi)),c=this.o)a&&b in a&&(c[b]=a[b]);a=c.invert,this.m.fill=a?"#FFF":"rgba(0,0,0, 0.7)",this.b.style.color=a?"#FFF":"#333",this.sg=a,a=c.locale,Oi[a]||(a="en-US",c.locale=a),this.l.innerHTML=Oi[a],a=a.split("-"),this.l.href=c.href.replace("{LN}",a[0]).replace("{CN}",a[1].toLowerCase()),this.b.style.font=c.font},Ji.prototype.setOptions=Ji.prototype.g,Ji.prototype.v=function(){return this.b},Ji.prototype.getElement=Ji.prototype.v,Ji.prototype.f=function(){var e,a=Mi.reportHref,b=this.a,c=this.B,d=this.s;b.g().type!==Pi?d.style.display="none":(e=(b=b.c.Ab()).position,d.style.display="inline",c.href=a+[e.lat,e.lng,22,b.yaw,90+b.pitch].join()+",panorama.day,report"),this.i.innerHTML=this.j+" "+this.Ia()+" | "},Ji.prototype.c=function(){this.f(),setTimeout(this.f,5e3)};var Li='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="3.64em" height="2.72em" viewBox="7 10 33 18" style="position: relative; left: 2px;"><g><path id="triangle_22_" d="M14.1,28l-3.6,3.6L7,28L14.1,28z"/><path id="here_21_" d="M19.4,19.9c-0.7-0.9-0.7-1.4-0.2-1.8c0.6-0.6,1.1-0.3,1.8,0.3L19.4,19.9z M27,10.3c0.6-0.6,1.1-0.3,1.8,0.3l-1.5,1.5C26.5,11.2,26.6,10.7,27,10.3z M31.6,11.8c-0.7,1-1.9,2.7-3.2,1.4l3.2-3.2c-0.3-0.3-0.5-0.6-0.7-0.7c-1.7-1.7-3.7-1.7-5.2-0.2c-1,1-1.3,2.2-1,3.3l-1-1.1c-0.3,0.2-1.5,1.2-0.6,2.9l-1.1-1l-1.5,1.5l2.1,2.1C21,15.5,19.3,15.6,18,17c-1.5,1.5-1.4,3.2-0.3,4.7l-0.2-0.2c-1.5-1.5-3-0.9-3.8-0.2c-0.6,0.6-1,1.4-0.8,2l-3.1-3.1L8,21.8l6.2,6.2h3.3l-2.2-2.2c-1.2-1.2-1.2-1.8-0.6-2.4c0.5-0.5,1.2-0.2,2.3,0.9l2.2,2.2l1.7-1.7l-2.1-2.1c1.5,1.1,3.3,1.2,4.9-0.4c0,0,0,0,0,0l0,0c1-0.9,1.3-1.8,1.3-1.8l-1.3-0.8c-0.7,1-1.9,2.7-3.1,1.5l3.2-3.2l2,2l1.7-1.7l-2.5-2.5c-1.2-1.2-0.5-2.3,0-2.7c0.2,0.5,0.6,0.9,1,1.4c1.6,1.6,3.7,1.9,5.5,0.1c0,0,0,0,0,0l0,0c1-0.9,1.3-1.8,1.3-1.8L31.6,11.8z"/></g></svg>',Qi="1987&ndash;"+mb(2015,(new Date).getFullYear())+" HERE";function Ri(a,b,c,d){Si(z(function(a){a?this.sg?c("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAeCAYAAABe3VzdAAADNklEQVRYR82XW6hVVRSGv7+rmJfSMKSnSkMEfY7EogcJC7tilGRopBAiSaI+SBARQSCIIqgFISih2YW0oAgLCsKXojA0RB+81VugZEFZv/yHuWTt7d7Hfc4+6+h4OWefNfcc3xlj/v+YS1zjoab5bE8DZgGngB8keSg5GwO0PQ54F3i2BnQIWCLpx14hGwG0fT3wOfBwB5DzwOOSDvQC2RTgM8Ae4D/gaeA3YDdwN5AWvyxp+6gD2r4OmAq8AbwInAMmA/OAT4CbgBWStvYClzUjWkHbrwHLgF8LVHJ8DDxah7P9JHCil7M40oA/A7OBC8ANtSqlrQOVs30/8CWQat8r6cxg1RwRQNvPA88Bk4D7gJzBV4A5teSp5MlS4VuA/ZIeu1Kr+wa0/QTwIRDlRhT5eTswBvi2CKOd42AULilndNAYCcA7gK+BmbVMiyXtsh3Qt4FFBTgW8w6wXtLfV4LrSyS2FwAvAWOBX+JtwF0laUDmS/oun23fDNwJnJb0Ty9g1ZphVdB2qrK2LdFfBbb685/AIxXkUKDqa4cMaDs2kjalRe8Fola57J3qRQSJviGHA3gMuAdYI2lDUfDOArQLWAd8VTuTOW9vjUoFy6TIGYpS9wKfAjuK5wVuSfn91iKcvZJeHy5ci0hsZwzNk5Qh3xIFbLyks7aPAtPLgv+L4VZwDwLvA6uKz6XdfcVAi22PBz4q4+lVSRurXW2vKYKIZfwEHCmmXC35HngAyITYD0ys2t8XWflyBfhmvKm24QCk7aVFCPVc7WMszzKucknI+NoHPCUppt13VICZm2nNwjoksByY0SXL72Vi3FieZ97mgrpyqF432H9xScW2O0H+W6oSE/4D2FYuA9kzlUzVTwO3Ad9IOtx3ydo2aLGZLpABm5KW2Z4AfAbMLfsEcpGkKLqRuMwHu0CukrSpCCrvGlF6hBEVL5MUw24kOhp1B8gc+FTqgxpkFLuzSbjk6jpJOkC2tDPeKCkVbDRkO67fDTTC2VK7vgfyBUlfNEpV2zyAK4HNXRLmZfshScdHC6g9T+WDGU2XpkdZdNXhWs6g7dXAhmsJ7jKR2M77bG4kV7Wt9TZfBLgYEC7PSpcIAAAAAElFTkSuQmCC"):c("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAeCAYAAABe3VzdAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIMSURBVFiFzdZPiE1RGADwXzPTTPIMQoodVpbKgpoUG5qExUi8DSVJQv4slJJsbNjYWFhNETWLUUosRDRLUVLCYhIiojFojHkW997uvefNGIuZc99Xp/fOO6/Or++c75xDi0d7hDlWYQNqeB9hvv+OGq6jUWjPsKZKVBbtuKOMy9p3bKqOlsROCWYc27AWr9PfJnCgKlgbluNqivmGDmzBrxR3sCocnMEw7sqXdEAzboeK9uLTFPVbed8VcesxglFJtqNEHbcxlIL68ChADuCSpEgauBULt11SDI3C5yJJdrLCCNsQumMBl+J5AKinY4slBfNTfsRcxJwYsK0YxD3J0r1RPut6Cv/twgp0xoDBBc3LNhr0RwJktNifAn7gsnLmsuxVinyVTn4i7dcLoH4sU96Tp2Pi2uSVehN75Gdev+QO7pIXztmZnLwTvf+AzU+/v5Rn50+A24gP2IW5M4mbJ7+ejgVjJ/EpHXuCa8p77nGK68FX5eWfsTgfTJoh92qu1vAaa+CtPJuDZuEh3CHZUyHyxSSYrL3DWKE/gStm8aybDDkmKYperJM/BrJMnsJuHMLq2YJNh/wsX7JuPAyQfTFg0yGPFMZreCCv4n2xgTQjxyXP+CxquK8iXBYhMlzOtliQBVg4RVuCG/iSto/YHAuWxWFTHyXDWBkbNFkc1cK4LI5rYVwW57QY7i/pZeJv8QQJRQAAAABJRU5ErkJggg=="):((a=this.ve.cloneNode(!0)).firstChild.setAttribute("style","font:"+b),c(xe(a.innerHTML)))},a),d)}function Si(a,b){var c="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(Li),d=Ni;Ta(d)?a(d):new Gh("image",c).then(function(b){te.drawImage(b,0,0);try{te.getImageData(0,0,1,1),d=!1}catch(c){d=18===c.code}finally{Ni=d,a(d)}},b)}Ji.prototype.Ia=function(){var a,g,h,k,b=(a=this.a).getZoom(),c=a.ba(),d=(a=a.fa).Y.length,e={},f=0,l=[Qi];if(c)for(;f<d;f++)if(h=a.get(f).getCopyrights(c,b))for(g=0;g<h.length;g++)e[k=h[g].label]||(l.push(k),e[k]=1);return l.join(", ")},Ji.prototype.getCopyrights=Ji.prototype.Ia,Ji.prototype.Na=function(){return this.b.style},Ji.prototype.getStyle=Ji.prototype.Na,Ji.prototype.j=String.fromCharCode(169),Ji.prototype.D=function(){this.a.removeEventListener(this.a.v.Sf,this.f),this.a.fa.removeEventListener("add",this.c),this.a.fa.removeEventListener("remove",this.c),this.a.fa.removeEventListener("set",this.c),this.b.parentNode&&Ge(this.b)},Ji.prototype.ya=function(a,b,c,d){var h,e=a.getContext("2d"),f=window.getComputedStyle(this.i),g=$a(f.getPropertyValue("font-size"));h=this.ve.childNodes[0];var k=this.b.ownerDocument,l=this.a.b,m=+a.height,n=nb(this.b.offsetLeft*b),q=nb(m-(l.offsetHeight-this.b.offsetTop)*b),t=(l=h.getBoundingClientRect?h.getBoundingClientRect():{}).width*b,u=l.height*b,y=sc;sa(d)&&(y=function(){d("capture_error")}),h=this.j+" "+function(a){return(a=Ki(k,"div",null,a)).textContent||a.innerText||""}(this.Ia()),e.font=g*b+"px "+f.getPropertyValue("font-family"),e.fillStyle=f.getPropertyValue("color"),e.textBaseline="top",e.fillText(h,n,q+nb(l.height*b)),Ri(this,e.font,function(b){new Gh("image",b).then(function(b){e.drawImage(b,n,q,t,u),c(a)},y)},y)},Ji.prototype.capture=Ji.prototype.ya,Ji.prototype.sg=!1;var Oi={"de-DE":"Nutzungsbedingungen","en-US":"Terms of use","en-GB":"Terms of use","es-ES":"Condiciones de uso","fi-FI":"Palveluehdot","fr-FR":"Conditions d'utilisation","it-IT":"Condizioni di utilizzo","nl-NL":"Dienstvoorwaarden","pl-PL":"Warunki świadczenia usługi","pt-BR":"Termos de serviço","pt-PT":"Termos do serviço","ru-RU":"Условия использования","tr-TR":"Servis Koşulları","zh-CN":"使用条款"};function Ti(a,b){if(D(this.x=+a))throw new C(Ti,0,a);if(D(this.y=+b))throw new C(Ti,1,b)}function Ui(a){return tb(a.a(a))}function Vi(a){a=a||{},this.j=a.minSpeed||3,this.l=a.vectorTolerance||3,this.i=a.maxSpeed||300,this.m=a.timeTolerance||50,this.b=[],this.f=this.g=!1,this.c=this.a=null}function Wi(a,b){var c,d;return b?(a.bifocal&&b.bifocal?(c=Xi(a),d=Xi(b)):b.bifocal?(c=Yi(a),d=Yi(b).distance(c)>Yi(b,!0).distance(c)?Yi(b,!0):Yi(b)):a.bifocal&&!b.bifocal?(d=Yi(b),c=Yi(a).distance(d)>Yi(a,!0).distance(d)?Yi(a,!0):Yi(a)):(c=a,d=b),c=new Ti(c.x-d.x,c=c.y-d.y)):c=new Ti(0,0),c}function Zi(a){var b;return!a||D(a.bx)||D(a.by)?0:(b=a.bx-a.x,a=a.by-a.y,tb(b*b+a*a))}function Xi(a){var b,c;return!a||D(a.bx)||D(a.by)||(b=a.x-a.bx,c=a.y-a.by,b=new M(a.x-b/2,a.y-c/2)),b}function Yi(a,b){return b?new M(a.bx,a.by):new M(a.x,a.y)}function $i(a){var b=a.b.length,c=0,d=new Ti(0,0);if(a.f)for(;--b&&c<a.l;)d=d.add(Wi(a.b[b],a.b[b-1])),c++;else d=Wi(a.a,a.c);return 0!==(b=Ui(a=d))?new Ti(a.x/b,a.y/b):a}function aj(a){var b;b=b||Date.now();var c=a.b.length,d=a.b[c-1],e=0,f=0;if(a.f){for(;--c&&e<a.l;)f+=Ui(Wi(a.b[c],a.b[c-1])),e++;c=f/e}else d=a.a,c=Ui(Wi(a.a,a.c));return c=c>=a.j&&b-d.ts<=a.m?c>a.i?a.i:c:0}function bj(a,b,c,d){bj.u.constructor.call(this),this.ac=a,this.za=d,this.a=a.appendChild(this.createElement(a.ownerDocument)),cj(this,b,c)}function cj(a,b,c){a.size?(a.size.w=b,a.size.h=c):a.size=new Th(b,c),a.eh(a.a,a.a.style,b,c,a.za)}function dj(a,b){a.Se!==b&&(a.dh(b),a.Se=b)}function ej(a){this.a=a}function fj(a,b){fj.u.constructor.call(this,a),this.Nb=!(!b||!b.Nb),this.l=!(!b||!b.noWrap),this.g={}}Ti.prototype.add=function(a){return new Ti(this.x+a.x,this.y+a.y)},Ti.prototype.a=function(a){if(!B(a,Ti))throw new C(this.a,0,a);return(a=this.b(a)).x+a.y},Ti.prototype.b=function(a){if(!B(a,Ti))throw new C(this.b,0,a);return new Ti(this.x*a.x,this.y*a.y)},Ti.prototype.Ja=function(a){return new Ti(this.x*a,this.y*a)},p=Vi.prototype,p.start=function(a,b){if(D(a))throw new C(this.start,0,a);this.g&&this.clear(),this.o=a,this.g=!0,this.f=!!b},p.gh=function(a,b,c,d,e){var f=D(a)?0:D(b)?1:null!=c&&D(c)?2:null!=d&&D(d)?3:null!=e&&D(e)?4:A;if(0<=f)throw new C(this.gh,f,arguments[f]);this.g&&(e=e||(new Date).getTime(),this.c=this.a,this.a={x:a,y:b,bx:null!=c?c:NaN,by:null!=d?d:NaN,ts:e,bifocal:null!=c&&null!=d},this.f&&this.b.push(this.a))},p.clear=function(){this.b=[],this.f=this.g=!1,this.a=this.c=null},p.Fd=function(a){if(D(a))throw new C(this.Fd,0,a);return!!(this.o&a)},p.mb=function(){return this.g},p.Ge=ba(1),p.hg=function(a){var b,c;if(b=this.a,D(a))throw new C(this.hg,0,a);return b&&this.c&&(0!==(b=Zi(this.c))&&(c=Zi(this.a),a=sb(ub(2,a)*(c/b))/Cb)),a},v(bj,xc),p=bj.prototype,p.tg=!0,p.setVisibility=function(a){a!==this.tg&&(this.a.style.display=a?"block":"none",this.tg=a)},p.Se=1,p.Bd=function(){return this.Se},p.D=function(){this.clear(),this.ac.removeChild(this.a),cj(this,0,0),this.a=this.ac=null,bj.u.D.call(this)},p.Te=0,p.Ib=function(){++this.Te},v(ej,xc),ej.prototype.od=function(a){var b=this.b;a!==b&&(this.b=a,a.Ib(),b&&(--b.Te||b.J()))},ej.prototype.D=function(){var a=this.b;--a.Te||a.J()},v(fj,ej),fj.prototype.od=function(a){fj.u.od.call(this,a),this.i=a.ac.ownerDocument};var gj=function(a,b){var c=b.Ca();return B(c,Pf)?c.ma:(a[0]=c,a)}.bind(null,[]);function hj(a,b){return Re(Qe(a[1]),Qe(b[1]),!0)||a[5]-b[5]||Re(Qe(a[1]),Qe(b[1]),!1)}function jj(a,b){jj.u.constructor.apply(this,arguments),this.f=0,this.c=[],this.Ee=z(this.Ee,this)}fj.prototype.ca=function(a,b,c,d,e,f){var g,h,l,m,n,q,t,u,y,k=this.a;if(this.m=g=this.g,this.g=h={},d>=k.min&&d<=k.max&&(a=(m=(l=this.fg(a,d,e,f)).markers).length)){for(d=[],dj(e=this.b,k.opacity),k=0;k<a;k++)for(f=m[k],q=(n=gj(f)).length;q--;)(t=c.geoToPixel(n[q]))&&(this.l||(u=c.w,t.x-=nb(t.x/u)*u),t.add(b),(u=g[y=f.ta()+"_"+q])?delete g[y]:u={marker:f},h[y]=u,d.push([u,f,f.sb(),e,t.x,t.y]));for(d.sort(hj),a=d.length,k=0;k<a;k++)this.wg.apply(this,d[k])}return!l||l.requested&&l.requested===l.total||!l.requested&&m.length===l.total?ij.DONE:ij.PENDING},v(jj,fj),p=jj.prototype,p.fg=function(){return this.a.b.apply(this.a,arguments)},p.ca=function(){var a;this.Ee(),this.o=0,a=jj.u.ca.apply(this,arguments);var d,b=this.b,c=this.m;for(d in c)kj(this,b,c[d]);return 0===this.c.length&&a?ij.DONE:ij.PENDING},p.od=function(a){jj.u.od.call(this,a),this.j=a.za},p.Ee=function(){for(var b,c,d,a=this.c.length;a--;)b=(d=this.c[a]).sd,(c=d.sd.sb()).ff(d,c,b);this.c.length=0},p.wg=function(a,b,c,d,e,f){var h,g=b.j();this.Nb||(e=nb(e),f=nb(f)),a.detail&&(g.b(a.bi)?kj(this,d,a):h=a.detail),h||(a.detail=h=Fe(c.i,this.i,c.c),this.f++,sa(c.ff)&&this.c.push(h)),a.bi=g.a,h.style.zIndex=this.o++,h.sd=b,d.bc(h,e,f,0,0)};var lj,mj="pointer-events",nj,oj;ve&&(ve&&jc!==x&&(jc=(oj=/(MSIE\s+|rv\:)([^\);]+)(\)|;)/.exec(navigator.userAgent))?+oj[2]:x),nj=jc,9===nj?mj="display":10===nj&&(mj="visibility"));function kj(a,b,c){b.clear(b=c.detail),delete b.sd,a.f--,(c=(a=c.marker).sb()).f&&c.f(b,c,a)}function pj(a,b){if(!a)throw new C(pj,0,a);pj.u.constructor.call(this,a),this.f={},this.g=b&&b.Nb,this.l=b&&b.noWrap,this.i=qj++}lj=mj,jj.prototype.Ma=function(a,b,c){var e,f,g,k,l,m,n,q,t,d=this.j,h=De;if(this.f){for(a/=d,b/=d,e=(d=this.i).documentElement,a+=(g=(f=this.b.a).getBoundingClientRect()).left,b+=g.top;(l=m=d.elementFromPoint(a,b))&&l!==f&&l!==e&&m!==n;){for(;(q=l.parentNode)&&(!sa(q.contains)||!q.contains(f));)l=q;if(q===f&&(l!==m||"svg"!==l.nodeName)&&0>h.indexOf(t=l.sd)&&(h===De&&(h=[]),h.push(t),c))break;k||(k=[]),n=l.style,k.push({bg:n.getPropertyValue(lj),$h:n.getPropertyPriority(lj),style:n}),n.setProperty(lj,"visibility"===lj?"hidden":"none","important"),n=m}if(k)for(b=k.length;b--;)(a=k[b]).style.removeProperty(lj),ra(a.bg)&&a.style.setProperty(lj,a.bg,a.$h)}return h},jj.prototype.dd=function(){return 2},jj.prototype.D=function(){this.c.length=0;var c,a=this.b,b=this.g;for(c in b)kj(this,a,b[c]);this.b.J(),jj.u.D.call(this)},v(pj,ej);var qj=0;pj.prototype.ca=function(a,b,c,d,e,f){var g=nb(d),h=this.a,k=g+(c.exp-h.pixelProjection.exp),l=h.max;d=h.tileSize;var n,m=h.opacity,q=this.b,t=q.Bd();n=q.size.w;var u=c.w,y=c.x,J=c.y,T={};if(g<h.min||g>l)return ij.DONE;for(a=(e=h.requestTiles(a,k,e,f,this.i)).total,f=(e=e.tiles).length,this.j=c,this.m=b,this.c=k,t!==m&&dj(q,m),c=d=d*u/(ub(2,k)*d),this.g||(d%1&&(y/=u=c/(d=pb(d)),J/=u,u=ub(2,k)*d),y=pb(y),J=pb(J)),this.o=c,k=-d,g=n+d,h=0;h<f;h++){if((l=(n=e[h]).data)&&(c=b.x-(y-n.x*d),m=b.y-(J-n.y*d),q.bc(l,c,m,d,d),!this.l)){for(t=c;(t-=u)>k;)q.bc(l,t,m,d,d);for(t=c;(t+=u)<g;)q.bc(l,t,m,d,d)}T[this.c+"_"+n.x+"_"+n.y]=n}return this.f=T,f===a?ij.DONE:ij.PENDING},pj.prototype.Ma=function(a,b,c){if(Ta(this.c)){var h,k,d=this.o,e=d/this.a.tileSize,f=this.j,g=this.m;a=f.x+(a-g.x),b=f.y+(b-g.y),h=pb(f.w/d);var l=f=pb(a/d);g=pb(b/d);rb(l)>=h&&(l%=h),0>l&&(l=h+l),(h=this.f[this.c+"_"+l+"_"+g])&&h.Ma&&(k=h.Ma((a-d*f)/e,(b-d*g)/e,c))}return k||De},pj.prototype.dd=function(){return 0};var rj,sj=function(){function a(){}for(var b,c,d,e=Ra("o ms moz webkit "),f=5;f--&&!b;)b=e[f],b=(c=w[b+(b?"R":"r")+"equestAnimationFrame"])&&!D(c.call(window,a))&&(d=w[b+(b?"C":"c")+"ancelAnimationFrame"]);return rj=b?function(a){return c.call(w,a)}:function(a){return w.setTimeout(a,25)},b?function(a){return d.call(w,a)}:function(a){return w.clearTimeout(a)}}(),tj=w.performance&&w.performance.now?function(){return w.performance.now()}:function(){return w.Date.now()};function qh(a,b,c,d){this.left=+a,this.top=+b,this.right=+c,this.bottom=+d}function ph(a,b){return new qh(a.x,a.y,b.x,b.y)}r("H.math.Rect",qh),qh.prototype.set=qh,qh.prototype.set=qh.prototype.set,qh.prototype.tb=function(){return this.i||(this.i=new M(this.left,this.top))},qh.prototype.getTopLeft=qh.prototype.tb,qh.prototype.rb=function(){return this.f||(this.f=new M(this.right,this.bottom))},qh.prototype.getBottomRight=qh.prototype.rb,qh.prototype.a=function(a,b){return this.left<=a&&this.right>=a&&this.top<=b&&this.bottom>=b},qh.prototype.containsXY=qh.prototype.a,qh.fromPoints=ph,qh.prototype.clone=function(){return new qh(this.left,this.top,this.right,this.bottom)},qh.prototype.clone=qh.prototype.clone;var ij={PENDING:0,ACTIVE:1,DONE:2};function uj(a,b){var d,e,c=b||{};if(!B(a,Element))throw new C(uj,0,a);d=a.ownerDocument.createElement("div"),this.b=a,uj.u.constructor.call(this),this.padding=new qh(0,0,0,0),this.center=new M(0,0),this.margin=0,this.element=d,d.style.zIndex=0,d.style.height=d.style.width="100%",d.style.position="relative"===a.style.position?"absolute":"relative",this.resize(),a.appendChild(d),(e=c.padding)!==A&&this.f(e.top,e.right,e.bottom,e.left),this.c((e=c.margin)!==A?e:0),(e=c.fixedCenter)!==A&&(this.g=!!e)}function vj(a){var b=a.padding;a.center.set((a.width+b.left-b.right)/2<<0,(a.height+b.top-b.bottom)/2<<0)}function wj(a,b,c,d){var e=new qh(0,0,0,0);if(wj.u.constructor.call(this),this.za=d.pixelRatio,this.wa={1:e.clone(),2:e.clone(),4:e.clone()},this.g=a,!a)throw new C(wj,0,a);if(xj(this),a.addEventListener(a.a.la,this.Dc,!1,this),this.N=z(this.N,this),this.C=z(this.C,this),this.B=z(this.B,this),a.startInteraction=this.N,a.interaction=this.C,a.endInteraction=this.B,this.I=b,!b)throw new C(wj,1,b);if(this.O=z(this.O,this),this.j=z(this.j,this),this.s=z(this.s,this),b.startControl=this.O,b.control=this.j,b.endControl=this.s,b.addEventListener(b.c.la,this.zb,!1,this),this.Ga=c,!c)throw new C(wj,2,c)}function xj(a){var c=(b=a.g).width,d=b.height,f=(e=b.padding).top,g=e.left,h=e.bottom,e=e.right,b=b.margin,k=-(c+g-e)/2<<0,l=-(d+f-h)/2<<0,m=(c=c+k,d=d+l,a.wa);a=a.za,m[1].set((k-b)*a,(l-b)*a,(c+b)*a,(d+b)*a),m[2].set(k*a,l*a,c*a,d*a),m[4].set((k+g)*a,(l+f)*a,(c-e)*a,(d-h)*a)}function zj(a,b){a.style.transition="opacity 1.5s",a.addEventListener("transitionend",function(){b()},!1),a.style.opacity=0}r("H.map.render.RenderState",ij),v(uj,I),r("H.map.ViewPort",uj),uj.prototype.a={la:"update",Oc:"sync"},uj.prototype.g=!0,uj.prototype.c=function(a){if(this.margin!==+a){if(D(this.margin=+a))throw new C(this.c,0,a);vj(this),this.dispatchEvent(this.a.la)}},uj.prototype.setMargin=uj.prototype.c,uj.prototype.f=function(a,b,c,d){var e=this.padding;if(e.top!==a||e.right!==b||e.bottom!==c||e.left!==d){if(D(a+b+c+d))throw new C(this.f);e.top=a,e.right=b,e.bottom=c,e.left=d,vj(this),this.dispatchEvent(this.a.la)}},uj.prototype.setPadding=uj.prototype.f,uj.prototype.resize=function(){var a=this.b.offsetWidth,b=this.b.offsetHeight;this.width===a&&this.height===b||(this.m=new Th(this.width,this.height),this.width=a,this.height=b,vj(this),this.dispatchEvent(this.a.la))},uj.prototype.resize=uj.prototype.resize,uj.prototype.D=function(){w.clearTimeout(this.i),this.i=null,this.b.removeChild(this.element),this.element=this.b=null,uj.u.D.call(this)},uj.prototype.startInteraction=uj.prototype.o,uj.prototype.interaction=uj.prototype.j,uj.prototype.endInteraction=uj.prototype.l,v(wj,I),r("H.map.render.RenderEngine",wj),wj.prototype.getBBox=wj.prototype.v,wj.prototype.Dc=function(){xj(this)},wj.prototype.D=function(){var a=this.I,b=this.g;a.removeEventListener(a.c.la,this.zb,!1,this),a.startControl===this.O&&(a.startControl=yj.prototype.B),a.control===this.j&&(a.control=yj.prototype.v),a.endControl===this.s&&(a.endControl=yj.prototype.s),b.removeEventListener(b.a.la,this.Dc,!1,this),b.startInteraction===this.N&&(b.startInteraction=uj.prototype.o),b.interaction===this.C&&(b.interaction=uj.prototype.j),b.endInteraction===this.B&&(b.endInteraction=uj.prototype.l)},wj.prototype.getCamForBounds=wj.prototype.P,wj.prototype.ya=function(){return null},wj.prototype.setPointer=wj.prototype.sa;var Aj={ZOOM:1,HEADING:2,TILT:4,INCLINE:8,COORD:16};wj.InteractionModifiers=Aj,wj.prototype.ee={Xf:"render"};var Bj={P2D:0,PANORAMA:1};function Cj(a,b,c,d,e,f){var g=e||"2d";Cj.u.constructor.apply(this,arguments),this.b=this.a.getContext(g,f),this.c="2d"===g,this.f=g,this.g=f}function Dj(){I.call(this),this.reset()}function Ej(a){Ej.u.constructor.call(this,Dj.prototype.g.Mf),this.offset=a}function Fj(a){return{x:91.401472*a.b,y:91.401472*a.c,z:a.f}}function Gj(a){return a=Fj(a),tb(a.x*a.x+a.y*a.y+a.z*a.z)}function Hj(a){var b=Fj(a);return a=Gj(a)||1,{x:b.x/a,y:b.y/a,z:b.z/a}}function Ij(a,b){var c=b||{};B(a,Jj,Ij,0),Ij.u.constructor.call(this,a),this.Nb=!!c.Nb,this.g=b&&b.noWrap,this.i=c.yi||0,this.c=[],this.f={}}wj.EngineType=Bj,v(Cj,bj),p=Cj.prototype,p.createElement=function(a){var b=(a=a.createElement("CANVAS")).style;return b.position="absolute",b.top=b.left=0,a},p.eh=function(a,b,c,d,e){a.width=mb(c,1),a.height=mb(d,1),b.width=nb(c/e)+"px",b.height=nb(d/e)+"px"},p.dh=function(a){this.b.globalAlpha=a},p.bc=function(a,b,c,d,e){this.c&&this.b.drawImage(a,b,c,d,e)},p.clear=function(a){var b,c;this.c&&(a?this.b.clearRect(b=a.left,c=a.top,a.right-b,a.bottom-c):this.a.width=this.size.w)},p.D=function(){this.a.width=this.a.height=0,this.b=x,Cj.u.D.call(this)},v(Dj,I),Dj.prototype.start=function(a,b){this.a&&this.reset(),D(a)||D(b)||(this.atX=a,this.atY=b),this.a=!0},Dj.prototype.g={Mf:"animationupdate"},v(Ej,Bc),Dj.prototype.mb=function(){return this.a},Dj.prototype.set=function(a,b,c){!this.a||this.b===a&&this.c===b&&this.f===c||(this.b=a,this.c=b,this.f=c,this.dispatchEvent(new Ej(Fj(this))))},Dj.prototype.reset=function(){this.a=!1,this.atY=this.atX=null,this.f=this.c=this.b=0},Dj.prototype.D=function(){this.reset(),Dj.u.D.call(this)},v(Ij,ej),Ij.prototype.ca=function(a,b,c,d,e){var f,g,k,l,m,n,q,t,y,J,T,ea,la,ob,h=this.a,u=0;if(d-=this.i,this.c.length=0,f=this.f,this.f=g={},d>=h.min&&d<=h.max&&(a=(l=(k=h.C(a,d,e)).overlays).length))for(l.sort(Se),d=this.b,e=this.Nb,ob=h.opacity,h=0;h<a;h++)n=(m=l[h]).S(),q=c.geoToPixel(n.tb()),t=c.geoToPixel(n.rb()),n=c.w,q.x>=t.x&&(q.x-=n),this.g||(u=-((q.x+t.x)/n>>1)*n),q.x+=u,q.add(b),t.x+=u,t.add(b),e||(q.round(),t.round()),(n=f[y=m.ta()])?delete f[y]:n={vi:m},g[y]=n,J=q.x,q=q.y,ea=(T=t.x)-J,la=(t=t.y)-q,dj(d,m.Bd()*ob),d.bc(m.Pb(),J,q,ea,la),n.Ae?n.Ae.set(J,q,T,t):n.Ae=new qh(J,q,T,t),this.c.push(n);return!k||k.requested&&k.requested===k.total||!k.requested&&l.length===k.total?ij.DONE:ij.PENDING},Ij.prototype.Ma=function(a,b,c){for(var f,h,d=this.c,e=d.length;e--;)if((f=d[e]).Ae.a(a,b))if(f=f.vi,h)h.push(f);else if(h=[f],c)break;return h||De},Ij.prototype.dd=function(){return 0},Ij.prototype.D=function(){this.c=null,Ij.u.D.call(this)};var Kj={zoom:{min:-8,max:28},camera:{alt:{min:0,max:0},pitch:{min:0,max:0},roll:{min:0,max:0},yaw:{min:0,max:0},fov:{min:70,max:70}},interaction:{ZOOM:1,Ki:16},capture:!0};function Lj(a,b){this.c=[],Lj.u.constructor.apply(this,arguments)}function Mj(a){var b=2;Mj.u.constructor.call(this,a),B(this.a,Oh)&&(b="2d"===a.v?0:1),this.c=b}function Nj(a){return-a*(a-2)}function Oj(a,b,c,d){if(!sa(this.i=a))throw new C(Oj,0,a);if(D(this.g=+b))throw new C(Oj,1,b);if(!sa(this.f=c)&&null!=c)throw new C(Oj,2,c);if(!sa(this.c=d)&&null!=d)throw new C(Oj,3,d);this.id=Pj.next(),this.a=!1}r("H.map.render.p2d.capabilities",Kj),v(Lj,fj),p=Lj.prototype,p.fg=function(){return this.a.c.apply(this.a,arguments)},p.ca=function(){return this.c=[],Lj.u.ca.apply(this,arguments)},p.wg=function(a,b,c,d,e,f){b=(g=c.b).w;var g=g.h,h=c.a;this.Nb?(e-=h.x,f-=h.y):(e=nb(e-h.x),f=nb(f-h.y)),d.bc(c.Pb(),e,f,b,g),a.detail?a.detail.set(e,f,e+b,f+g):a.detail=new qh(e,f,e+b,f+g),this.c.push(a)},p.Ma=function(a,b,c){for(var f,g,h,d=this.c,e=d.length,k=De;e--&&!((g=(f=d[e]).detail).a(a,b)&&(f=f.marker,(!(h=f.sb().g)||h.a(a-g.left,b-g.top,0))&&0>k.indexOf(f)&&(k===De&&(k=[]),k.push(f),c))););return k},p.dd=function(){return 0},p.D=function(){this.c=null,Lj.u.D.call(this)},v(Mj,ej),Mj.prototype.ca=function(a,b,c,d,e,f){var g=this.a,h=this.b,k=!(B(h,Cj)&&"2d"===h.f);return d>=g.min&&d<=g.max?(k&&h.setVisibility(!0),g.ca(h.a,{bounds:a,zoom:d,screenCenter:b,priorityCenter:f,projection:c,cacheOnly:e,size:h.size,pixelRatio:h.za})):(k&&h.setVisibility(!1),ij.DONE)},Mj.prototype.dd=function(){return this.c},r("H.util.animation.ease.LINEAR",function(a){return a}),r("H.util.animation.ease.EASE_IN_QUAD",function(a){return a*a}),r("H.util.animation.ease.EASE_OUT_QUAD",Nj),r("H.util.animation.ease.EASE_IN_OUT_QUINT",function(a){return 1>(a*=2)?ub(a,5)/2:ub(a-=2,5)/2+1}),r("H.util.animation.ease.EASE_OUT_CIRC",function(a){return tb(2*a-a*a)}),r("H.util.animation.Animation",Oj);var Pj=new ye;function Qj(a,b){if(D(this.b=+a))throw new C(Qj,0,a);this.a=0,b&&this.f(b)}function Rj(a,b,c,d){Rj.u.constructor.apply(this,arguments)}function Sj(a,b){this.a=a,this.b=b}function Tj(a,b,c){var d,e,f,g,h,k=[],l={ac:a.a,width:b.w,height:b.h,za:a.b};for(a=0;a<c.length;a++){switch(d=(b=c[a]).dd(),Ca(g={},l),e=b.b,d){case 0:if(B(b.a,Oh)&&(g.xe=b.a.F),d=f&&"2d"===f.f){d=g.xe;var m=f.g;d=m===d||(m&&!d?!m.alpha&&!m.willReadFrequently:d&&!m?!d.alpha&&!d.willReadFrequently:!d.alpha==!d.alpha&&!m.willReadFrequently==!d.willReadFrequently)}d?h=!1:e&&!h?(f=e,h=!1):(f=new Cj(g.ac,g.width,g.height,g.za,"2d",g.xe),h=!0);break;case 2:f=e||new Rj(g.ac,g.width,g.height,g.za),h=!e;break;default:f=e||new Cj(g.ac,g.width,g.height,g.za,b.a.v,g.xe),h=!e}k[k.length-1]!==f&&(f.a.style.zIndex=k.length,k.push(f)),b.od(f)}return k}function yj(){yj.u.constructor.call(this),this.a={},this.g={position:new gc(0,0),pitch:0,yaw:0,roll:0,fov:70},this.b=0}Oj.prototype.start=function(){var b,d,a=this,c=rj;d=function(){var e=tj(),f=e-a.Kb,g=1<(g=f/a.g)?1:g;a.c&&(g=a.c(g)),a.i(g,f,e-b,e),b=e,1<=g?a.stop():a.b=c(d)},a.Kb=tj(),b=a.Kb,a.a=!0,a.b=c(d)},Oj.prototype.start=Oj.prototype.start,Oj.prototype.stop=function(a){sj(this.b),this.a=!1,a||this.f&&this.f(this)},Oj.prototype.stop=Oj.prototype.stop,Oj.prototype.mb=function(){return this.a},Oj.prototype.isRunning=Oj.prototype.mb,r("H.util.kinetics.KineticMove",Qj),Qj.prototype.f=function(a){return this.a=a,this},Qj.prototype.setInitialSpeed=Qj.prototype.f,Qj.prototype.i=function(){return Math.abs(this.a/this.b)},Qj.prototype.getDuration=Qj.prototype.i,Qj.prototype.c=function(a){return this.a+this.b*a},Qj.prototype.getCurrentSpeed=Qj.prototype.c,Qj.prototype.g=function(a){return this.a*a+this.b*a*a/2},Qj.prototype.getCurrentPath=Qj.prototype.g,v(Rj,bj),p=Rj.prototype,p.createElement=function(a){return(a=a.createElement("DIV")).style.position="absolute",a},p.eh=function(a,b,c,d){b.width=c+"px",b.height=d+"px"},p.dh=function(a){this.a.style.opacity=a},p.bc=function(a,b,c){var d=this.za,e=a.style;e[hi("transform")]="matrix(1,0,0,1,"+b/d+","+c/d+")",a.parentNode!==this.a&&(e.position="absolute",this.a.appendChild(a))},p.clear=function(a){a?this.a.removeChild(a):this.a.innerHTML=""},v(yj,I),r("H.map.ViewModel",yj),yj.prototype.c={la:"update",Oc:"sync"},yj.prototype.i=Ra("position pitch yaw roll fov zoom");var Uj=Ra("fov pitch position roll yaw zoom").reduce(function(a,b){return a[b]=yi.prototype[b.toUpperCase()],a},{});function Vj(a,b,c,d){var f,g,h,e=d.length;for(a.f=0,a.o={},a.j={};e--;)h=c[f=d[e]],g=b[f],null!=h?(a.o[f]=g,a.j[f]=h,b[f]=h,($b(h)&&$b(g)&&(h.lat!==g.lat||h.lng!==g.lng)||!$b(h)&&h!==g)&&(a.f|=Uj[f])):delete b[f];return b}function Xj(a,b){var c=b.zoom;Vj(a,a.g,b,a.i),c!==a.b&&(a.f|=Uj.zoom),a.o.zoom=a.b,a.j.zoom=c,a.b=null!=c?c:a.b,a.g.zoom=a.b,a.a={},a.dispatchEvent(new yi(a.c.Oc,a.j,a.o,a.f))}function Wj(a){Wj.u.constructor.call(this,yj.prototype.c.la),this.requested=a}function O(a,b,c,d){var e;O.u.constructor.call(this,a,b,c,d),this.K=new M(0,0),(e=d.renderBaseBackground)&&(this.Bh=e.lower,this.Ah=e.higher),this.zh=!!d.enableSubpixelRendering,this.yb=!!d.noWrap,this.Vb=Yj,this.he=this.b=0,this.jc=this.Yd=!1,this.l=new M(.5,.5),this.i=sb(this.za)/Cb,this.f=new Vi,this.c=d=new Dj,this.Tb=z(this.Tb,this),d.addEventListener(d.g.Mf,this.Tb),this.a=new jh,d=a.element,this.Ba=a=d.ownerDocument.createElement("div"),a.style.position="absolute",a.style.width=a.style.height="100%",a.style.zIndex=0,d.insertBefore(a,d.firstChild),this.Nf=new Sj(this.Ba,this.za),this.m=[],Zj(this),c.addEventListener("update",this.Gg,!1,this),c.addEventListener(c.a.Lc,this.hf,!1,this),c.addEventListener(c.a.Nc,this.jf,!1,this),c.addEventListener(c.a.td,this.Ig,!1,this),this.Ub=z(O.prototype.Ub,this),this.G=ak,this.kh(),this.b=bk(this,this.I.getZoom()+this.i),ck(this),dk(this,b.Ab().position,this.b),ek(this),this.Dc()}yj.prototype.Ab=function(){return Vj(this,{},this.g,this.i)},yj.prototype.getCameraData=yj.prototype.Ab,yj.prototype.Jb=function(a){var b,c=a.animate;if(!a)throw new C(this.Jb,0,a);if((b=a.position)&&!$b(b))throw new C(this.Jb,0,"position");return this.a.zoom=D(a.zoom)?D(this.a.zoom)?this.b:this.a.zoom:a.zoom,b=this.a.zoom,a=Vj(this,{},a,this.i),this.a={animate:c,zoom:b,camera:a},this.dispatchEvent(new Wj(this.a)),this},yj.prototype.setCameraData=yj.prototype.Jb,yj.prototype.l=function(a,b){if(D(a=+a))throw new C(this.l,0,a);this.a={animate:b,zoom:a,camera:this.a.camera||this.g},this.dispatchEvent(new Wj(this.a))},yj.prototype.setZoom=yj.prototype.l,yj.prototype.getZoom=function(){return this.b},yj.prototype.getZoom=yj.prototype.getZoom,yj.prototype.m=function(){var a=this.a.camera;return a.zoom=ab(this.a.zoom)?this.a.zoom:a.zoom,a},yj.prototype.getRequestedCameraData=yj.prototype.m,yj.prototype.startControl=yj.prototype.B,yj.prototype.control=yj.prototype.v,yj.prototype.endControl=yj.prototype.s,v(Wj,Bc),v(O,wj),r("H.map.render.p2d.RenderEngine",O),O.prototype.type=Bj.P2D,O.prototype.type=O.prototype.type;var ak=2;function fk(a,b,c){return rb(b=c-b)<a.a.w/2?b:b-a.a.w*c/rb(c)}function Zj(a){var e,b=a.Ga.c(),c=0,d=b.length;for([a.U={},a.F={},a.ea={},a.ba={}].forEach(function(a){a.Yc=[],a.Fa=[]}),a.T=b;c<d;c++)qk(a,c,e=b[c],1),0===c&&rk(a,e,!0);ck(a)}function rk(a,b,c){(c=c?b.addEventListener:b.removeEventListener).call(b,b.a.Uf,a.Kg,!1,a),c.call(b,b.a.Tf,a.Kg,!1,a)}function qk(a,b,c,d){var e,f,g,h,k;c&&(k={Nb:a.zh,yi:a.i,noWrap:a.yb},c.ca?B(c,Oh)?f=new Mj(c):B(c,Qh)&&(h=new Mj(c)):(c.requestOverlays&&(e=new Ij(c,k)),c.requestTiles&&(f=new pj(c,k)),c.requestMarkers&&(g=new Lj(c,k)),c.requestDomMarkers&&(h=new jj(c,k)))),d=d||0,a.U.Fa.splice(b,d,e),a.F.Fa.splice(b,d,f),a.ea.Fa.splice(b,d,g),a.ba.Fa.splice(b,d,h),a.T=a.Ga.c(),a.m=Tj(a.Nf,tk(a),uk(a))}function uk(a){return[].concat(a.F.Fa).concat(a.U.Fa).concat(a.ea.Fa).concat(a.ba.Fa).filter(Ta)}function ck(a){var b;if(0<a.T.length)b=a.T[0].max,a.be=a.T[0].min,a.Zd=b;else{var c=(b=a.ih.zoom).max;a.be=b.min,a.Zd=c}(b=vk(a,a.b))!==a.b&&(a.b=b,a.a.Ja(b),ek(a))}function hk(a,b){var d,e,c=b.requested;return e=(d=c.camera)&&d.position,d=vk(a,vk(a,c.zoom)+a.i),e=wk({position:new gc(e.lat,e.lng)}),a.b=c.animate?a.b:d,e.zoom=d,e}function dk(a,b,c){var d=a.a;d.Ja(c),a.l=d.projection.qb(b),d.x=d.w*a.l.x,d.y=d.h*a.l.y}function vk(a,b){var c=a.ih.zoom;return Qb(b,mb(c.min,a.be),lb(c.max,a.Zd))}function wk(a){return a.yaw=a.pitch=a.roll=0,a.fov=70,a}function xk(a,b,c,d,e){for(var g,f=b.length;f--&&!((g=b[f])&&g.Ma&&(a=a.concat(g.Ma(c,d,e)),a.length&&e)););return a}function tk(a){return{w:(a=a.wa[2]).right-a.left,h:a.bottom-a.top}}function yk(a){tj()-a.Xd<a.Vb&&!a.Yb?a.uh=rj(a.Ub):(a.Yb&&(sk(a),zk(a)),a.G=ak)}function sk(a){a.U.Yc.length=0,a.F.Yc.length=0,a.ea.Yc.length=0,a.ba.Yc.length=0}function zk(a,b){a.dispatchEvent({type:a.ee.Xf,target:b||a})}function ok(a){a.Xd=tj(),a.G===ak&&(a.Yb=!1,a.G=1,yk(a))}function Bk(a){return wk({position:a.a.projection.Fc(a.l)})}function ek(a,b){var c=Bk(a);b&&(c.position=b),a.Fb=c,a.Fb.zoom=a.b-a.i}function Ck(a,b,c){jk(a,b*a.za,c*a.za),a.K.set(0,0),ek(a),ok(a)}function jk(a,b,c){var d=a.a,e=a.l;d.x=a.yb?mb(0,lb(d.w,d.x+b)):Ob(d.x+b,d.w),d.y=mb(0,lb(d.w,d.y+c)),e.x=d.x/d.w,e.y=d.y/d.h}function kk(a,b,c,d){var e=a.za,f=a.g.center;c===+c&&d===+d?(c=(c-f.x)*e,d=(d-f.y)*e,a.K.set(c,d),jk(a,c,d),a.a.Ja(b),jk(a,-c,-d)):(a.K.set(0,0),a.a.Ja(b)),a.b=b,ek(a),ok(a)}function gk(a){pk(a,!0),a.c.mb()&&a.s(!0),a.f.mb()&&a.B(!0),pk(a,!0)}function Dk(a,b){if(b){var c={};c.Xg=b.power,c.Be=b.ease,c.duration=b.duration,a.o=c}}function bk(a,b){return vk(a,vk(a,b-a.i)+a.i)}function Fk(a,b){var c,d,e,J,f=a.l,g=a.a.projection.qb(b.camera.position),k=(h=a.a.b(g)).y,h=h.x,l=b.zoom,n=(f=(m=a.a.b(f)).y,m.x),m=a.b,q=Gj(a.c),t=a.c.atX,u=a.c.atY,y=0;h=fk(a,n,h),f=tb((h=h-n)*h+(k=k-f)*k+(m=l-m)*m);0!==q&&0!==f&&(c=h/f,d=k/f,e=m/f,J=q*q/(2*f),ik(a,function(b,f){var h,k,m;1!==b?((m=e*(k=(h=q*f-J*f*f/2)-y))&&(m=bk(a,a.b+m),kk(a,bk(a,m),t,u)),Ck(a,nb(c*k),nb(d*k)),y=h):(a.l=g,kk(a,bk(a,l),t,u),ek(a),ok(a))},2*f/q))}function Ek(a,b,c){c=c||0,b.z&&kk(a,bk(a,a.b+b.z*c),a.c.atX,a.c.atY),Ck(a,b.x*c,b.y*c)}function ik(a,b,c,d,e){a.A&&a.A.mb()&&a.A.stop(!0),a.A=new Oj(b,c,d,e),a.A.start()}function pk(a,b){a.A&&a.A.mb()&&a.A.stop(b)}O.prototype.ih=Kj,O.prototype.getState=function(){return this.G},O.prototype.getState=O.prototype.getState,O.prototype.zb=function(a){var c,d,q,t,u,b=this,f=(e=a.requested).animate,e=e.camera.position,g=b.a.geoToPixel(e),h=g.x,k=g.y,l=this.b,m=this.l,n=0;gk(this),this.K.set(0,0),a=hk(this,a),c=a.zoom,u=a.position,f?(d=c-l,q={x:m.x,y:m.y},f=this.a.b(q).x,((t=this.a.projection.qb(e)).x!==this.l.x||t.y!==this.l.y||c!==this.b)&&(h=fk(this,f,h),ik(this,function(a){var f,e=a-n;c!==l&&(g=b.a.b(t),f=b.a.b(q),h=fk(b,f.x,g.x),k=g.y-f.y),n=a,jk(b,h*e,k*e),kk(b,l+=d*e),ek(b),ok(b)},this.Ua,function(){dk(b,u,c),kk(b,c),ek(b,u),ok(b)},this.Xa))):(pk(this),dk(this,u,c),kk(this,c),ek(this,u)),ok(this)},O.prototype.Ua=300,O.prototype.lh=function(a){var b=ab(a);if(!b||b&&0>a)throw new C(this.lh,1,"positive number required");this.Ua=a},O.prototype.setAnimationDuration=O.prototype.lh,O.prototype.xh=function(){return this.Ua},O.prototype.getAnimationDuration=O.prototype.xh,O.prototype.Xa=Nj,O.prototype.mh=function(a){if(!sa(a))throw new C(this.mh,1,"function required");this.Xa=a},O.prototype.setAnimationEase=O.prototype.mh,O.prototype.yh=function(){return this.Xa},O.prototype.getAnimationEase=O.prototype.yh,O.prototype.kh=function(){this.Xa=Nj,this.Ua=300},O.prototype.resetAnimationDefaults=O.prototype.kh,p=O.prototype,p.Gg=function(){ok(this)},p.hf=function(a){var b=a.added;qk(this,a=a.idx,b),0===a&&(ck(this),rk(this,b,!0)),sk(this),ok(this)},p.jf=function(a,b){var e,c=a.removed,d=a.idx;this.Xd=tj(),(e=this.U.Fa.splice(d,1)[0])&&e.J(),(e=this.F.Fa.splice(d,1)[0])&&e.J(),(e=this.ea.Fa.splice(d,1)[0])&&e.J(),(e=this.ba.Fa.splice(d,1)[0])&&e.J(),this.T=this.Ga.c(),0===d&&(rk(this,c,!1),ck(this)),this.m=Tj(this.Nf,tk(this),uk(this)),sk(this),b||ok(this)},p.Ig=function(a){this.jf(a,!0),this.hf(a)},p.Kg=function(){ck(this),ok(this)},p.Ka=function(a,b){var c=this.g.center,d=this.za;return this.a.Aa((a-c.x)*d,(b-c.y)*d,null,this.yb)},O.prototype.screenToGeo=O.prototype.Ka,O.prototype.sa=sc,O.prototype.setPointer=O.prototype.sa,O.prototype.Za=function(a,b){var c=this.Ka(a,b),d=this.I.Ab();return d.position=c,d},O.prototype.screenToCameraData=O.prototype.Za,O.prototype.Ya=function(a){var b=this.za,d=(c=this.g.center).x*b,c=c.y*b;a=this.a.geoToPixel(a);var e=this.a.w;return new M(this.yb?nb((a.x+d)/b):nb((a.x-nb(a.x/e)*e+d)/b),nb((a.y+c)/b))},O.prototype.geoToScreen=O.prototype.Ya,O.prototype.v=function(a,b){var c=this.wa[a||4],d=this.a,e=c.left-b,f=d.Aa(e,c.top-b),g=c.right+b;c=d.Aa(g,c.bottom+b);return g-e>=d.w&&(f.lng=-(c.lng=180)),Xe(f,c)},O.prototype.getBBox=O.prototype.v,O.prototype.Ma=function(a,b,c){var d=[],e=this.za;return a*=e,b*=e,d=xk(d,this.ba.Fa,a,b,c),c&&d.length?d:(d=xk(d,this.ea.Fa,a,b,c),c&&d.length?d:(d=xk(d,this.F.Fa,a,b,c),c&&d.length?d:xk(d,this.U.Fa,a,b,c)))},O.prototype.getObjectsAt=O.prototype.Ma,O.prototype.kb=x,O.prototype.Dc=function(){var c,d,e,f,g,a=this.m.length,b=this.wa;for(this.g.g||(e=b[2].clone()),O.u.Dc.call(this),c=tk(this),this.K.set(0,0),f=c.w,g=c.h;a--;)(d=(c=this.m[a]).size).w===f&&d.h===g||cj(c,f,g);this.kb=new Th(f,g),e&&(a=b[2],jk(this,e.left-a.left,e.top-a.top),ek(this)),ok(this)},O.prototype.Ha=function(){return Kj},O.prototype.getCapabilities=O.prototype.Ha,O.prototype.Ub=function(){var g,h,l,a=this.F.Fa,b=this.g.center.clone().scale(this.za).round(),c=this.v(1,0),d=this.v(1,256),e=this.b,f=e-this.i,k=Ak,m=this.a;g=this.Bh;var n=this.Ah,q=a[0];a=this.K;for(h=this.m.length;h--;)B(l=this.m[h],Cj)&&l.clear();if(q){if(g)for(;g;)h=e-g,q.ca(c,b,m,h,!0,a),--g;if(n&&this.jc)for(l=1;l<=n&&(h=e+l,m.Ja(h),g=this.v(2,0),m.Ja(e),!q.ca(g,b,m,h,!0,a));l++);}this.Vb=Yj,c=this.jh(c,b,e,!1,a,k.Yf,this.F,this.U),b=this.jh(d,b,f,!1,a,k.Qf,this.ea,this.ba),this.Yb=c&&b,this.Fb&&(Xj(this.I,this.Fb),this.Fb=null),this.kb&&((b=this.g).dispatchEvent(new yi(b.a.Oc,b.m,this.kb,yi.prototype.SIZE)),this.kb=x),e<this.he?this.jc=!0:this.Yd&&(this.jc=!1),this.he=e,this.Yd=c,yk(this)},O.prototype.jh=function(a,b,c,d,e,f,g){var q,t,y,J,T,h=Array.prototype.slice.call(arguments,6),k=h.length,l=h[0].Fa.length,m=k*l,n=Ak,u=!!m;for(y=0;y<m;y++)f===n.Yf?(T=y%k,J=Math.floor(y/k)):f===n.Qf&&(T=Math.floor(y/l),J=y%l),q=h[T].Fa[J],t=h[T].Yc,q&&((q=q.ca(a,b,this.a,c,d,e))===ij.ACTIVE&&(this.Vb=1/0),q!==ij.DONE||t[J]||(zk(this,this.T[J]),t[J]=!0),t[J]||(u=!1));return u},O.prototype.D=function(){var a=this.Ga,b=this.Ga.c()[0],c=this.g;sj(this.uh),pk(this,!0),a.removeEventListener("update",this.Gg,!1,this),a.removeEventListener(a.a.Lc,this.hf,!1,this),a.removeEventListener(a.a.Nc,this.jf,!1,this),a.removeEventListener(a.a.td,this.Ig,!1,this),b&&rk(this,b,!1),uk(this).forEach(function(a){a.J()}),c.element&&c.element.removeChild(this.Ba),this.Ba=null,this.G=3,O.u.D.call(this)},O.prototype.rd=function(a,b,c){kk(this,a=vk(this,vk(this,a)+this.i),b,c)},O.prototype.zoomAt=O.prototype.rd,O.prototype.P=function(a,b){var e,f,g,h,k,c=this.Ha().zoom.max,d=a.Oa();return a.ed()||((e=new jh(this.a.projection)).Ja(c),f=e.geoToPixel(a.tb()).round(),g=e.geoToPixel(a.rb()).round(),c=e.w,a.g()&&(f.x-=c),b?(h=e.geoToPixel(d),k=2*mb(h.x-f.x,g.x-h.x),h=2*mb(h.y-f.y,g.y-h.y)):(k=g.x-f.x,h=g.y-f.y,d=e.a(f.add(g).scale(.5))),e=(f=this.wa[4]).right-f.left,f=f.bottom-f.top,c=-8+lb(sb(e/k*c)/Cb,sb(f/h*c)/Cb)-this.i),{zoom:vk(this,c),position:d}},O.prototype.getCamForBounds=O.prototype.P,O.prototype.N=function(a,b){gk(this),Dk(this,b),this.f.start(a,!!b)},O.prototype.startInteraction=O.prototype.N,O.prototype.C=function(a,b,c,d,e){var f=!1;this.f.mb()&&(this.f.gh(a,b,c,d,e),this.f.Fd(Aj.COORD)&&(0<Ui(e=Wi((e=this.f).a,e.c))&&(Ck(this,-e.x,-e.y),f=!0)),this.f.Fd(Aj.ZOOM)&&a===+a&&b===+b&&c===+c&&d===+d&&(b=Xi(this.f.a),(a=this.f.hg(this.b))!==this.b&&(kk(this,a=bk(this,a),b.x,b.y),f=!0)),f&&ok(this))},O.prototype.interaction=O.prototype.C,O.prototype.B=function(a){var c,d,e,f,b=this;this.f.mb()&&!a&&(this.o&&(a=aj(this.f),e=$i(this.f),f=this.o.duration,c=(this.o.Xg||1)*a,d=new Qj(-c/f,c),!D(e.x)&&!D(e.y)&&0<c&&b.f.Fd(Aj.COORD)&&ik(this,function(a){c=d.c(a*f),D(c)||Ck(b,nb(-e.x*c),nb(-e.y*c))},f,void 0,this.o.Be)),this.o=null,this.f.clear())},O.prototype.endInteraction=O.prototype.B,O.prototype.O=function(a,b,c){gk(this),this.c.start(b,c),Dk(this,a)},O.prototype.startControl=O.prototype.O,O.prototype.j=function(a,b,c,d,e,f,g){if(D(c=+g||+c))throw new C(this.j,2,c);if(D(a))throw new C(this.j,0,a);if(D(b))throw new C(this.j,2,b);this.c.mb()&&this.c.set(a,b,c)},O.prototype.control=O.prototype.j,O.prototype.s=function(a,b){var d,e,g,h,k,l,m,c=this;this.c.mb()&&(pk(this,!0),1<=(d=(e=tj())-this.Ld)&&Ek(this,Fj(this.c),d),!this.o||a||b?"function"==typeof b&&(b(d={camera:Bk(this),zoom:this.b-this.i}),d.zoom+=this.i,Fk(this,d)):(d=Gj(this.c),k=Hj(this.c),l=this.o.duration,g=(this.o.Xg||1)*d,h=new Qj(-g/l,g),!D(k.x)&&!D(k.y)&&0<g&&ik(this,function(a,b,d,f){e&&(d=f-e,e=0),g=h.c(a*l)*d,D(g)||((m=k.z*g)&&kk(c,bk(c,c.b+m),c.c.atX,c.c.atY),Ck(c,nb(k.x*g),nb(k.y*g)))},l,void 0,this.o.Be)),this.c.reset())},O.prototype.endControl=O.prototype.s,O.prototype.Tb=function(a){var b=this,c=a.offset;this.K.set(0,0),c.x||c.y||c.z?(this.Ld=tj(),ik(this,function(a,e,f,g){b.Ld=g,Ek(b,c,f)},Number.POSITIVE_INFINITY)):pk(this,!0)},O.prototype.enter=sc,O.prototype.enter=O.prototype.enter,O.prototype.Va=function(a){var b=this.I.Ab();this.zb({requested:{camera:b,zoom:b.zoom,animate:!0}}),zj(this.Ba,a)},O.prototype.exit=O.prototype.Va,O.prototype.ya=function(a,b,c,d){var e=this.Ba.ownerDocument.createElement("canvas"),f=e.getContext("2d"),g=this.za;for(e.width=(c-a)*g,e.height=(d-b)*g,c=0;c<this.m.length;c++)B(d=this.m[c],Cj)&&f.drawImage(d.a,-a*g,-b*g);return e};var Ak={Qf:0,Yf:1},Yj=1e3;function P(a){var b={};this.O=b.previousSibling=b.nextSibling=b,this.kb=new ye,P.u.constructor.call(this,a),a&&"objects"in a&&this.m(a.objects)}function Gk(a,b,c){a.F(c.l)}function Hk(a){a.K()}function Ik(a,b,c){a.ua(c.A)}function Jk(a){this.push(a)}function Kk(a){var b;for(b in Ua(this,Kk),Kk.u.constructor.call(this,a),this.C=a=[],Pe)a[Pe[b]]=new Le}function L(a){a=a||{},L.u.constructor.call(this,a),this.f=a=new P({provider:this,min:a.min,max:a.max}),a.ia(this),this.A=new jf,this.v=new jf,this.j=new jf,this.B=new jf}function Mk(a,b,c,d,e){var f,g,h;if(b.c){for(a=b!==a.j,e=!e,g=0,c=(b=of(b,c)).length,f=0;f<c;f++){h=b[f].Lf;for(var k=nb(d),l=h,m=void 0;(m=l.Ga<=k&&l.ea>=k)&&(l=l.Da););m&&(e||h.getVisibility(!0))&&(a||1===h.sb().getState())&&(b[g++]=h)}b.length=g}else b=De;return b}function Nk(a,b,c,d,e,f){var g;for(g=[];d<=e;d++)g=g.concat(sh(a,c,d));for(a=g.length,Ei.call(this,f,a),this.l=c=[],this.f=z(this.f,this),this.c=z(this.c,this),this.L(1);a--;)f=g[a],c.push(ch(b,f[0],f[1],f[2],this.f,this.c))}function Ok(a,b){var c=this;if(!sa(b))throw new C(Pk,1,b);if(!sa(a.next||sa(a.cycle)))throw new C(Ok,2,'Argument "mode" must implement H.util.AsyncQueue.Mode');this.b=[],this.c=[],this.g=a,this.i=b,this.l=function(){Qk(c)},this.a=null,this.f=function(){c.a||(c.a=w.setTimeout(c.l,1))}}function Qk(a){var b,c=a.c,d=0,e=a.g;for(e.Kb=tj(),a.a=null;d<c.length;)(b=c[d]).rg?c.splice(d,1):d++;for(;b=e.next(a.b,a.c);)b.cancelled?b.done(null,"cancelled"):(c.push(b),a.i(b,b.data))}function Sk(){Rk(this,null,null,null)}function Rk(a,b,c,d){return a.data=b,a.cancelled=!1,a.rg=!1,a.b=c,a.c=d,a.a=null,a}function Tk(a,b){Tk.u.constructor.call(this,new Uk(a),b)}function Uk(a){if(isNaN(a)||0>a)throw new C(Tk,1,'Argument "maxTime" must be a positive number');this.a=a,this.Kb=tj()}function Zf(a,b,c,d,e,f){var g,h,l,m,n,q,t,u,y,k=a.length;if(k)for(g=[];k--;)for(q=(u=a[k]).length,t=0,l=1;l<q;l++)(y=Vk(u[l-1],u[l],c,b,d,e))&&(m=y[0],n=y[1],t&&t.pa(m)?h.push(n):g.push(h=y),t=n,f&&(l=q,k=0));else g=a;return g}function Vk(a,b,c,d,e,f){var g=a.x;a=-a.y;var k,l,m,h=b.x;if(b=-b.y,c=-c,f=-f,g>h){if(h>e||g<d)return;l=g,m=a,g=h,a=b,h=l,b=m,l=1}else if(g>e||h<d)return;if(a>b){if(b>c||a<f)return;k=1,a=-a,b=-b,m=f,f=-c,c=-m}else if(a>c||b<f)return;if(g<d){if((a+=(d-g)*(b-a)/(h-g))>c)return;g=d}if(a<f){if((g+=(f-a)*(h-g)/(b-a))>e)return;a=f}return h>e&&(b=a+(e-g)*(b-a)/(h-g),h=e),b>c&&(h=g+(c-a)*(h-g)/(b-a),b=c),k&&(a=-a,b=-b),l?[new M(h,-b),new M(g,-a)]:[new M(g,-a),new M(h,-b)]}function ag(a,b,c,d,e,f,g,h,k,l){return a={x:a,y:b,next:c||null,nb:d||null,ef:e||null,df:f||null,bb:g||0,Ce:h||0,ie:k||0,alpha:l||0},d&&(a.nb.next=a),c&&(a.next.nb=a),a}function cg(a){for(;a&&a.bb;)a=a.next;return a}function bg(a){if(a)for(;a.next;)a=a.next;return a}function hg(a){var b=a;if(b)do{b=b.next}while(b!=a&&(!b.bb||b.bb&&b.ie));return b}function gg(a){var b=bg(a);b.nb.next=a,a.nb=b.nb}function dg(a,b,c,d,e,f){var g,h,k,l=b.x-a.x,m=b.y-a.y;g=d.x-c.x;var n=d.y-c.y;return(h=l*n-m*g)?(g=((c.x-a.x)*n-(c.y-a.y)*g)/h,h=(m*(c.x-a.x)-l*(c.y-a.y))/h,0>g||1<g||0>h||1<h?0:(0===g?k=a:1===g?k=b:0===h?k=c:1===h&&(k=d),k&&!f?(k.x+=2480549651603763e-20,k.y+=7321997314118067e-20,k.zd&&(k.zd.x=k.x,k.zd.y=k.y),dg(a,b,c,d,e)):(e.Hi=a.x+g*l,e.Ii=a.y+g*m,e.Kh=g,e.Zf=h,1))):0}function fg(a,b,c){var d,g,h,k,l,m,n,e=0,f={};for(d=ag(-137438953472,c=c||a.y),Array.isArray(b)?(g=b[k=0],l=function(){return b[++k]}):(m=g=b,l=function(){return m=m.next});n=l();){if(h=dg(d,a,g,n,f,!0),0===(g=f.Zf)||1===g)return fg(a,b,c+6e-5);h&&e++,g=n}return e%2}function eg(a,b,c){for(b=b.next;b!==c&&b.alpha<=a.alpha;)b=b.next;a.next=b,a.nb=b.nb,a.next.nb=a,a.nb.next=a}function $f(a){for(var b,c=null,d=0,e=a.length;d<e;d++)((b=ag(a[d].x,a[d].y,c)).next=c)&&(c.nb=b),c=b;return c}function Wk(a,b,c,d){return(a-=c)*a+(b-=d)*b}function Xk(a,b,c,d,e){var f,t,y,g=0,h=d,k=a[d].x,l=a[d].y,m=a[e].x,n=a[e].y,q=d+1,u=Wk(k,l,m,n);if(u)for(;q<e;)(f=0>(y=(((f=(t=a[q++]).x)-k)*(m-k)+((t=t.y)-l)*(n-l))/u)?Wk(f,t,k,l):1<y?Wk(f,t,m,n):Wk(f,t,k+y*(m-k),l+y*(n-l)))>g&&(g=f,h=q-1);else for(;q<e;)(f=Wk(f=(t=a[q++]).x,t=t.y,k,l))>g&&(g=f,h=q-1);return g>=b||0<c&&h-d?(--c,1<h-d?(d=Xk(a,b,c,d,h)).splice(d.length-1,1):d=[a[d]],d=1<e-h?d.concat(Xk(a,b,c,h,e)):d.concat(a.slice(h,e+1))):d=[a[d],a[e]],d}function Yk(a,b,c,d,e,f,g,h){Yk.u.constructor.call(this,b,c,d,null),this.key=a,this.C=h,this.b=e,1!==f&&(this.Wb=f),this.g={},this.zL=g,this.F=qb(zf.MAX_LINE_WIDTH/2*this.Wb+1)}function Zk(a){return a.C.getInvalidations(Pe.SPATIAL)}function $k(a){var f,g,h,k,l,m,b=Zk(a),c=b.a,d=a.f,e=d===c;if(!(e||b.j(d)||b.g(d))){if(e=a.a,f=a.g,b.f(d))for(g=e.length;g--;)(h=e[g]).j().f(d)&&(e.splice(g,1),k=k||al(a,h.ta()));if(b.i(d)){for(g=e.length;g--;)if((h=e[g]).j().i(d)&&(l=1,(h=f[h.ta()])&&h.a)){k=1;break}l&&e.sort(bl)}if(!k&&b.b(d))for(g=e.length;g--;)if(e[g].j().b(d)){m=1;break}a.N!==d||m||(a.N=c,a.c!==d||k||(a.c=c)),a.f=c,e=!0}return e}function cl(a,b){this.b=a,this.a=b}function al(a,b){var c=a.g,d=c[b];if(d)return delete c[b],d.a}function bl(a,b){return Re(Qe(a),Qe(b),!1)}v(P,K),r("H.map.Group",P),P.prototype.type=Pe.GROUP,P.prototype.F=function(a,b){var c;return this.B=!0,c=P.u.F.call(this,a,b),this.B=!1,c&&this.forEach(Gk,!0),c},P.prototype.setProvider=P.prototype.F,P.prototype.contains=function(a){var b=this===a;if(!b&&this.b&&B(a,K))for(;!b&&a;)a===this?b=!0:a=a.Da;return b},P.prototype.contains=P.prototype.contains,P.prototype.K=function(){this.U=A,this.forEach(Hk,!0)},P.prototype.resetZInfo=P.prototype.K,P.prototype.B=!1,P.prototype.ua=function(a){var b=P.u.ua.call(this,a);return b&&!this.B&&(this.A=a,this.forEach(Ik,!0),delete this.A),b},P.prototype.invalidate=P.prototype.ua,P.prototype.forEach=function(a,b,c){var d,e,f,g;if(this.b)for(e=(d=this.O).nextSibling,f=0;e!==d;)g=e.nextSibling,a.call(c,e,f++,this),b&&B(e,P)&&e.forEach(a,b,c),e=g},P.prototype.forEach=P.prototype.forEach,P.prototype.s=function(a){var b=[];return this.forEach(Jk,a,b),b},P.prototype.getObjects=P.prototype.s,P.prototype.S=function(){var a=null;return this.b&&this.forEach(function(b){(b=b.S())&&(a=a?a.wb(b):b)}),a},P.prototype.getBounds=P.prototype.S,P.prototype.b=0,P.prototype.Ba=function(){return this.b},P.prototype.getChildCount=P.prototype.Ba,P.prototype.V=function(a){var d,b=this.O,c=b.previousSibling;if(B(a,K,this.V,0),a.contains(this))throw new kc(this.V,"The new object contains the parent group");if((d=a.Da)!==this){if(d){d=a.previousSibling;var e=a.nextSibling;d.nextSibling=e,e.previousSibling=d}a.Da=this,K.u.ia.call(a,this),c.nextSibling=a,a.previousSibling=c,a.nextSibling=b,b.previousSibling=a,this.b++}return b=a.F(this.l,this.V),a.fh=this.kb.next(),a.K(),b||a.ua(Me.Z_ORDER),a},P.prototype.addObject=P.prototype.V,P.prototype.m=function(a){var b,c;for(Za(a,this.m,0),b=a.length,c=0;c<b;c++)this.V(a[c])},P.prototype.addObjects=P.prototype.m,P.prototype.a=function(a){if(!a||a.Da!==this)throw new kc(this.a,"object not found");var b=a.previousSibling,c=a.nextSibling;return b.nextSibling=c,c.previousSibling=b,a.Da=null,K.u.ia.call(a,null),delete a.previousSibling,delete a.nextSibling,B(a.l,L)&&a.F(null,this.a),this.b--,a},P.prototype.removeObject=P.prototype.a,P.prototype.v=function(a){var b,c;for(Za(a,this.v,0),b=a.length,c=0;c<b;c++)this.a(a[c])},P.prototype.removeObjects=P.prototype.v,P.prototype.Ea=function(){var a=this.s();this.v(a)},P.prototype.removeAll=P.prototype.Ea,v(Kk,Qg),r("H.map.provider.ObjectProvider",Kk),Kk.prototype.N=function(a){return this.C[a||Pe.ANY]},Kk.prototype.getInvalidations=Kk.prototype.N,Kk.prototype.o=function(a,b){var c,d;b!==Me.NONE&&(c=(d=this.C[Pe.ANY]).a+1,d.c(c,b),(d=this.C[a.type]).c(c,b),a.j().c(c,b),Rg(this,a))},Kk.prototype.invalidateObject=Kk.prototype.o,Kk.prototype.requestOverlays=Kk.prototype.K,Kk.prototype.requestSpatials=Kk.prototype.m,Kk.prototype.requestSpatialsByTile=Kk.prototype.g,Kk.prototype.P=!1,Kk.prototype.requestMarkers=Kk.prototype.c,Kk.prototype.requestDomMarkers=Kk.prototype.b,v(L,Kk),r("H.map.provider.LocalObjectProvider",L),L.prototype.I=function(){return this.f},L.prototype.getRootGroup=L.prototype.I,L.prototype.o=function(a,b){b&Me.SPATIAL&&this.V(a),L.u.o.call(this,a,b)},L.prototype.invalidateObject=L.prototype.o,L.prototype.V=function(a){var b;if(B(a,K,this.V,0),a.l!==this)throw new kc(this.V,"foreign object");this.a(a),b=B(a,xi)?this.j:B(a,fh)?this.B:B(a,Lk)?this.A:this.v;var c=a.S(),d=c.tb(),e=c.rb();(b=(c=c.g())?kf(b,d.lat,e.lng,e.lat,d.lng,c):kf(b,d.lat,d.lng,e.lat,e.lng,c)).Lf=a,a.Ua=b},L.prototype.a=function(a){var b;if(a)if(a.l!==this){if(B(a,K))throw new kc(this.a,"foreign object")}else(b=a.Ua)&&((B(a,xi)?this.j:B(a,fh)?this.B:B(a,Lk)?this.A:this.v).remove(b),delete b.Lf,delete a.Ua)},L.prototype.removeObject=L.prototype.a,L.prototype.ba=function(){return 0<this.A.c},L.prototype.providesOverlays=L.prototype.ba,L.prototype.K=function(a,b,c){return Mk(this,this.A,a,b,c).filter(function(a){return a.Pb()})},L.prototype.requestOverlays=L.prototype.K,L.prototype.s=function(){return 0<this.v.c},L.prototype.providesSpatials=L.prototype.s,L.prototype.m=function(a,b,c){return Mk(this,this.v,a,b,c)},L.prototype.requestSpatials=L.prototype.m,L.prototype.g=function(a,b){return Mk(this,this.v,a.s(),a.zL,b)},L.prototype.requestSpatialsByTile=L.prototype.g,L.prototype.l=function(){return 0<this.j.c},L.prototype.providesMarkers=L.prototype.l,L.prototype.c=function(a,b,c){return Mk(this,this.j,a,b,c)},L.prototype.requestMarkers=L.prototype.c,L.prototype.i=function(){return 0<this.B.c},L.prototype.providesDomMarkers=L.prototype.i,L.prototype.b=function(a,b,c){return Mk(this,this.B,a,b,c)},L.prototype.requestDomMarkers=L.prototype.b,L.prototype.D=function(){this.f.Ea(),L.u.D.call(this)},v(Nk,Ei),Nk.prototype.f=function(){Hi(this,2)},Nk.prototype.c=function(){Hi(this,4)},Nk.prototype.Sc=function(){for(var a=this.l,b=a.length;b--;)a[b].cancel();this.l=x},r("H.util.AsyncQueue",Ok),Ok.prototype.push=function(a,b){if(!sa(b))throw new C(this.push,1,b);var c=Rk(new Sk,a,this.f,b);return this.b.push(c),this.f(),c},Ok.prototype.push=Ok.prototype.push,Ok.Task=Sk,Sk.prototype.done=function(a,b){this.rg=!0,this.b(),this.c(this,a,b)},Sk.prototype.done=Sk.prototype.done,Sk.prototype.cancel=function(){this.a&&this.a(),this.cancelled=!0},Sk.prototype.cancel=Sk.prototype.cancel,Sk.prototype.f=function(a){return this.a=a,this},Sk.prototype.setCancelFn=Sk.prototype.f,v(Tk,Ok),r("H.util.SequentialQueue",Tk),Uk.prototype.next=function(a){return a.length&&tj()-this.Kb<this.a?a.shift():null},v(Yk,$g),r("H.map.provider.SpatialTile",Yk),Yk.prototype.f=Mb,Yk.prototype.N=Mb,Yk.prototype.c=Mb,Yk.prototype.yc=function(){var a=Zk(this),b=a.a,c=this.c,d=c===b;return d||(this.C.P&&!a.b(c)?d=!0:$k(this)&&(d=this.c===b)),d},Yk.prototype.isCanvasValid=Yk.prototype.yc,Object.defineProperty(Yk.prototype,"valid",{get:function(){return this.yc()},set:sc,configurable:!0}),Yk.prototype.a=De,Yk.prototype.I=function(){return this.a},Yk.prototype.getObjects=Yk.prototype.I;var dl={};function fl(a,b,c,d,e,f,g,h,k){var l,m,n,q=a.Ra,t=-g;if(g=f+g,h=h||0,k===A&&(k=q.length),e&&a===If)b.fillRect(0,0,f,f);else if(k>h){for(b.beginPath(),f=h;f<k;f++){if(n=(m=q[f]).length,m===Tf)b.moveTo(t,t),b.lineTo(t,g),b.lineTo(g,g),b.lineTo(g,t);else for(l=m[0],b.moveTo(l.x,l.y),h=1;h<n;h++)l=m[h],b.lineTo(l.x,l.y);c&&b.closePath()}c&&e&&b.fill(a.a!==Lb?"evenodd":"nonzero"),d&&b.stroke()}}function el(a,b,c){var d;a.strokeStyle=b.strokeColor,a.lineWidth=b.lineWidth*c,a.lineCap=b.lineCap,a.lineJoin=b.lineJoin,a.miterLimit=b.miterLimit,a.setLineDash&&(d=b.lineDash)!==De&&(a.setLineDash(d),a.lineDashOffset=b.lineDashOffset)}function gl(a,b){a.fillStyle=b.fillColor}function hl(a,b,c,d,e,f){var g=e*d.width/2,h=(e=e*d.length/2)/2;d=2*e*d.frequency;var k=tb(ub(e,2)+ub(g,2));a=new qh(k,k,a=a.b-k,a),c=c.Ra;var l,m,n,q,t,u,y,J,T,ea,la,ob=Db/2;for(f=f||0,k=c.length;k-- >f;){if(u=0,q=m=(l=c[k]).length){for(q=(n=l).length,t=0;--q;)t+=n[q].distance(n[q-1]);q=(n=t)>=d}if(q)for(t=(q=n/((q=lb(pb(n/d),1e3))+1))/2;--m;){for(y=(J=l[m]).distance(T=l[m-1]);t<=u+y;)la=J.x+(T.x-J.x)*(ea=(t-u)/y),ea=J.y+(T.y-J.y)*ea,a.a(la,ea)&&(b.save(),b.translate(la,ea),b.rotate(-Ab((T.y-J.y)/(J.x-T.x))+(J.x<T.x?ob:-ob)),b.beginPath(),b.moveTo(-g,-e),b.lineTo(0,e),b.lineTo(g,-e),b.lineTo(0,-h),b.closePath(),b.fill(),b.restore()),t+=q;u+=y}}}Yk.prototype.j=function(){var c,a=this.b+"_"+this.Wb,b=dl[a];return b||(b=-this.F,c=this.b-b,b=dl[a]=new qh(b,b,c,c)),b},Yk.prototype.getPxClipRect=Yk.prototype.j,Yk.prototype.s=function(){var b,c,a=this.K;return a||(c=this.B(),a=0,b=this.b,this.z&&(b-=a+=this.j().top),a=this.K=Xe(c.a(new M(a,a)),c.a(new M(b,b)))),a},Yk.prototype.getGeoClipRect=Yk.prototype.s,Yk.prototype.B=function(){var b,a=this.P;return a||(b=this.b,(a=this.P=new jh(A,b)).Ja(this.z),a.x=this.x*b,a.y=this.y*b),a},Yk.prototype.getPxProj=Yk.prototype.B,Yk.prototype.Wb=1,Yk.prototype.pb=function(){return this.Wb},Yk.prototype.getPixelRatio=Yk.prototype.pb,Yk.prototype.o=function(){var a=this.data;return this.data=null,this.c=Mb,a},Yk.prototype.releaseCanvas=Yk.prototype.o,Yk.prototype.m=function(){this.g={},delete this.a,this.f=Mb},Yk.prototype.releaseData=Yk.prototype.m,Yk.prototype.ca=function(a){var c,d,e,f,g,h,k,l,m,b=a.getContext("2d"),n=k=0;if(c=Zk(this),d=this.f,e=this.a,!$k(this)){for(k=e.length;k--;)((f=(h=e[k]).j()).f(d)||f.g(d))&&al(this,h.ta());this.a=this.C.requestSpatialsByTile(this,!1,!1).sort(bl),this.f=c.a}if(this.c<this.f){if(d=(c=this.a).length)for(a.width=a.height=this.b,b.clearRect(0,0,this.b,this.b),e=this.g,f=0;f<d;f++)if(l=(k=e[g=(h=c[f]).ta()])?k.b:h.getGeometriesForTile(this)){if(k)h.j().b(this.c)&&(k.a=Hf(h,l)),k=k.a;else{k=Hf(h,l),m=l;for(var q=h.B?2:0,t=m.length,u=void 0,y=u=void 0,J=void 0;t--;)if((u=m[t])!==If)for(u=(y=u.Ra).length;u--;)4<(J=y[u]).length&&(y[u]=Xk(J,.36,q||0,0,J.length-1));this.g[g]=new cl(l,k)}if(k){for(b.save(),m=h.B?this.T:this.O,g=0;g<l.length;g++)m.call(this,h,l[g],h.Na(),b);if(l=h.getLabels(this))for(h=b,g=l.length,m=m=t=q=q=void 0;g--;)for(m=(q=l[g]).size,h.font=m+"px "+q.font,h.fillStyle=q.color,h.textAlign="center",h.translate(q.x,q.y),h.rotate(q.angle),m=q.lineHeight||1.375*m,t=(q=q.lines).length;t--;)h.fillText(q[t],0,t*m);b.restore()}n|=k}this.data=n?a:null,this.N=this.c=this.f}else this.data&&(n=1);return 0<n},Yk.prototype.render=Yk.prototype.ca,Yk.prototype.O=function(a,b,c,d){var e;c.b&&(el(d,c,this.Wb),fl(b,d,!1,!0,!1,this.b,this.F)),c.a&&(e=a.s)&&e.fd&&(gl(d,e),hl(this,d,b,e,c.lineWidth))},Yk.prototype.T=function(a,b,c,d){var g,h,e=c.c,f=c.b,k=this.b,l=this.F;b===If?e&&(gl(d,c),d.fillRect(0,0,k,k)):(f&&el(d,c,this.Wb),c.a&&(g=a.s)&&(h=c.lineWidth,g.fd||(g=null)),(a=b.b)===Lb?((f||e)&&(gl(d,c),fl(b,d,!0,f,e,k,this.F)),g&&(gl(d,g),hl(this,d,b,g,h,0))):(e&&(gl(d,c),fl(b,d,!0,!1,e,k,l,0,a)),f&&fl(b,d,!1,f,!1,k,l,a),g&&(gl(d,g),hl(this,d,b,g,h,a))))};var il=[];function jl(a,b){var c,d;jl.u.constructor.call(this,b),this.m=a,this.B=c=b.pixelRatio,this.tileSize=d=1<<nb(Nb((b.tileSize||256)*c)),this.C=Tg(d,c),this.Qe=z(this.Qe,this),this.gf=z(this.gf,this),this.Re=z(this.Re,this),this.Pe=z(this.Pe,this),this.g=z(this.g,this),this.m.addEventListener(Qg.prototype.F.la,this.g,!1,this),this.b=[],this.c=new Vg(b.tileCacheSize||256,this.Qe),this.f=new Vg(b.dataCacheSize||512,this.gf),this.v=new Tk(20,this.Re),this.a={},this.j=tj()}function Pk(a){var b="getURL";if(!a||!sa(a[b]))throw new C(Pk,0,"options."+b);if(Pk.u.constructor.call(this,a),this.P=this[b]=a[b],this[b="tileSize"]=a[b]||256,this.I={crossOrigin:a.crossOrigin},this.b=w.URL||w.webkitURL,Ta(this.I.crossOrigin))a=!!this.I.crossOrigin;else{a=this.P(0,0,0);b=window.location;var c=document.createElement("a");c.href=a,a=c.hostname===b.hostname&&c.port===b.port&&c.protocol===b.protocol}(this.O=a&&!!Gh.prototype.b[Hh]&&!!this.b)&&this.g.c(z(this.ea,this))}function oh(a,b){var c=b||{},d=c.opacity;this.opacity=Ta(d)?d:1,nh.call(this,a,c)}function Jj(a,b){var c=b||{};c.tileSize=c.tileSize||256,c.pixelRatio=c.pixelRatio||1,c.max=28,this.f=new jl(a,c),this.i=new oh(this.f,{opacity:1}),c.minWorldSize=this.f.tileSize,Jj.u.constructor.call(this,c),this.opacity=this.i.opacity,this.tileSize=this.i.tileSize,this.j=a,this.o=z(this.o,this),this.f.addEventListener(this.f.F.la,this.o),a.addEventListener("update",this.o)}Yk.prototype.Ma=function(a,b,c){for(var f,g,h,k,l,m,q,d=this.a,e=d.length,n=De,t=this.Wb;e--;)if((g=d[e]).getVisibility(!0)&&(h=this.g[g.ta()])&&(k=h.b)){for(m="none"!==(f=g.Na()).fillColor&&g.B,q="none"===f.strokeColor?0:f.lineWidth*t,f=k.length;f--;){var u;if(l=k[f],!(u=m&&l===If)&&(u=m||q)){u=a;var y=b,J=m,T=q,ea=l.a,la=l.b,ob=la!==Lb,na=void 0,ia=void 0,Ja=(l=l.Ra).length,Jb=void 0,Sd=void 0,lk=void 0,rf=void 0,sf=void 0,mk=(ia=Jb=void 0,0),nk=0,Co=(ia=void 0,!1);for(rf=0;rf<Ja;rf++)if(Jb=l[rf],na=!(ia=rf>=la)&&rf>=ea,Jb===Tf&&J)na?mk++:nk++;else{for(lk=Jb.length,il.length=2*lk,sf=0;sf<lk;sf++)Sd=Jb[sf],il[2*sf]=Sd.x,il[2*sf+1]=Sd.y;if(Jb=J&&!ia,ia=ob&&!ia?0:T,Jb||ia){if(2===(ia=Ub(u,y,il,ia,Jb))||1===ia){Co=!0;break}if(3===ia)if(na)mk++;else if(nk++,ea===Lb)break}}u=Co||0<nk&&!(mk%2)}if(u){n===De&&(n=[]),n.push(g);break}}if(c&&n.length)break}return n},v(jl,Sg),r("H.map.provider.SpatialTileProvider",jl),jl.prototype.g=function(a){a.target.type===Pe.SPATIAL&&Rg(this,a.target)},jl.prototype.o=function(a,b,c,d){var f,e=this.getTileKey(a,b,c);if(f=this.c.get(e,d)){if(d||f.yc())return f;d||this.c.g(e)}if((f=this.f.get(e,d))&&(d||$k(f)))return a=this.b.pop()||document.createElement("canvas"),f.ca(a)||this.b.push(a),this.c.add(e,f,1),f;d||((f=this.a[e])?f.count++:((f=this.v.push([e,a,b,c],this.Pe)).count=1,this.a[e]=f))},jl.prototype.requestTile=jl.prototype.o,jl.prototype.T=function(a,b,c){this.K(this.getTileKey(a,b,c))},jl.prototype.cancelTile=jl.prototype.T,jl.prototype.K=function(a){var b;(b=this.a[a])&&(b.count--,b.count||(b.cancel(),delete this.a[a]))},jl.prototype.cancelTileByKey=jl.prototype.K,p=jl.prototype,p.Re=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3];d=(c=this.c.get(c)||new Yk(c,d,e,f,this.tileSize,this.B,f+this.C,this.m)).data||this.b.pop()||document.createElement("canvas");c.ca(d)||this.b.push(d),b.push(c),a.done(c)},p.Pe=function(a,b){var c=a.data[0];b&&this.c.add(c,b,1),delete this.a[c],Rg(this)},p.Qe=function(a,b){b.data&&this.b.push(b.o()),this.f.add(a,b,1)},p.gf=function(a,b){b.m()},p.D=function(){for(var a in this.a)this.a[a].cancel();this.c.Ea(),this.f.Ea(),this.b.length=0,jl.u.D.call(this)},v(Pk,N),r("H.map.provider.ImageTileProvider",Pk),Pk.prototype.v=function(){return this.tileSize},Pk.prototype.getEntryWeight=Pk.prototype.v,Pk.prototype.c=function(a,b,c,d,e,f){var k,l,g=this,h=this.P(a,b,c);return a=null,h?(l=w.setTimeout(function(){g.O?(k=new Gh(Hh,h,f)).then(function(a){var b=new Image;b.onload=z(d,null,b,{zi:a}),b.onerror=z(e,null,"bad url");try{b.src=g.b.createObjectURL(g.f(a))}catch(c){}},e):k=new Gh("image",h,f,g.I).then(d,e)},150),a={cancel:function(){k?k.cancel():w.clearTimeout(l)}}):d(null),a},Pk.prototype.requestInternal=Pk.prototype.c,Pk.prototype.Ga=function(a,b){var c=new Image;c.onload=function(){b(this)},c.src=this.b.createObjectURL(this.f(a))},Pk.prototype.f=function(a){var b=w.BlobBuilder||w.WebKitBlobBuilder||w.MozBlobBuilder,c=Pk.prototype;return c.f=b?function(a){var c=new b;return c.append(a),c.getBlob("application/octet-stream")}:function(a){return new Blob([a],{type:"application/octet-stream"})},c.f(a)},Pk.prototype.ea=function(a,b){var c=b.data;c&&c instanceof HTMLImageElement&&this.b.revokeObjectURL(c.src)},v(oh,nh),r("H.map.layer.TileLayer",oh),oh.prototype.g=function(a,b,c,d,e){if(!B(a,G))throw new C(this.g,0,a);if(D(b=+b))throw new C(this.g,1,b);var f;return b=pb(b),this.pixelProjection.Ja(b),a=this.j(a),f=this.i(a,b),this.o(f,a.left>a.right,b,c,d,e)},oh.prototype.requestTiles=oh.prototype.g,v(Jj,mh),r("H.map.layer.ObjectLayer",Jj),Jj.prototype.o=function(a){a.currentTarget!==this.f&&a.target.type===Pe.SPATIAL||this.l()},Jj.prototype.Pa=function(){return this.j},Jj.prototype.getProvider=Jj.prototype.Pa;var kl={markers:De,total:0};Jj.prototype.c=function(a,b,c){var e,d=this.j;return d.providesMarkers()&&(e=d.requestMarkers(a,b,!0,c)).length?{markers:e,total:e.length}:kl},Jj.prototype.requestMarkers=Jj.prototype.c,Jj.prototype.b=function(a,b,c){var e,d=this.j;return d.providesDomMarkers()&&(e=d.requestDomMarkers(a,b,!0,c)).length?{markers:e,total:e.length}:kl},Jj.prototype.requestDomMarkers=Jj.prototype.b;var ll={tiles:De,total:0};Jj.prototype.g=function(a,b,c,d){var e;return this.j.providesSpatials()?(e=this.i.g(a,b,c,d),c||(c=this.f,33<(e=tj())-c.j&&(Qk(c.v),c.j=e),e=this.i.g(a,b,!0,d))):e=ll,e},Jj.prototype.requestTiles=Jj.prototype.g,Jj.prototype.A=function(a,b,c,d){return this.i.A(a,b,c,d)},Jj.prototype.requestTile=Jj.prototype.A,Jj.prototype.m=function(a,b,c){this.i.m(a,b,c)},Jj.prototype.cancelTile=Jj.prototype.m;var ml={overlays:De,total:0};function Q(a,b,c){if(Q.u.constructor.call(this),this.O=z(Q.prototype.O,this),this.l=nl(c,Q),this.c=c=new yj,this.F=!1,c.addEventListener(c.c.Oc,this.Za,!1,this),!B(a,Element))throw new C(Q,0,a);var d=(c=this.b=a.ownerDocument.createElement("div")).style;if(d.position="relative",d.height=c.style.width="100%",d.overflow="hidden",d.webkitTapHighlightColor="transparent","transparent"!==d.webkitTapHighlightColor&&(d.webkitTapHighlightColor="rgba(0,0,0,0)"),a.appendChild(c),this.va=new uj(this.b,this.l),this.va.addEventListener(this.va.a.Oc,this.Za,!1,this),(a=this.fa=new Di(this.l.layers)).addEventListener(a.a.td,this.Ba,!1,this),a.addEventListener(a.a.Lc,this.Ba,!1,this),a.addEventListener(a.a.Nc,this.Ba,!1,this),this.B=new L({max:28}),this.ea=new Jj(this.B,this.l),this.re(this.ea),this.i=null,this.fa.add(b,0),this.f=this.P(this.l.engineType||ol.P2D,this.l),b=this.l.center||new gc(0,0),a=+this.l.zoom||0,c=this.l.bounds,this.C=z(this.C,this),this.T=z(this.T,this),B(c,G)?this.sa(c):(this.Ga(b),this.Ha(a)),(b=this.l.imprint)!==A&&"object"!=typeof b)throw new C(Q,1,"imprint");this.j=null===b?b:new Ji(this,b),b=this.l.autoColor,this.I=b===A||!!b,pl(this)}function nl(a,b){var c;if(a){if((c=a.pixelRatio)===A)a.pixelRatio=1;else if(!(0<c))throw new C(b,0,"pixelRatio: "+c)}else a={pixelRatio:1};return a.renderBaseBackground||(a.renderBaseBackground={lower:3,higher:2}),a}function pl(a){a.j&&a.I&&a.j.g({invert:a.i.Oh})}function ql(a,b,c){a.dispatchEvent(c?new yi(a.v.Rf,c.newValue,c.oldValue,c.modifiers):a.v.Rf+b)}function rl(a){Ei.call(this,a)}Jj.prototype.C=function(a,b,c){var d=this.j,e=ml;return d.providesOverlays&&d.providesOverlays()&&(b=(a=d.requestOverlays(a,b,!0,c)).length)&&(e={overlays:a,total:b}),e},Jj.prototype.requestOverlays=Jj.prototype.C,Jj.prototype.D=function(){this.f.J(),this.i.J(),this.j.dispose(),Jj.u.D.call(this)},v(Q,I),r("H.Map",Q),Q.prototype.D=function(){this.I=!1,this.j&&this.j.J(),this.ea.J(),this.B.J(),this.fa.J(),this.c.J(),this.va.J(),this.f.J(),Ge(this.b),this.b=null,I.prototype.D.call(this)},Q.prototype.Vb=function(){return this.b},Q.prototype.getElement=Q.prototype.Vb,Q.prototype.A=function(){return this.l.pixelRatio},Q.prototype.getPixelRatio=Q.prototype.A,Q.prototype.Ba=function(a){var b=a.added,c=a.removed;b&&sa(b.Pa)&&b.Pa().ia(this),c&&sa(c.Pa)&&c.Pa().ia(null),0===a.idx&&(this.dispatchEvent(new Ne(this.v.oh,this.i=a.type!==this.fa.a.Nc?b:0<this.fa.Y.length?this.fa.get(0):x,a.type!==this.fa.a.Lc?c:1<this.fa.Y.length?this.fa.get(1):x)),pl(this))},Q.prototype.Za=function(a){a.modifiers&&(this.F||(ql(this,"start"),this.F=!0),ql(this,"",a)),this.F&&(this.Ya&&w.clearTimeout(this.Ya),this.Ya=w.setTimeout(this.T,333))},Q.prototype.T=function(){ql(this,"end"),this.F=!1},Q.prototype.Ga=function(a,b){return this.c.Jb({animate:!!b,position:a}),this},Q.prototype.setCenter=Q.prototype.Ga,Q.prototype.Oa=function(){var a=this.c.Ab();return a?ic(a.position):x},Q.prototype.getCenter=Q.prototype.Oa,Q.prototype.Ha=function(a,b){return this.c.l(a,!!b),this},Q.prototype.setZoom=Q.prototype.Ha,Q.prototype.getZoom=function(){return this.c.getZoom()},Q.prototype.getZoom=Q.prototype.getZoom,Q.prototype.rd=function(a,b,c){this.f.rd(a,b,c)},Q.prototype.zoomAt=Q.prototype.rd,Q.prototype.sa=function(a,b){if(!B(a,G))throw new C(this.sa,0,a);var c=this.f.P(a,!1);return c.zoom=pb(c.zoom),c.animate=b,this.c.Jb(c),this},Q.prototype.setViewBounds=Q.prototype.sa,Q.prototype.ba=function(){return this.f.v(4,0)},Q.prototype.getViewBounds=Q.prototype.ba,Q.prototype.U=function(a){if(!B(a,G))throw new C(this.U,0,a);return this.f.P(a,!0)},Q.prototype.getCameraDataForBounds=Q.prototype.U,Q.prototype.Ub=function(){return this.va},Q.prototype.getViewPort=Q.prototype.Ub,Q.prototype.Tb=function(){return this.c},Q.prototype.getViewModel=Q.prototype.Tb,Q.prototype.kb=function(){return this.fa},Q.prototype.getLayers=Q.prototype.kb,Q.prototype.Fb=function(){return this.j},Q.prototype.getImprint=Q.prototype.Fb,Q.prototype.ya=function(a,b,c,d,e,f){function h(b){J||(J=!0,a(b))}var m,n,u,k=this.g(),l=k.Ha(),q=this.j,t=this.l.pixelRatio;b=b||[];var T,ea,y=this.va,J=!1;if(!sa(a))throw new C(this.ya,0,a);c=c||0,d=d||0,e=e||y.width,f=f||y.height,T=mb(0,lb(c,e)),ea=mb(0,lb(d,f)),c=lb(y.width,mb(c,e)),d=lb(y.height,mb(d,f)),l.capture?(m=k.ya(T,ea,c,d),n=m.getContext("2d"),m.style.width=m.width/t+"px",m.style.height=m.height/t+"px",u=new Tk(10,function(a,b){J?a.cancel():(n.save(),b.capture(m,t,function(b){n.restore(),a.done(b)},function(b){a.done(null,b),h(null)}))}),(b=b.concat(q).filter(function(a){return sa(a&&a.capture)})).length?(k=b.pop(),b.forEach(function(a){u.push(a,sc)}),u.push(k,z(h,this,m)),Qk(u)):h(m)):a(null)},Q.prototype.capture=Q.prototype.ya,Q.prototype.g=function(){return this.m||this.f},Q.prototype.getEngine=Q.prototype.g,Q.prototype.N=function(a){return this.f.type===a||this.wa||(this.wa=!0,this.m=this.P(a),this.m.addEventListener("render",this.C)),this},Q.prototype.setEngineType=Q.prototype.N,Q.prototype.C=function(a){a.target===this.m&&(this.m.removeEventListener("render",this.C),this.m.enter(),this.f.Va(this.O))},Q.prototype.O=function(){var a=this.f.type;this.f.J(),this.f=this.m,this.m=A,this.wa=!1,this.dispatchEvent(new Ne(this.v.vh,this.f.type,a))},Q.prototype.P=function(a,b){var c=b?nl(b,this.P):this.l;if(a===ol.PANORAMA)return this.j&&this.I&&this.j.g({invert:!0}),new w.H.map.render.panorama.RenderEngine(this.va,this.c,this.fa,c);if(a===ol.P2D)return pl(this),new O(this.va,this.c,this.fa,c);throw new C(this.N,0,a)},Q.prototype.K=function(a,b,c,d,e){var f;if(b=Ta(b)?B(b,G,this.K,1,b)&&b:this.ba(),!((c=Ta(c)?+c:this.getZoom())<=(d=Ta(d)?+d:this.getZoom())))throw new C(this.K,A,"!(min <= max)");if(!B(e=e||this.i,nh))throw new C(this.K,4);if(!(f=e.Pa())||!B(f,N)||!f.Rc())throw new kc(this.constructor,"Storing is not supported");return new Nk(e,f,b,c,d,a)},Q.prototype.storeContent=Q.prototype.K,v(rl,Ei),rl.prototype.f=function(){Hi(this,2)},rl.prototype.c=function(){Hi(this,4)},Q.prototype.yb=function(a){return a=new rl(a),vc().clear(z(a.f,a),z(a.c,a)),a},Q.prototype.clearContent=Q.prototype.yb,Q.prototype.re=function(a,b){return-1===this.fa.indexOf(a)&&this.fa.add(a,D(b)?this.fa.Y.length-1:b),this},Q.prototype.addLayer=Q.prototype.re,Q.prototype.tf=function(a){var b=this.fa.indexOf(a);return a!==this.i&&a!==this.ea&&-1!==b&&this.fa.b(b),this},Q.prototype.removeLayer=Q.prototype.tf,Q.prototype.Zb=function(a){return this.i!==a&&(this.fa.set(0,a),this.i=a),this},Q.prototype.setBaseLayer=Q.prototype.Zb,Q.prototype.zb=function(){return this.i},Q.prototype.getBaseLayer=Q.prototype.zb,Q.prototype.o=function(a){if(!hc(a))throw new C(this.o,0,a);return(a=this.f.Ya(a))?gh(a):x},Q.prototype.geoToScreen=Q.prototype.o,Q.prototype.Ka=function(a,b){var c;if(c=+D(a)||2*D(b))throw new C(this.Ka,c-1,arguments[c-1]);return(c=this.f.Ka(a,b))?ic(c):x},Q.prototype.screenToGeo=Q.prototype.Ka,Q.prototype.Va=function(a,b){return this.f.Za(a,b)},Q.prototype.screenToCameraData=Q.prototype.Va,Q.prototype.V=function(a){if(!B(a,K))throw new C(this.V,0,a);return this.B.f.V(a),a},Q.prototype.addObject=Q.prototype.V,Q.prototype.a=function(a){if(!B(a,K))throw new C(this.a,0,a);return this.B.f.a(a),a},Q.prototype.removeObject=Q.prototype.a,Q.prototype.jc=function(){return this.B.f.s(!0)},Q.prototype.getObjects=Q.prototype.jc,Q.prototype.Ua=function(a){var b,c;if(!qa(a))throw new C(this.Ua,0,a);for(b=a.length,c=0;c<b;c++)this.V(a[c]);return this},Q.prototype.addObjects=Q.prototype.Ua,Q.prototype.Xa=function(a){if(!B(a,P)&&!qa(a))throw new C(this.Xa,0,a);return a.forEach(this.a,this),this},Q.prototype.removeObjects=Q.prototype.Xa,Q.prototype.s=function(a,b){var c;if(c=+D(a)||2*D(b))throw new C(this.s,c-1,arguments[c-1]);return this.f.Ma(a,b,!0)[0]||x},Q.prototype.getObjectAt=Q.prototype.s,Q.prototype.Ma=function(a,b){var c;if(c=+D(a)||2*D(b))throw new C(this.s,c-1,arguments[c-1]);return this.f.Ma(a,b,!1)},Q.prototype.getObjectsAt=Q.prototype.Ma;var Pi=1,ol={P2D:0,PANORAMA:Pi};function Lk(a,b,c){this.c=z(this.c,this),K.call(this,c),this.i(a),this.m(b,c&&c.crossOrigin),this.f(c&&"opacity"in c?c.opacity:1)}function sl(){return Bh("mapsjs-core","0.17.0","e7c502b")}Q.EngineType=ol,Q.prototype.v={Oi:"mapviewchangestart",Rf:"mapviewchange",Sf:"mapviewchangeend",oh:"baselayerchange",vh:"enginechange"},v(Lk,K),r("H.map.Overlay",Lk),Lk.prototype.type=Pe.OVERLAY,Lk.prototype.S=function(){return this.a},Lk.prototype.getBounds=Lk.prototype.S,Lk.prototype.i=function(a){var b=this.a,c=!b;return B(a,G,Lk,0,a),!c&&b.pa(a)||(this.a=a,c||this.ua(Me.SPATIAL)),this},Lk.prototype.setBounds=Lk.prototype.i,Lk.prototype.Pb=function(){return this.b.getData()},Lk.prototype.getBitmap=Lk.prototype.Pb,Lk.prototype.m=function(a,b){var c=this.b;return c&&1!==c.getState()&&c.cancel(),this.b=new mi(a,this.c,!0,A,b),this},Lk.prototype.setBitmap=Lk.prototype.m,Lk.prototype.c=function(a,b){this.b=b,1===a&&this.ua(Me.VISUAL)},Lk.prototype.Bd=function(){return this.o},Lk.prototype.getOpacity=Lk.prototype.Bd,Lk.prototype.f=function(a){var b=this.o,c=2>b;if(!(0<=(a-=0)&&1>=a))throw new C(this.f,0);return a!==b&&(this.o=a,c&&this.ua(Me.VISUAL)),this},Lk.prototype.setOpacity=Lk.prototype.f,r("H.buildInfo",sl),r("H.getScriptPath",function(){var a;if(Ta(a=w.H.scriptPath)||(a=tl),!a)throw Error("Cant't detect script path: H.scriptPath is missing");return a});var tl,ul=w.document.currentScript,vl;ul||(ul=w.document.querySelector('script[src*="H-"]'),ul||(vl=w.document.getElementsByTagName("script"),ul=vl[vl.length-1])),tl=ul?ul.src.replace(/\/[^\/]*$/,"/"):"",this.mapsjs=H}(),H.__bootstrap__='var m,q=this;function aa(a,b,c){a=a.split(".");c=c||q;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]?c=c[d]:c=c[d]={}:c[d]=b}function ea(){}function fa(){throw Error("unimplemented abstract method");}\nfunction ga(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";\nelse if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ha(a){return"string"==typeof a}function r(a){return"function"==ga(a)}function ia(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var ka="closure_uid_"+(1E9*Math.random()>>>0),la=0;function ma(a,b,c){return a.call.apply(a.bind,arguments)}\nfunction qa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function sa(a,b,c){sa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ma:qa;return sa.apply(null,arguments)}\nfunction ta(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function u(a,b){aa(a,b,void 0)}function ua(a,b){function c(){}c.prototype=b.prototype;a.W=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.eb=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};function v(){}u("H.util.ICache",v);v.prototype.add=function(){};v.prototype.add=v.prototype.add;v.prototype.get=function(){};v.prototype.get=v.prototype.get;v.prototype.j=function(){};v.prototype.drop=v.prototype.j;v.prototype.forEach=function(){};v.prototype.forEach=v.prototype.forEach;v.prototype.i=function(){};v.prototype.removeAll=v.prototype.i;v.prototype.g=function(){};v.prototype.registerOnDrop=v.prototype.g;var va="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wa(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<va.length;f++)c=va[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var y=function(){return this}();function xa(a){if(Error.captureStackTrace)Error.captureStackTrace(this,xa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}ua(xa,Error);xa.prototype.name="CustomError";var Aa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,"")};function Ba(a,b){return a<b?-1:a>b?1:0};var Ca=Array.prototype,Da=Ca.indexOf?function(a,b,c){return Ca.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(ha(a))return ha(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};var Ea=sa,Fa=String;function Ga(a){return eval(""+a)}var Ha=y.Object.freeze||function(a){return a};function Ia(a){var b={},c;for(c in a)b[c]=a[c];return b}var z=Ga(),Ja=Ga(null);function Ka(a){return Fa(a).split(","!==z?",":" ")}var Ma="prototype constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Na(a,b,c,d){if(!(b=a instanceof b)&&c)throw new B(c,d,void 0!==z?void 0:a);return b}u("H.lang.isObject",ia);\nfunction Oa(a){for(var b in a)return!1;return!0}u("H.lang.isEmptyObject",Oa);function Pa(a,b,c,d){var e;if(!(e="Array"===Qa(a))&&b)throw new B(b,c,d!==z?d:a);return e}u("H.lang.isArray",function(a,b,c,d){return Pa(a,b,c,d)});u("H.lang.isString",ha);var Ra=isNaN;function Sa(a){return a===+a}u("H.lang.isNumber",Sa);function Qa(a){var b=Object[Ma[0]][Ma[6]].call(a).match(/^\\[object (\\w+)\\]$/);return b?b[1]:typeof a}\nfunction Ta(a,b,c,d){var e="",f=2>arguments.length;f&&(b={H:y.H},c="",d=[]);Ua(b,!0,function(b,f){try{var k=b[f];f=Va(b,k);var l;if(l=!(ia(k)&&k.window===k&&k.self===k))l=!(ia(k)&&0<k.nodeType&&r(k.cloneNode));if(l&&ia(k)){if(k===a)return e=c+"."+f,!0;if(0>d.indexOf(k)&&(d.push(k),e=Ta(a,k,c+"."+f,d)))return!0}}catch(n){}});f&&(e=e?e.substr(1).replace("."+Ma[0]+".","#"):"~"+(r(a)?Wa(a)+"()":Qa(a)));return e}\nfunction Va(a,b){var c=[];Ua(a,!1,function(a,e){a[e]===b&&c.push(e)});return c.sort(Xa)[0]}function Xa(a,b){return b.length-a.length}var Ya=Object[Ma[0]][Ma[2]];function Ua(a,b,c){var d,e;if(a){for(d in a)if((!b||Ya.call(a,d))&&c(a,d,!0))return;for(e=Ma.length;e--&&(d=Ma[e],b&&!Ya.call(a,d)||!c(a,d,!1)););}}function Wa(a){return(a=/^\\s*function ([^\\( ]+)/.exec(a))?a[1]:"anonymous"}function Za(a,b,c){c[b]="#"+b}({}).toString.call(void 0);function C(a,b,c){b&&this.g(b);if(c&&!r(c))throw new B(C,2,c);this.b=0;this.filter=c;this.a={};this.f=this.c=null;this.l(a)}u("H.util.Cache",C);C.prototype.add=function(a,b,c){var d,e;c=+c;if(!Sa(c)||0>c)throw new B(this.add,2,c);a=String(a);d=this.a[a];e=!0;this.filter&&(e=this.filter(a,b,c));d?e?(this.b+=c-d.size,d.size=c,d.data=b,$a(this,d)):bb(this,d,!0):e&&(this.a[a]=cb(this,{id:a,data:b,size:c,F:null,J:null},this.c));db(this);return e};C.prototype.add=C.prototype.add;\nC.prototype.g=function(a){if(!r(a))throw new B(this.g,0,a);this.v=a};C.prototype.registerOnDrop=C.prototype.g;C.prototype.get=function(a,b){var c=b?this.a[a]:$a(this,this.a[a]);return c&&c.data};C.prototype.get=C.prototype.get;C.prototype.j=function(a){var b;(b=this.a[a])&&bb(this,b,!0)};C.prototype.drop=C.prototype.j;C.prototype.forEach=function(a,b,c){var d,e;for(e in this.a)d=this.a[e],(c?c(e,d.data,d.size):1)&&a.call(b,e,d.data,d.size)};C.prototype.forEach=C.prototype.forEach;\nC.prototype.i=function(a){var b,c;for(c in this.a)b=this.a[c],(a?a(c,b.data,b.size):1)&&bb(this,this.a[c],!0)};C.prototype.removeAll=C.prototype.i;C.prototype.l=function(a){if(!(0<+a))throw new B(C.prototype.l,0,a);this.o=+a;db(this);return this};C.prototype.setMaxSize=C.prototype.l;C.prototype.C=function(){return this.o};C.prototype.getMaxSize=C.prototype.C;C.prototype.B=function(){return this.b};C.prototype.getCurrentSize=C.prototype.B;function $a(a,b){b&&(a.c=cb(a,b,a.c));return b}\nfunction db(a){for(;a.b>a.o&&a.f;)bb(a,a.f,!0)}function cb(a,b,c){if(c!==b){(b.F||b.J)&&bb(a,b);if(b.F=c)b.J=c.J,c.J=b;b.J||(a.c=b);b.F||(a.f=b);a.b+=b.size}return b}function bb(a,b,c){var d=b.J,e=b.F;if(d||e||b==a.c&&b==a.f)d?d.F=e:a.c=e,e?e.J=d:a.f=d,a.b-=b.size,c&&(a.v&&a.v(b.id,b.data,b.size),delete a.a[b.id]);b.F=b.J=null};function E(){}u("H.service.extension.dataView.ITable",E);E.prototype.getMeta=E.prototype.Aa;E.prototype.getRowCount=E.prototype.i;E.prototype.getRow=E.prototype.c;E.prototype.getColumnNames=E.prototype.f;E.prototype.getColumn=E.prototype.g;E.prototype.getCell=E.prototype.b;E.prototype.concat=E.prototype.a;function eb(){}u("H.service.extension.dataView.IRow",eb);eb.prototype.getColumnNames=eb.prototype.f;eb.prototype.getCell=eb.prototype.c;eb.prototype.getTable=eb.prototype.b;function fb(a,b){this.a=a;this.g=b}u("H.service.extension.dataView.ObjRow",fb);fb.prototype.f=function(){return this.a.f()};fb.prototype.getColumnNames=fb.prototype.f;fb.prototype.c=function(a){return this.a.b(this.g,a)};fb.prototype.getCell=fb.prototype.c;fb.prototype.b=function(){return this.a};fb.prototype.getTable=fb.prototype.b;function gb(){}u("H.service.extension.dataView.IColumn",gb);gb.prototype.getCell=gb.prototype.a;function hb(a,b){this.c=a;this.b=b}u("H.service.extension.dataView.ObjColumn",hb);hb.prototype.a=function(a){return this.c.b(a,this.b)};hb.prototype.getCell=hb.prototype.a;function B(a,b,c){var d=arguments.length,e;b=1<d?+b:b;d=2<d?Fa(c):"";b!==z&&(e=(e=/^.*?\\(([^\\)]+)/.exec((""+a).replace(/(\\/\\*([\\s\\S]*?)\\*\\/)|(\\/\\/(.*)$)/gm,"")))?Ka(e[1].replace(/\\s+/g,"")):[],e.forEach(Za),e=e[b]||"#"+b);this.message=(a?Ta(a):"")+(e||d?" (":"")+(e?"Argument "+e:"")+(d?(e?" ":"")+d:"")+(e||d?")":"");this.stack=Error().stack}u("H.lang.InvalidArgumentError",B);B.prototype=Error();B.prototype.name="InvalidArgumentError";function F(a,b,c){var d;b=b||(a&&a.length?Object.keys(a[0]):z);this.K=a;if(b)for(this.R=b,this.qa=a=Object.create(Ja,void 0),d=b.length;d--;)a[b[d]]=!0;c!==z&&(this.ta=c)}u("H.service.extension.dataView.ObjTable",F);m=F.prototype;m.ta=z;m.K=z;m.R=z;m.qa=z;m.Aa=function(){return this.ta};F.prototype.getMeta=F.prototype.Aa;F.prototype.i=function(){return this.K?this.K.length:0};F.prototype.getRowCount=F.prototype.i;F.prototype.c=function(a){var b=this.K;return b&&b[a]?new fb(this,a):z};\nF.prototype.getRow=F.prototype.c;F.prototype.f=function(){return this.R||ib};F.prototype.getColumnNames=F.prototype.f;F.prototype.g=function(a){return this.qa[a]?new hb(this,a):z};F.prototype.getColumn=F.prototype.g;F.prototype.b=function(a,b){var c=this.K;return(c=c&&this.qa[b]&&c[a])&&c[b]};F.prototype.getCell=F.prototype.b;\nF.prototype.a=function(){var a=arguments.length,b,c=this.R,d=""+this.R,e=(this.K||[]).slice(),f;for(b=0;b<a;b++){f=arguments[b];if(!(f instanceof F))throw new B(this.a,b);if(f.K){if(c&&""+f.R!==d)throw new B(this.a,b,"Incompatible columns!");e=e.concat(f.K)}}return new F(e,this.R,this.ta)};F.prototype.concat=F.prototype.a;function J(a,b){this.x=+a;this.y=+b}u("H.math.Point",J);J.prototype.set=J;J.prototype.set=J.prototype.set;J.prototype.clone=function(a){a?(a.x=this.x,a.y=this.y):a=new J(this.x,this.y);return a};J.prototype.clone=J.prototype.clone;J.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};J.prototype.add=J.prototype.add;J.prototype.f=function(a){this.x-=a.x;this.y-=a.y;return this};J.prototype.sub=J.prototype.f;J.prototype.c=function(a,b){this.x*=a;this.y*=void 0===b?a:b;return this};\nJ.prototype.scale=J.prototype.c;J.prototype.round=function(){this.x=jb(this.x);this.y=jb(this.y);return this};J.prototype.round=J.prototype.round;J.prototype.floor=function(){this.x=kb(this.x);this.y=kb(this.y);return this};J.prototype.floor=J.prototype.floor;J.prototype.ceil=function(){this.x=lb(this.x);this.y=lb(this.y);return this};J.prototype.ceil=J.prototype.ceil;J.prototype.Ca=function(a){return!(!a||this.x!==a.x||this.y!==a.y)};J.prototype.equals=J.prototype.Ca;\nJ.prototype.a=function(a,b){var c=b.x-a.x,d=b.y-a.y,e,f=a;if(c||d)e=((this.x-a.x)*c+(this.y-a.y)*d)/(c*c+d*d),0>=e?f=a:1<=e?f=b:f=new J(a.x+e*c,a.y+e*d);return f};J.prototype.getNearest=J.prototype.a;J.prototype.b=function(a){return mb(nb(this.x-a.x,2)+nb(this.y-a.y,2))};J.prototype.distance=J.prototype.b;function ob(a){if(!a)throw new B(ob,0,a);return Na(a,J)?a:new J(a.x,a.y)}J.fromIPoint=ob;function pb(a,b,c,d,e,f){var g,h,k=a.length,l,n,p,w,G,D,I;if(k)for(g=[];k--;)for(D=a[k],w=D.length,G=0,l=1;l<w;l++){if(I=qb(D[l-1],D[l],c,b,d,e))n=I[0],p=I[1],G&&G.Ca(n)?h.push(p):g.push(h=I),G=p,f&&(l=w,k=0)}else g=a;return g}\nfunction qb(a,b,c,d,e,f){var g=a.x;a=-a.y;var h=b.x;b=-b.y;var k,l,n;c=-c;f=-f;if(g>h){if(h>e||g<d)return;l=g;n=a;g=h;a=b;h=l;b=n;l=1}else if(g>e||h<d)return;if(a>b){if(b>c||a<f)return;k=1;a=-a;b=-b;n=f;f=-c;c=-n}else if(a>c||b<f)return;if(g<d){if((a+=(d-g)*(b-a)/(h-g))>c)return;g=d}if(a<f){if((g+=(f-a)*(h-g)/(b-a))>e)return;a=f}h>e&&(b=a+(e-g)*(b-a)/(h-g),h=e);b>c&&(h=g+(c-a)*(h-g)/(b-a),b=c);k&&(a=-a,b=-b);return l?[new J(h,-b),new J(g,-a)]:[new J(g,-a),new J(h,-b)]}\nfunction rb(a,b,c,d,e,f,g,h,k,l){a={x:a,y:b,next:c||null,D:d||null,Da:e||null,ua:f||null,I:g||0,ra:h||0,na:k||0,alpha:l||0};d&&(a.D.next=a);c&&(a.next.D=a);return a}function sb(a){for(;a&&a.I;)a=a.next;return a}function tb(a){if(a)for(;a.next;)a=a.next;return a}function ub(a){var b=a;if(b){do b=b.next;while(b!=a&&(!b.I||b.I&&b.na))}return b}function vb(a){var b=tb(a);b.D.next=a;a.D=b.D}\nfunction wb(a,b,c,d,e,f){var g,h,k,l=b.x-a.x,n=b.y-a.y;g=d.x-c.x;var p=d.y-c.y;h=l*p-n*g;if(!h)return 0;g=((c.x-a.x)*p-(c.y-a.y)*g)/h;h=(n*(c.x-a.x)-l*(c.y-a.y))/h;if(0>g||1<g||0>h||1<h)return 0;0===g?k=a:1===g?k=b:0===h?k=c:1===h&&(k=d);if(k&&!f)return k.x+=2.480549651603763E-5,k.y+=7.321997314118067E-5,k.ia&&(k.ia.x=k.x,k.ia.y=k.y),wb(a,b,c,d,e);e.Za=a.x+g*l;e.$a=a.y+g*n;e.Ja=g;e.xa=h;return 1}\nfunction xb(a,b,c){var d,e=0,f={},g,h,k,l,n,p;c=c||a.y;d=rb(-137438953472,c);Array.isArray(b)?(k=0,g=b[k],l=function(){return b[++k]}):(n=g=b,l=function(){return n=n.next});for(;p=l();){h=wb(d,a,g,p,f,!0);g=f.xa;if(0===g||1===g)return xb(a,b,c+6E-5);h&&e++;g=p}return e%2}function yb(a,b,c){for(b=b.next;b!==c&&b.alpha<=a.alpha;)b=b.next;a.next=b;a.D=b.D;a.next.D=a;a.D.next=a}function zb(a){for(var b,c=null,d=0,e=a.length;d<e;d++){b=rb(a[d].x,a[d].y,c);if(b.next=c)c.D=b;c=b}return c};function Ab(a,b){var c=[];a&&c.push(Ta(a));1<arguments.length&&c.push(b);this.message=c.join(" ");this.stack=Error().stack}ua(Ab,Error);u("H.lang.IllegalOperationError",Ab);Ab.prototype=Error();Ab.prototype.name="IllegalOperationError";function Bb(a){if(!ha(a))throw new B(this.constructor,0);this.i=y.indexedDB||y.webkitIndexedDB||y.mozIndexedDB||y.msIndexedDB;if(!this.i)throw new Ab(this.constructor,"This browser does not support IndexedDB");this.o=a;this.a=[];this.c=[];this.g=Ea(this.g,this)}var Cb,Db;u("H.util.IndexedDBStorage",Bb);\nBb.prototype.get=function(a,b,c){var d;if(!Eb(a))throw new B(this.get,0);if(!r(b))throw new B(this.get,1);Fb(this,function(e){d=e.get(a);Gb(d,b,c)},c);return{cancel:function(){d&&(d.onsuccess=Hb)}}};Bb.prototype.remove=function(a,b,c){if(!Eb(a))throw new B(this.remove,0);Fb(this,function(d){Gb(d["delete"](a),b,c)},c)};Bb.prototype.l=y.IDBTransaction&&y.IDBTransaction.READ_WRITE||"readwrite";Bb.prototype.g=function(){var a=this.b.result;a.objectStoreNames.contains("data")||a.createObjectStore("data")};\nfunction Ib(a,b,c){var d;a.b?a.a?(a.a.push(b),c&&a.c.push(c)):a.f?c&&c(a.f):b(a.b.result):(a.b=a.i.open(Jb+a.o,1),a.b.onupgradeneeded=a.g,d=a.b.onerror=function(){clearTimeout(a.j);a.f=this.error;a.c.forEach(function(b){b(a.f)});a.a=a.c=null},a.j=setTimeout(function(){d.call({error:Error("DbOpenTimeoutError")})},500),a.b.onsuccess=function(){clearTimeout(a.j);a.a?(a.a.forEach(function(a){a(this.result)},this),a.a=a.c=null):(a.b=a.f=null,a.a=[],a.c=[])},a.a.push(b),c&&a.c.push(c))}\nfunction Fb(a,b,c){Ib(a,function(c){c=c.transaction(["data"],a.l);b(c.objectStore("data"))},c)}function Gb(a,b,c){b&&(a.onsuccess=function(){b(this.result)});c&&(a.onerror=function(){c(this.error)})}function Eb(a){return ha(a)||Sa(a)}Bb.getInstance=function(){Cb||(Cb=new Bb("STATIC_DB"));return Cb};var Jb="H_";\nBb.isSupported=function(){var a,b,c;if(Db===z)if("file:"===window.location.protocol&&-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&128<=window.location.href.length)Db=!1;else{a=y.indexedDB||y.webkitIndexedDB||y.mozIndexedDB||y.msIndexedDB;c=Jb+"TEST_DB";try{b=a&&a.open(c,1)}catch(d){}Db=!!b&&null===b.onupgradeneeded;b&&a.deleteDatabase&&a.deleteDatabase(c)}return Db};function L(){0!=Kb&&(Lb[this[ka]||(this[ka]=++la)]=this);this.g=this.g;this.c=this.c}var Kb=0,Lb={};L.prototype.g=!1;L.prototype.S=function(){if(!this.g&&(this.g=!0,this.ja(),0!=Kb)){var a=this[ka]||(this[ka]=++la);delete Lb[a]}};L.prototype.f=function(a,b){this.g?a.call(b):(this.c||(this.c=[]),this.c.push(void 0!==b?sa(a,b):a))};L.prototype.ja=function(){if(this.c)for(;this.c.length;)this.c.shift()()};function N(a,b){this.type=a;this.currentTarget=this.target=b;this.a=!1;this.Ea=!0}N.prototype.c=function(){this.a=!0};N.prototype.f=function(){this.Ea=!1};u("H.util.Event",N);N.prototype.c=N.prototype.c;N.prototype.stopPropagation=N.prototype.c;N.prototype.j=1;N.prototype.CAPTURING_PHASE=N.prototype.j;N.prototype.g=2;N.prototype.AT_TARGET=N.prototype.g;N.prototype.i=3;N.prototype.BUBBLING_PHASE=N.prototype.i;N.prototype.l=0;N.prototype.eventPhase=N.prototype.l;function Mb(a,b,c){Mb.W.constructor.call(this,a,c);this.data=b}ua(Mb,N);u("H.util.DataEvent",Mb);function Nb(a,b,c){Nb.W.constructor.call(this,a,c);this.message=b}ua(Nb,N);u("H.util.ErrorEvent",Nb);var P=Math,Ob=P.min,Pb=P.max,jb=P.round,kb=P.floor,lb=P.ceil,Qb=P.abs,Rb=P.log,mb=P.sqrt,nb=P.pow,Sb=P.exp,Tb=P.sin,Ub=P.asin,Vb=P.cos,Wb=P.tan,Xb=P.atan,Yb=P.atan2,Zb=P.LN2,Q=P.PI,$b=Q/2,ac=Q/4,bc=2*Q,cc=3*Q,dc=Q/180,ec=180/Q,fc=1/0;nb(-2,53);function gc(a,b){var c;return 0>(c=a%b)===0>b?c:c+b}u("H.math.normalize",function(a,b,c){b-=c=c||0;a-=c;return a-kb(a/b)*b+c});function kc(a,b,c){return(a-=0)>c?c:a<b?b:a}u("H.math.clamp",kc);\nfunction lc(a,b,c){var d=0;(d-=0)||(d=0);return b<c?a>=b-d&&a<=c+d:a>=c-d&&a<=b+d}function mc(a,b,c,d,e,f){return mb(nb((a-e)*(d-f)-(b-f)*(c-e),2)/(nb(c-e,2)+nb(d-f,2)))}\nfunction nc(a,b,c){for(var d=c.length,e=d,f,g,h,k,l=c[0],n=0,p=0,w=0;1!=n&&1<e;){g=c[--e];f=c[--e];k=c[e?e-1:(d+(e-1))%d];h=c[e?e-2:(d+(e-2))%d];if(f>=a-0&&f<=a+0&&g>=b-0&&g<=b+0||h>=a-0&&h<=a+0&&k>=b-0&&k<=b+0)n=1;else if(!n&&f===a)h===a&&(g<b&&k>b||g>b&&k<b)||(l<=a&&h>a||l>=a&&h<a)&&(g>=b?++p:++w),n=lc(b,g,k)&&0>=mc(a,b,f,g,h,k)?2:0;else if(!n&&lc(a,f,h)){if(f<a&&h>a||f>a&&h<a)l=g+(a-f)/(h-f)*(k-g),p+=l>b,w+=l<b;n=lc(b,g,k)&&0>=mc(a,b,f,g,h,k)?2:0}l=f}!n&&0!==w&&0!==p%2&&(n=3);return n};function oc(a,b,c){this.f=c;this.c=a;this.g=b;this.b=0;this.a=null}oc.prototype.get=function(){var a;0<this.b?(this.b--,a=this.a,this.a=a.next,a.next=null):a=this.c();return a};function pc(a,b){a.g(b);a.b<a.f&&(a.b++,b.next=a.a,a.a=b)};function qc(){this.b=this.a=null}var sc=new oc(function(){return new rc},function(a){a.reset()},100);qc.prototype.add=function(a,b){var c=sc.get();c.set(a,b);this.b?this.b.next=c:this.a=c;this.b=c};qc.prototype.remove=function(){var a=null;this.a&&(a=this.a,this.a=this.a.next,this.a||(this.b=null),a.next=null);return a};function rc(){this.next=this.b=this.a=null}rc.prototype.set=function(a,b){this.a=a;this.b=b;this.next=null};rc.prototype.reset=function(){this.next=this.b=this.a=null};var R;a:{var tc=q.navigator;if(tc){var uc=tc.userAgent;if(uc){R=uc;break a}}R=""};function vc(){return-1!=R.indexOf("Edge")||-1!=R.indexOf("Trident")||-1!=R.indexOf("MSIE")};function wc(){return-1!=R.indexOf("Edge")};function xc(a){q.setTimeout(function(){throw a;},0)}var yc;\nfunction zc(){var a=q.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&-1==R.indexOf("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=sa(function(a){if(("*"==d||a.origin==\nd)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!vc()){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.ya;c.ya=null;a()}};return function(a){d.next={ya:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");\nb.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){q.setTimeout(a,0)}};function Ac(a,b){Bc||Cc();Dc||(Bc(),Dc=!0);Ec.add(a,b)}var Bc;function Cc(){if(q.Promise&&q.Promise.resolve){var a=q.Promise.resolve();Bc=function(){a.then(Fc)}}else Bc=function(){var a=Fc;!r(q.setImmediate)||q.Window&&q.Window.prototype&&q.Window.prototype.setImmediate==q.setImmediate?(yc||(yc=zc()),yc(a)):q.setImmediate(a)}}var Dc=!1,Ec=new qc;function Fc(){for(var a=null;a=Ec.remove();){try{a.a.call(a.b)}catch(b){xc(b)}pc(sc,a)}Dc=!1};function Gc(a,b){this.a=Hc;this.j=void 0;this.f=this.b=this.c=null;this.g=this.i=!1;if(a==Ic)Jc(this,Kc,b);else try{var c=this;a.call(b,function(a){Jc(c,Kc,a)},function(a){Jc(c,Lc,a)})}catch(d){Jc(this,Lc,d)}}var Hc=0,Kc=2,Lc=3;function Mc(){this.next=this.c=this.b=this.f=this.a=null;this.g=!1}Mc.prototype.reset=function(){this.c=this.b=this.f=this.a=null;this.g=!1};var Nc=new oc(function(){return new Mc},function(a){a.reset()},100);function Oc(a,b,c){var d=Nc.get();d.f=a;d.b=b;d.c=c;return d}\nfunction Ic(){}function Pc(a){return new Gc(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},g=function(a){c(a)},h=0,k;k=a[h];h++)Qc(k,ta(f,h),g);else b(e)})}function Rc(){var a,b,c=new Gc(function(c,e){a=c;b=e});return new Sc(c,a,b)}Gc.prototype.then=function(a,b,c){return Tc(this,r(a)?a:null,r(b)?b:null,c)};Gc.prototype.then=Gc.prototype.then;Gc.prototype.$goog_Thenable=!0;function Qc(a,b,c,d){a instanceof Gc?Uc(a,Oc(b||ea,c||null,d)):a.then(b,c,d)}\nGc.prototype.cancel=function(a){this.a==Hc&&Ac(function(){var b=new Vc(a);Wc(this,b)},this)};function Wc(a,b){if(a.a==Hc)if(a.c){var c=a.c;if(c.b){for(var d=0,e=null,f=null,g=c.b;g&&(g.g||(d++,g.a==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(c.a==Hc&&1==d?Wc(c,b):(f?(d=f,d.next==c.f&&(c.f=d),d.next=d.next.next):Xc(c),Yc(c,e,Lc,b)))}a.c=null}else Jc(a,Lc,b)}function Uc(a,b){a.b||a.a!=Kc&&a.a!=Lc||Zc(a);a.f?a.f.next=b:a.b=b;a.f=b}\nfunction Tc(a,b,c,d){var e=Oc(null,null,null);e.a=new Gc(function(a,g){e.f=b?function(c){try{var e=b.call(d,c);a(e)}catch(l){g(l)}}:a;e.b=c?function(b){try{var e=c.call(d,b);void 0===e&&b instanceof Vc?g(b):a(e)}catch(l){g(l)}}:g});e.a.c=a;Uc(a,e);return e.a}Gc.prototype.l=function(a){this.a=Hc;Jc(this,Kc,a)};Gc.prototype.o=function(a){this.a=Hc;Jc(this,Lc,a)};\nfunction Jc(a,b,c){if(a.a==Hc){if(a==c)b=Lc,c=new TypeError("Promise cannot resolve to itself");else{var d;if(c)try{d=!!c.$goog_Thenable}catch(e){d=!1}else d=!1;if(d){a.a=1;Qc(c,a.l,a.o,a);return}if(ia(c))try{var f=c.then;if(r(f)){$c(a,c,f);return}}catch(g){b=Lc,c=g}}a.j=c;a.a=b;a.c=null;Zc(a);b!=Lc||c instanceof Vc||ad(a,c)}}function $c(a,b,c){function d(b){f||(f=!0,a.o(b))}function e(b){f||(f=!0,a.l(b))}a.a=1;var f=!1;try{c.call(b,e,d)}catch(g){d(g)}}function Zc(a){a.i||(a.i=!0,Ac(a.v,a))}\nfunction Xc(a){var b=null;a.b&&(b=a.b,a.b=b.next,b.next=null);a.b||(a.f=null);return b}Gc.prototype.v=function(){for(var a=null;a=Xc(this);)Yc(this,a,this.a,this.j);this.i=!1};function Yc(a,b,c,d){if(c==Lc&&b.b&&!b.g)for(;a&&a.g;a=a.c)a.g=!1;if(b.a)b.a.c=null,bd(b,c,d);else try{b.g?b.f.call(b.c):bd(b,c,d)}catch(e){cd.call(null,e)}pc(Nc,b)}function bd(a,b,c){b==Kc?a.f.call(a.c,c):a.b&&a.b.call(a.c,c)}function ad(a,b){a.g=!0;Ac(function(){a.g&&cd.call(null,b)})}var cd=xc;\nfunction Vc(a){xa.call(this,a)}ua(Vc,xa);Vc.prototype.name="cancel";function Sc(a,b,c){this.la=a;this.resolve=b;this.reject=c};function dd(a,b,c){this.type=a;this.data=b;this.G=Rc();this.resolve=Ea(this.resolve,this);this.reject=Ea(this.reject,this);this.a=ed;c!==z&&(this.a=c);this.Pa().add(this)}var ed=1,fd={bb:0,NORMAL:ed,ab:2};dd.prototype.then=function(a,b,c){return this.G.la.then(a,b,c)};\nwa(dd.prototype,{resolve:function(a){this.state=3;this.G.resolve(a)},reject:function(a){this.state=5;this.G.reject(a)},state:0,cancel:function(){this.G.la.cancel();3>this.state&&(this.Ka(),this.Pa().remove(this),this.state=4)},Ka:fa,Na:fa,Ma:function(a){this.state=this.Na(a)?1:5}});function gd(a){this.O={};for(var b in fd)this.O[fd[b]]=[];this.ma=a;this.ma.addEventListener("allocatable",Ea(this.za,this))}u("H.util.JobManager",gd);var hd=Object.keys(fd).map(function(a){return fd[a]}).sort().reverse();\nwa(gd.prototype,{add:function(a){Na(a,dd,this.add,0);this.O[a.a].push(a);this.za()},contains:function(a){return-1<this.O[a.a].indexOf(a)},remove:function(a){var b=a.a;a=this.O[b].indexOf(a);return-1<a?(this.O[b].splice(a,1),!0):!1},za:function(){hd.forEach(function(a){this.O[a]=this.O[a].filter(function(a){var c,d;if((c=this.ma.cb(a))!==Ja)d=Ea(this.ma.fb,this.ma,c,a),a.then(d,d),a.Ma(c);else return!0},this)},this)}});function id(a,b,c){var d=[];1<arguments.length&&d.push(b);2<arguments.length&&d.push("out of ["+c[0]+"..."+c[1]+"]");this.message=(a?Ta(a):"")+(d.length?" ("+d.join(" ")+")":"");this.stack=Error().stack}u("H.lang.OutOfRangeError",id);id.prototype=Error();id.prototype.name="OutOfRangeError";var jd="closure_listenable_"+(1E6*Math.random()|0),kd=0;function ld(a,b,c,d,e){this.listener=a;this.a=null;this.src=b;this.type=c;this.ga=!!d;this.ka=e;++kd;this.V=this.fa=!1}function md(a){a.V=!0;a.listener=null;a.a=null;a.src=null;a.ka=null};function nd(a){this.src=a;this.a={};this.b=0}nd.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.a[f];a||(a=this.a[f]=[],this.b++);var g=od(a,b,d,e);-1<g?(b=a[g],c||(b.fa=!1)):(b=new ld(b,this.src,f,!!d,e),b.fa=c,a.push(b));return b};nd.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.a))return!1;var e=this.a[a];b=od(e,b,c,d);return-1<b?(md(e[b]),Ca.splice.call(e,b,1),0==e.length&&(delete this.a[a],this.b--),!0):!1};\nfunction pd(a,b){var c=b.type;if(c in a.a){var d=a.a[c],e=Da(d,b),f;(f=0<=e)&&Ca.splice.call(d,e,1);f&&(md(b),0==a.a[c].length&&(delete a.a[c],a.b--))}}function od(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.V&&f.listener==b&&f.ga==!!c&&f.ka==d)return e}return-1};var qd=-1!=R.indexOf("Opera")||-1!=R.indexOf("OPR"),rd=vc(),sd=-1!=R.indexOf("Gecko")&&!(-1!=R.toLowerCase().indexOf("webkit")&&!wc())&&!(-1!=R.indexOf("Trident")||-1!=R.indexOf("MSIE"))&&!wc(),td=-1!=R.toLowerCase().indexOf("webkit")&&!wc();function ud(){var a=R;if(sd)return/rv\\:([^\\);]+)(\\)|;)/.exec(a);if(rd&&wc())return/Edge\\/([\\d\\.]+)/.exec(a);if(rd)return/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(a);if(td)return/WebKit\\/(\\S+)/.exec(a)}\nfunction vd(){var a=q.document;return a?a.documentMode:void 0}var wd=function(){if(qd&&q.opera){var a=q.opera.version;return r(a)?a():a}var a="",b=ud();b&&(a=b?b[1]:"");return rd&&!wc()&&(b=vd(),b>parseFloat(a))?String(b):a}(),xd={};\nfunction yd(a){var b;if(!(b=xd[a])){b=0;for(var c=Aa(String(wd)).split("."),d=Aa(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",k=/(\\d*)(\\D*)/g,l=/(\\d*)(\\D*)/g;do{var n=k.exec(g)||["","",""],p=l.exec(h)||["","",""];if(0==n[0].length&&0==p[0].length)break;b=Ba(0==n[1].length?0:parseInt(n[1],10),0==p[1].length?0:parseInt(p[1],10))||Ba(0==n[2].length,0==p[2].length)||Ba(n[2],p[2])}while(0==b)}b=xd[a]=0<=b}return b}\nvar zd=q.document,Ad=vd(),Bd=!zd||!rd||!Ad&&wc()?void 0:Ad||("CSS1Compat"==zd.compatMode?parseInt(wd,10):5);var Cd;(Cd=!rd)||(Cd=rd&&(wc()||9<=Bd));var Dd=Cd,Ed=rd&&!yd("9");!td||yd("528");sd&&yd("1.9b")||rd&&yd("8")||qd&&yd("9.5")||td&&yd("528");sd&&!yd("8")||rd&&yd("9");function Fd(a){Fd[" "](a);return a}Fd[" "]=ea;function Gd(a,b){N.call(this,a?a.type:"");this.b=this.state=this.currentTarget=this.target=null;if(a){this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var c=a.relatedTarget;if(c&&sd)try{Fd(c.nodeName)}catch(d){}this.state=a.state;this.b=a;a.defaultPrevented&&this.f()}}ua(Gd,N);Gd.prototype.c=function(){Gd.W.c.call(this);this.b.stopPropagation?this.b.stopPropagation():this.b.cancelBubble=!0};\nGd.prototype.f=function(){Gd.W.f.call(this);var a=this.b;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ed)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Hd="closure_lm_"+(1E6*Math.random()|0),Id={},Jd=0;function Kd(a,b,c,d,e){if("array"==ga(b))for(var f=0;f<b.length;f++)Kd(a,b[f],c,d,e);else if(c=Ld(c),a&&a[jd])a.M.add(String(b),c,!1,d,e);else{if(!b)throw Error("Invalid event type");var f=!!d,g=Md(a);g||(a[Hd]=g=new nd(a));c=g.add(b,c,!1,d,e);c.a||(d=Nd(),c.a=d,d.src=a,d.listener=c,a.addEventListener?a.addEventListener(b.toString(),d,f):a.attachEvent(Od(b.toString()),d),Jd++)}}\nfunction Nd(){var a=Pd,b=Dd?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function Qd(a,b,c,d,e){if("array"==ga(b))for(var f=0;f<b.length;f++)Qd(a,b[f],c,d,e);else(c=Ld(c),a&&a[jd])?a.M.remove(String(b),c,d,e):a&&(a=Md(a))&&(b=a.a[b.toString()],a=-1,b&&(a=od(b,c,!!d,e)),(c=-1<a?b[a]:null)&&Rd(c))}\nfunction Rd(a){if("number"!=typeof a&&a&&!a.V){var b=a.src;if(b&&b[jd])pd(b.M,a);else{var c=a.type,d=a.a;b.removeEventListener?b.removeEventListener(c,d,a.ga):b.detachEvent&&b.detachEvent(Od(c),d);Jd--;(c=Md(b))?(pd(c,a),0==c.b&&(c.src=null,b[Hd]=null)):md(a)}}}function Od(a){return a in Id?Id[a]:Id[a]="on"+a}function Sd(a,b,c,d){var e=!0;if(a=Md(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.ga==c&&!f.V&&(f=Td(f,d),e=e&&!1!==f)}return e}\nfunction Td(a,b){var c=a.listener,d=a.ka||a.src;a.fa&&Rd(a);return c.call(d,b)}\nfunction Pd(a,b){if(a.V)return!0;if(!Dd){var c;if(!(c=b))a:{c=["window","event"];for(var d=q,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new Gd(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,h=e.length-1;!c.a&&0<=h;h--){c.currentTarget=e[h];var k=Sd(e[h],f,!0,c),d=d&&k}for(h=0;!c.a&&h<e.length;h++)c.currentTarget=\ne[h],k=Sd(e[h],f,!1,c),d=d&&k}return d}return Td(a,new Gd(b,this))}function Md(a){a=a[Hd];return a instanceof nd?a:null}var Ud="__closure_events_fn_"+(1E9*Math.random()>>>0);function Ld(a){if(r(a))return a;a[Ud]||(a[Ud]=function(b){return a.handleEvent(b)});return a[Ud]};function S(){L.call(this);this.M=new nd(this);this.j=this;this.i=null}ua(S,L);S.prototype[jd]=!0;m=S.prototype;m.N=function(){return this.i};m.sa=function(a){this.i=a};m.addEventListener=function(a,b,c,d){Kd(this,a,b,c,d)};m.removeEventListener=function(a,b,c,d){Qd(this,a,b,c,d)};\nm.X=function(a){var b,c=this.N();if(c)for(b=[];c;c=c.N())b.push(c);var c=this.j,d=a.type||a;if(ha(a))a=new N(a,c);else if(a instanceof N)a.target=a.target||c;else{var e=a;a=new N(d,c);wa(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.a&&0<=g;g--)f=a.currentTarget=b[g],e=f.T(d,!0,a)&&e;a.a||(f=a.currentTarget=c,e=f.T(d,!0,a)&&e,a.a||(e=f.T(d,!1,a)&&e));if(b)for(g=0;!a.a&&g<b.length;g++)f=a.currentTarget=b[g],e=f.T(d,!1,a)&&e;return e};\nm.ja=function(){S.W.ja.call(this);if(this.M){var a=this.M,b=0,c;for(c in a.a){for(var d=a.a[c],e=0;e<d.length;e++)++b,md(d[e]);delete a.a[c];a.b--}}this.i=null};m.T=function(a,b,c){a=this.M.a[String(a)];if(!a)return!0;a=a.concat();for(var d=!0,e=0;e<a.length;++e){var f=a[e];if(f&&!f.V&&f.ga==b){var g=f.listener,h=f.ka||f.src;f.fa&&pd(this.M,f);d=!1!==g.call(h,c)&&d}}return d&&0!=c.Ea};u("H.util.EventTarget",S);S.prototype.sa=S.prototype.sa;S.prototype.setParentEventTarget=S.prototype.sa;S.prototype.N=S.prototype.N;S.prototype.getParentEventTarget=S.prototype.N;S.prototype.addEventListener=S.prototype.addEventListener;S.prototype.addEventListener=S.prototype.addEventListener;S.prototype.removeEventListener=S.prototype.removeEventListener;S.prototype.removeEventListener=S.prototype.removeEventListener;S.prototype.X=S.prototype.X;S.prototype.dispatchEvent=S.prototype.X;\nS.prototype.S=S.prototype.S;S.prototype.dispose=S.prototype.S;S.prototype.f=S.prototype.f;S.prototype.addOnDisposeCallback=S.prototype.f;S.prototype.l=S.prototype.T;S.prototype.T=function(a,b,c){var d,e,f,g=!0;d=c[c.currentTarget===c.target?"AT_TARGET":b?"CAPTURING_PHASE":(e=!0,"BUBBLING_PHASE")];if(!e||"pointerenter"!==(f=c.type)&&"pointerleave"!==f)c.eventPhase=d,g=S.prototype.l.apply(this,arguments),e&&this.N&&null===this.N()&&delete c.eventPhase;return g};function T(a){a=a||{};var b=a.callback;this.b=a.label;r(b)&&(this.callback=b);this.a=!!a.disabled;T.W.constructor.call(this)}ua(T,S);u("H.util.ContextItem",T);T.prototype.o=function(){return this.b};T.prototype.getLabel=T.prototype.o;T.prototype.C=function(a){this.b!==a&&(this.b=a,this.X("update"));return this};T.prototype.setLabel=T.prototype.C;T.prototype.v=function(){return this.a};T.prototype.isDisabled=T.prototype.v;T.prototype.B=function(a){a^this.a&&(this.a=a,this.X("update"));return this};\nT.prototype.setDisabled=T.prototype.B;var Vd=new T;T.SEPARATOR=Vd;function Wd(){if(y.document){var a=document.createElement("canvas");a.width=a.height=1;a.getContext("2d")}}u("H.util.eval",function(a){return eval(a)});u("H.util.provide",function(a){aa(a,void 0)});function Xd(){this.F=0}Xd.prototype.next=function(a){if(4294967295===this.F)throw new id(a,this.F,[0,4294967295]);return this.F++};var Yd=new Xd;Ea(Yd.next,Yd);function Hb(){}var ib=Ha([]);Wd();Wd();var ae={undefined:"GL",GL:"GL",OL:"OL",SL:"SL",SB:"SB",WE:"WE",WG:"WG"};u("H.geo.AltitudeContext",ae);function be(a,b,c){var d=kc(+a,-90,90);if(b&&Ra(d))throw new B(b,c,a);return d}function de(a,b,c){var d=+a;if(-180>d||180<d)d=gc(d+180,360)-180;if(b&&Ra(d))throw new B(b,c,a);return d}function ee(a,b,c){var d;if(a!==z&&Ra(d=+a)&&b)throw new B(b,c,a);return d}function fe(a,b,c){var d=!ae[a];if(b&&d)throw new B(b,c,a);return!d}u("H.geo.isDBC",function(a,b){return 0!==(0>a^0>b)&&180<Qb(b-a)});function ge(){var a=ge;if(!0===(Na(this,a)&&this.constructor===a))throw new TypeError("Illegal constructor "+Ta(a));}u("H.geo.AbstractGeometry",ge);ge.prototype.getBounds=ge.prototype.B;ge.prototype.equals=ge.prototype.j;ge.prototype.toString=function(){return this.da([this.ea," "]).join("")};ge.prototype.toString=ge.prototype.toString;function U(a,b,c,d){this.lat=be(a,U,0);this.lng=de(b,U,1);c!==z&&(this.alt=ee(c,U,2));d!==z&&fe(d,U,3)&&(this.ctx=d)}ua(U,ge);u("H.geo.Point",U);U.prototype.j=function(a){return this===a||!!a&&this.lat===a.lat&&this.lng===a.lng&&ae[this.ctx]===ae[a.ctx]&&(this.alt||0)===(a.alt||0)};U.prototype.equals=U.prototype.j;\nU.prototype.a=function(a){var b,c;this===a||this.lat===a.lat&&this.lng===a.lng?a=0:(b=this.lat*dc,c=a.lat*dc,a=1.274200158E7*Ub(Ob(1,mb(nb(Tb((b-c)/2),2)+Vb(b)*Vb(c)*nb(Tb((this.lng*dc-a.lng*dc)/2),2)))));return a};U.prototype.distance=U.prototype.a;\nU.prototype.b=function(a,b,c){var d,e,f,g,h,k;if(c){if(b/=6371000.79){a*=dc;d=dc*this.lat;f=Tb(d);g=Tb(b);h=Vb(b);e=dc*this.lng;var l=Vb(d);d=Ub(l*Vb(a)*g+f*h);a=Yb(Tb(a)*l*g,h-f*Tb(d));l=((e+a+Q)%(2*Q)-Q)*ec}return b?new U(d*ec,(l+540)%360-180):this}a=(a%360+360)%360;if(0===(a+90)%180)return d=this.lng+b/(6371000.79*bc*Vb(this.lat*dc))*(270===a?-360:360),new U(this.lat,(d+540)%360-180);if(b/=6371000.79)a*=dc,e=this.lat*dc,f=this.lng*dc,g=e+b*Vb(a),h=g-e,d=Rb(Wb(g/2+ac)/Wb(e/2+ac)),d=Ra(h/d)?Vb(e):\nh/d,k=b*Tb(a)/d,Qb(g)>$b&&(g=0<g?Q-g:-(Q+g));return b?new U(g*ec,((f+k+cc+(Qb(e+h)>$b?Q:0))%bc-Q)*ec):this};U.prototype.walk=U.prototype.b;U.prototype.B=function(){return new V(this.lat,this.lng,this.lat,this.lng)};U.prototype.getBounds=U.prototype.B;function he(a,b,c){var d=!!a&&!(Ra(a.lat=be(a.lat))||Ra(a.lng=de(a.lng))||a.alt!==z&&Ra(a.alt=ee(a.alt))||a.ctx!==z&&!fe(a.ctx));if(!d&&b)throw new B(b,c,a);return d}U.validate=he;\nfunction ie(a){if(!a)throw new B(ie,0,a);return new U(a.lat,a.lng,a.alt,a.ctx)}U.fromIPoint=ie;U.prototype.ea="POINT";U.prototype.da=function(a){a.push("(",this.lng," ",this.lat,")");return a};function je(){}je.prototype.U=function(){};u("H.geo.IProjection.prototype.latLngToPoint",je.prototype.U);je.prototype.L=function(){};u("H.geo.IProjection.prototype.xyToGeo",je.prototype.L);je.prototype.b=function(){};u("H.geo.IProjection.prototype.pointToGeo",je.prototype.b);je.prototype.a=function(){};u("H.geo.IProjection.prototype.geoToPoint",je.prototype.a);var W={};u("H.geo.mercator",W);W.c=function(a){return Ob(1,Pb(0,.5-Rb(Wb(ac+$b*a/180))/Q/2))};W.f=function(a){return a/360+.5};W.U=function(a,b,c){c?(c.x=W.f(b),c.y=W.c(a)):c=new J(W.f(b),W.c(a));return c};W.latLngToPoint=W.U;W.a=function(a,b){return W.U(a.lat,a.lng,b)};W.geoToPoint=W.a;W.i=function(a){return 0>=a?90:1<=a?-90:ec*(2*Xb(Sb(Q*(1-2*a)))-$b)};W.g=function(a,b){return b?0>=a?-180:1<=a?180:360*gc(a,1)-180:360*(1===a?1:gc(a,1))-180};\nW.L=function(a,b,c,d){c?(c.lat=W.i(b),c.lng=W.g(a,d)):c=new U(W.i(b),W.g(a,d));return c};W.xyToGeo=W.L;W.b=function(a,b,c){return W.L(a.x,a.y,b,c)};W.pointToGeo=W.b;function X(a,b){this.projection=a||W;this.i=0;this.b=this.exp=Rb(b||256)/Zb;ke(this);this.y=this.x=0}u("H.geo.PixelProjection",X);var le=Qb(28)+Qb(-8);X.prototype.a=function(a){if(Ra(a))throw new B(this.a,0,a);var b=this.x/this.w,c=this.y/this.h;this.i=a;this.b=this.exp+a;ke(this);this.x=b*this.w;this.y=c*this.h};X.prototype.rescale=X.prototype.a;function ke(a){a.b>le&&(a.b=le);a.w=nb(2,a.b);a.h=nb(2,a.b)}X.prototype.g=function(){return this.i||0};X.prototype.getZoomScale=X.prototype.g;\nX.prototype.j=function(a,b){var c=this.projection.U(a.lat,a.lng,b);c.x=c.x*this.w-this.x;c.y=c.y*this.h-this.y;return c};X.prototype.geoToPixel=X.prototype.j;X.prototype.f=function(a,b,c){return this.projection.L((a.x+this.x)/this.w,(a.y+this.y)/this.h,b,c)};X.prototype.pixelToGeo=X.prototype.f;X.prototype.L=function(a,b,c,d){return this.projection.L((a+this.x)/this.w,(b+this.y)/this.h,c,d)};X.prototype.xyToGeo=X.prototype.L;\nX.prototype.c=function(a,b,c){a=this.projection.U(a,b,c);a.x=a.x*this.w-this.x;a.y=a.y*this.h-this.y;return a};X.prototype.latLngToPixel=X.prototype.c;X.prototype.l=function(a){return new J(a.x*this.w-this.x,a.y*this.h-this.y)};X.prototype.pointToPixel=X.prototype.l;u("H.util.Disposable",L);L.prototype.f=L.prototype.f;L.prototype.addOnDisposeCallback=L.prototype.f;u("H.util.dispose",function(a){a&&"function"==typeof a.S&&a.S()});function me(a,b,c,d){this.key="";this.x=a;this.y=b;this.a=c;this.Y=d;this.G=Rc()}me.prototype.then=function(a,b,c){return this.G.la.then(a,b,c)};me.prototype.resolve=function(a){this.G.resolve(a)};me.prototype.reject=function(a){this.G.reject(a)};me.prototype.cancel=function(){this.G.la.cancel()};function Z(a,b,c,d,e,f){if(a&&b)this.P(a),this.l(b),this.o(c),this.C(e),this.B(f),this.v(d);else throw Error(\'Parameters "scheme" and "host" must be specified\');}u("H.service.Url",Z);\nfunction ne(a,b){var c=a,d=y.document,e,f,g,h,k=d&&d.createElement("a"),l="";d?(b&&(f=(e=d.getElementsByTagName("base")[0])&&e.href,g=d.head,h=e||g.appendChild(d.createElement("base")),h.href=b),k.href=c,l=k.href,b&&(e?e.href=f:g.removeChild(h))):/[\\w]+:\\/\\//.test(c)&&(l=c);g=/(?:(\\w+):\\/\\/)?(?:([^:]+):([^@/]*)@)?([^/:]+)?(?:[:]{1}([0-9]+))?(\\/[^?#]*)?(\\?[^#]+)?(#.*)?/.exec(l);c=g[1];k=g[4];d=g[5];h=g[6];e=g[7];f=g[8];!g[2]&&k&&/@/.test(k)&&(k=k.split("@")[1]);g=k;h=h&&0<h.length?h.substr(1):"";var k=\n{},n;if(e)for(l=/([?&]?([^=&+]+))(=([^&]+))?/g;n=l.exec(e);)k[decodeURIComponent(n[2])]=n[4]?decodeURIComponent(n[4]):void 0;return new Z(c,g,h,k,isNaN(+d)?void 0:+d,f&&0<f.length?f.substr(1):"")}Z.parse=ne;var oe=0;Z.prototype.clone=function(){oe++;var a={},b;for(b in this.a)a[b]=this.a[b];return new Z(this.j,this.g,this.b,a,this.i,this.c)};Z.prototype.clone=Z.prototype.clone;\nZ.prototype.P=function(a){if(!a||"string"!==typeof a)throw Error(\'The "scheme" parameter must be a non-empty string.\');this.j=a;return this};Z.prototype.setScheme=Z.prototype.P;Z.prototype.oa=function(){return this.j};Z.prototype.getScheme=Z.prototype.oa;Z.prototype.l=function(a){if(!a||"string"!==typeof a||"-"===a.charAt(0)||"."===a.charAt(0)||"."===a.charAt(a.length-1))throw Error(\'The "host" parameter is not a valid host name.\');this.g=a;return this};Z.prototype.setHost=Z.prototype.l;\nZ.prototype.ba=function(){return this.g};Z.prototype.getHost=Z.prototype.ba;Z.prototype.o=function(a){this.b=a||void 0;return this};Z.prototype.setPath=Z.prototype.o;Z.prototype.ca=function(){return this.b};Z.prototype.getPath=Z.prototype.ca;Z.prototype.v=function(a){if(a)if("object"==typeof a)this.a=a;else throw Error(\'Parameter "params" must be an object.\');else this.a={};return this};Z.prototype.setQuery=Z.prototype.v;Z.prototype.pa=function(){return!pe(this)};Z.prototype.hasQuery=Z.prototype.pa;\nZ.prototype.ea=function(){return this.a};Z.prototype.getQuery=Z.prototype.ea;Z.prototype.C=function(a){if(a&&isNaN(parseInt(a,10)))throw Error(\'Parameter "port" must be a number or undefined\');this.i=+a||void 0;return this};Z.prototype.setPort=Z.prototype.C;Z.prototype.da=function(){return this.i};Z.prototype.getPort=Z.prototype.da;Z.prototype.B=function(a){this.c=a||void 0;return this};Z.prototype.setAnchor=Z.prototype.B;Z.prototype.aa=function(){return this.c};Z.prototype.getAnchor=Z.prototype.aa;\nZ.prototype.f=function(a){if("object"!==typeof a)throw Error(\'Parameter "other" must be an object.\');var b=this.a,c;for(c in a)a.hasOwnProperty(c)&&"function"!==typeof a[c]&&(b[c]=a[c]);return this};Z.prototype.mergeQuery=Z.prototype.f;Z.prototype.Z=function(a){if(!a||"string"!==typeof a)throw Error(\'Parameter "subDomain" must be a non-empty string\');"."===a.substr(a.length-1)&&(a=a.substr(0,a.length-1));return this.l(a+"."+this.g)};Z.prototype.addSubDomain=Z.prototype.Z;\nZ.prototype.$=function(a){if(!a||"string"!==typeof a)throw Error(\'Parameter "subPath" must be a non-empty string\');return this.o((this.b?this.b+"/":"")+a)};Z.prototype.addSubPath=Z.prototype.$;Z.prototype.toString=function(){return[this.j+"://",this.g,this.i?":"+this.i:"",this.b||!pe(this)||this.c?"/":"",this.b?encodeURI(this.b):"",qe(this),this.c?"#"+encodeURIComponent(this.c):""].join("")};Z.prototype.toString=Z.prototype.toString;\nfunction qe(a){var b=[],c,d=a.a,e;for(c in d)d.hasOwnProperty(c)&&"function"!==typeof d[c]&&(e=a.a[c],b.push(encodeURIComponent(c)+(void 0===e?"":"="+encodeURIComponent(e))));return 0<b.length?"?"+b.join("&"):""}function pe(a){var b,c=0;for(b in a.a)if(a.a.hasOwnProperty(b)&&"function"!==typeof a.a[b]&&(c++,0<c))break;return!c};var re={};function se(a){try{importScripts.apply(self,arguments)}catch(b){this.postError("invalid_script")}}function te(a){re[a]=null;this.postMessage(a)}function ue(a,b,c){var d;if(r(b))d=b;else try{d=self.eval("("+b+")"),r(d)||(d=null)}catch(e){}d?(re[a]=d,c||this.postMessage(a)):this.postError("invalid_processor")}function ve(a){this.b=a&&a[0];this.a=a&&a[1];this.c=a&&a[2]||[]}ve.prototype.postError=function(a){this.postMessage(a,z,0)};\nve.prototype.postMessage=function(a,b,c){self.postMessage({processor:this.b,taskId:this.a,type:c===z?1:c,data:a},b||z)};function we(a,b,c){var d;if(!ha(a))throw new B(we,0,"InvalidArgument");if(!r(b))throw new B(we,1,"InvalidArgument");d=xe++;ye[d]={b:c||ze,a:b};(new ve(["3",d,[]])).postMessage(a,[],2)}var ye={},xe=0;\nfunction Ae(a,b){var c,d,e=a;if(ye[this.a])if(d=ye[this.a],c=d.a,delete ye[this.a],b)c(null,b);else{if(d.b===Be){d=new Uint8Array(a);for(var e=d.byteLength,f="",g=0,h,k,l,n;g<e;)h=d[g++],192>h||(k=d[g++],224>h?h=(h&31)<<6|k&63:(l=d[g++],240>h?h=(h&15)<<12|(k&63)<<6|l&63:(n=d[g++],h=(h&7)<<18|(k&63)<<12|(l&63)<<6|n&63))),65536>h?f+=String.fromCharCode(h):(h-=65536,f+=String.fromCharCode((h>>10)+55296,(h&1023)+56320));e=f}c(e)}}var ze=0,Be=1;function V(a,b,c,d){Ce(this,be(a,V,0),de(b,V,1),be(c,V,2),de(d,V,3))}ua(V,ge);u("H.geo.Rect",V);V.prototype.ea="POLYGON";V.prototype.da=function(a){var b=this.A,c=this.m,d=this.u,e=this.s;a.push("(",c," ",b,",",e," ",b,",",e," ",d,",",c," ",d,",",c," ",b,")");return a};V.prototype.j=function(a){return this===a||!!a&&this.A===a.A&&this.m===a.m&&this.u===a.u&&this.s===a.s};V.prototype.equals=V.prototype.j;V.prototype.clone=function(){return new V(this.A,this.m,this.u,this.s)};\nV.prototype.clone=V.prototype.clone;function Ce(a,b,c,d,e){a.m=c;a.s=e;b<d&&(c=b,b=d,d=c);a.A=b;a.u=d;a.C=a.o=a.v=null;return a}V.prototype.$=function(){this.C||(this.C=new U(this.A,this.m));return this.C};V.prototype.getTopLeft=V.prototype.$;V.prototype.Z=function(){this.o||(this.o=new U(this.u,this.s));return this.o};V.prototype.getBottomRight=V.prototype.Z;V.prototype.Ga=function(){return this.A};V.prototype.getTop=V.prototype.Ga;V.prototype.oa=function(){return this.u};V.prototype.getBottom=V.prototype.oa;\nV.prototype.pa=function(){return this.m};V.prototype.getLeft=V.prototype.pa;V.prototype.Fa=function(){return this.s};V.prototype.getRight=V.prototype.Fa;V.prototype.f=function(){this.v||(this.v=new U(this.u+(this.A-this.u)/2,De(this.m,this.a())));return this.v};V.prototype.getCenter=V.prototype.f;V.prototype.a=function(){return Ee(this.m,this.s)};V.prototype.getWidth=V.prototype.a;V.prototype.c=function(){return this.A-this.u};V.prototype.getHeight=V.prototype.c;\nV.prototype.Ha=function(){return this.m>this.s};V.prototype.isCDB=V.prototype.Ha;V.prototype.Ia=function(){return!this.a()&&!this.c()};V.prototype.isEmpty=V.prototype.Ia;V.prototype.B=function(){return new V(this.A,this.m,this.u,this.s)};V.prototype.i=function(a,b,c){var d=this.f();c||(a=be(a,this.i,0),b=de(b,this.i,1));b=this.b(a,b,c);a=b.f();return a.lat===d.lat&&a.lng===d.lng&&this.c()===b.c()&&this.a()===b.a()};V.prototype.containsLatLng=V.prototype.i;\nV.prototype.ha=function(a,b){b||he(a,this.ha,0);return this.i(a.lat,a.lng,b)};V.prototype.containsPoint=V.prototype.ha;V.prototype.P=function(a,b){var c=this.f(),d,e;if(!b&&!Na(a,V))throw new B(this.P,0,a);e=this.l(a,b);d=e.f();return d.lat===c.lat&&d.lng===c.lng&&this.c()===e.c()&&this.a()===e.a()};V.prototype.containsRect=V.prototype.P;\nV.prototype.b=function(a,b,c,d){if(!c){if(Ra(a=be(a)))throw new B(this.b,0,a);if(Ra(b=de(b)))throw new B(this.b,1,b);}return Fe(this.A,this.m,this.u,this.s,a,b,a,b,d)};V.prototype.mergeLatLng=V.prototype.b;V.prototype.ba=function(a,b,c){b||he(a,this.ba,0);return this.b(a.lat,a.lng,b,c)};V.prototype.mergePoint=V.prototype.ba;V.prototype.l=function(a,b,c){if(!b&&!Na(a,V))throw new B(this.l,0,a);return Fe(this.A,this.m,this.u,this.s,a.A,a.m,a.u,a.s,c)};V.prototype.mergeRect=V.prototype.l;\nV.prototype.g=function(a,b,c,d,e,f){e||(a=be(a,this.g,0),b=de(b,this.g,1),c=be(c,this.g,2),d=de(d,this.g,3));return Fe(this.A,this.m,this.u,this.s,a,b,c,d,f)};V.prototype.mergeTopLeftBottomRight=V.prototype.g;V.prototype.aa=function(a,b){if(!b&&!Na(a,V))throw new B(this.aa,0,a);var c=this.m<=this.s,d=a.m<=a.s,e=this.m<a.s,f=a.m<this.s;return this.u<=a.A&&a.u<=this.A&&(!c&&(!d||e||f)||!d&&(e||f)||e&&f)};V.prototype.intersects=V.prototype.aa;function Ee(a,b){var c=b-a;return c+(0>c?360:0)}\nfunction De(a,b){var c=a+b/2;return c-(180<c?360:0)}function Fe(a,b,c,d,e,f,g,h,k){var l,n,p;c=Ob(c,g);a=Pb(a,e);e=Ee(b,d);l=De(b,e);g=Ee(f,h);p=De(f,g)-l;p+=0>p-1E-6?360:0;180>p-1E-6?(l=b,n=h):(p=360-p,l=f,n=d);p=p+e/2+g/2;360<=p+5E-7?(l=-180,n=180):p-5E-7<e?(l=b,n=d):p-5E-7<g&&(l=f,n=h);return k?Ce(k,a,l,c,n):new V(a,l,c,n)}V.merge=Fe;function Ge(a,b,c){c||(he(a,Ge,0),he(b,Ge,1));return new V(a.lat,a.lng,b.lat,b.lng)}V.fromPoints=Ge;\nfunction He(a,b){var c=ga(a);if("array"!=c&&("object"!=c||"number"!=typeof a.length))throw new B(He,0,a);var c=1,d=a.length,e,f=null;if(0<d)for(e=a[0],f=Ge(e,e,b);c<d;c++)e=a[c],f.b(e.lat,e.lng,b,f);return f}V.coverPoints=He;function Ie(a,b){if(!(b||a&&null!=a.length))throw new B(Ie,0,a);var c=3,d=a.length,e;if(0<d)for(e=new V(a[0],a[1],a[0],a[1]);c<d;c+=3)e.b(a[c],a[c+1],b,e);return e}V.coverLatLngAlts=Ie;\nfunction Je(a,b){if(b&&(!a||null==a.length))throw new B(Je,0,a);var c=1,d=a.length,e;if(0<d)for(e=new V(a[0].A,a[0].m,a[0].u,a[0].s);c<d;c++)e.l(a[c],b,e);return e}V.coverRects=Je;V.prototype.ca=function(a,b){he(a,this.ca,0);var c=this.m,d=this.A,e=this.s,f=this.u,g=this.f().lng,h=a.lat-f-(d-f)/2,k=a.lng-g,k=180<k||-180>k?-(g+a.lng):k,c=c+(0>k?2*k:0),c=-180>c?360+c:c,e=e+(0<k?2*k:0),e=180<e?e-360:e,d=0<h?d+2*h:d;90<=d&&(d=90);f=0>h?f+2*h:f;-90>=f&&(f=-90);return b?Ce(b,d,c,f,e):new V(d,c,f,e)};\nV.prototype.resizeToCenter=V.prototype.ca;function Ke(a,b,c,d){var e=!!c,f,g,h=0,k=0,l=0,n=0,p=0,w,G,D,I=-1;f=y.Float32Array;var M,x=[];if(b){b=Ka(b);a=Ka(a);e&&(g=Ka(c));c=b.length;d=d?1E-7:1E-5;for(M=new f(3*c);h<c;)f=b[h],G=+f,w=+a[h],e&&(D=+g[h]),Le.test(f)?0<=I&&(0<h-I&&x.push(I,h+1),I=-1):0>I&&(I=h),h++,n=M[k++]=n+w*d,l=M[k++]=l+G*d,e&&(p=M[k]=p+D),k++;0<=I&&1<c-I&&x.push(I,c)}else M=new f(0);return{path:M,outlineIndices:x}}var Le=/^-?0\\d/;\nfunction Me(a,b){for(var c=0,d=a.length/3,e=new y.Array(d),f=0;c<d;)e[c++]=b.c(a[f],a[++f]),f+=2;return e};function Ne(a,b){var c=180/(1<<b),d=a.lat+90,e=(a.lng+180)%360,f=0;180==d&&f--;f+=Math.floor(d/c);c=0+Math.floor(e/c);return[f,c]}var Oe=1/Math.pow(10,10);function Pe(a,b){var c=[],d=a.$(),e=a.Z(),f,g;180==e.lng&&(e.lng-=Oe);d=Ne(d,b);e=Ne(e,b);for(g=d[0];g>=e[0];g--)for(f=d[1];f<=e[1];f++)c.push(g,f);return c};function Qe(a,b){this.b={};this.v=ne(a.serverUrl);this.l=b;this.C=a.layerConfigs||[];this.o=a.projected;this.a=a.tileSize||256;this.B=!1!==a.batchTiles;this.P=a.onlyOutline;this.j=new X(Ja,this.a);this.i=new X(Ja,this.a);this.i.a(22-Math.log(this.a)/Math.LN2+8)}ua(Qe,L);m=Qe.prototype;m.Wa=function(a,b,c){var d,e;d={x:a*this.a,y:b*this.a};e={x:a*this.a+(this.a-1),y:b*this.a+(this.a-1)};this.j.a(c);d=this.j.f(d);e=this.j.f(e);d=new V(d.lat,d.lng,e.lat,e.lng);return Re(this,d,this.C,{x:a,y:b,z:c})};\nm.Va=function(a,b,c,d,e){return Re(this,new V(a,b,c,d),e)};\nfunction Re(a,b,c,d){var e=d||{};c=Se(c);var f=Te(c),g,h=[],k=[],l,n,p={},w,G,D;for(G=0;G<c.length;G++)for(l=c[G].layerId,n=c[G].level,p[l]=c[G].columns,g=Pe(b,n),D=0;D<g.length-1;D+=2)d=[l,g[D+1],g[D],n].join("_"),w=a.b[d]||a.l.get(d),w||(w=new me(g[D+1],g[D],n,l),w.key=d,a.b[d]=w,k.push(w)),h.push(w);k.length&&(a.B?Ue(a,k):Ve(a,k));return Pc(h.map(function(a){return a.then(Ea(this.Oa,this,a.Y,f)).then(Ea(this.Ua,this,a,e)).then(Ea(this.Ya,this,p[a.Y]))},a))}\nm.Oa=function(a,b,c){var d=c.Rows,e=d.length,f,g,h,k;if(e&&(f=b[a])){b=new F(c.Rows);g=[];for(h=0;h<e;h++)k=d[h],f(b.c(h),a)&&g.push(k);a={Rows:g};if(c=c.Meta)a.Meta=c}else a=c;return a};function Ve(a,b){function c(b,c,d){d?(delete a.b[b.key],b.reject(d)):We(a,b,c)}var d,e,f;for(d=0;d<b.length;d++)f=b[d],e=a.v.clone().f({tilex:f.x}).f({tiley:f.y}).f({level:f.a}).f({layer:f.Y}),new we(e.toString(),Ea(c,null,f),Be)}function Ue(a,b){var c=b.length,d,e;for(d=0;d<c;d+=15)e=b.slice(d,d+15),Xe(a,e)}\nfunction Xe(a,b){var c=a.v.clone(),d=[],e=[],f=[],g=c.a;b.length&&(b.forEach(function(a){d.push(a.x,a.y);e.push(a.a);f.push(a.Y)}),g.tilexy=d.join(","),g.layers=f.join(","),g.levels=e.join(","),c.v(g),new we(c.toString(),function(c,d){d?b.forEach(function(b){delete a.b[b.key];b.reject("error")}):We(a,b,c)},Be))}\nfunction We(a,b,c){var d,e,f,g;if(Pa(b,void 0,void 0,void 0))for(e=c.indexOf("[")+1,g=0;g<b.length;g++)f=c.indexOf("]},{",e+3)+2,f<e&&(f=c.lastIndexOf("]}")),d=c.substr(e,f-e),e=f+1,Ye(a,b[g],d);else Ye(a,b,c)}function Ye(a,b,c){var d=0;try{d=c.length,delete a.b[b.key],a.l.add(b.key,b,2*d),b.resolve(JSON.parse(c))}catch(e){b.reject(e.message)}}function Te(a){var b={},c,d,e;for(e=0;e<a.length;e++)c=a[e],c.rowFilter&&(d=c.layerId,d=d!==z?d:c.layer,b[d]=Ea(c.rowFilter,c.rowFilterContext));return b}\nm.Ua=function(a,b,c){var d,e,f,g=!1,h,k,l=[],n=[],p=[];a=/^ADAS/.test(a.Y);for(var w=this.P,G=a?"HPY":"LAT",D=a?"HPX":"LON",I=a?"HPZ":"ZLEVEL",M,x,na,ya=0,Zd=c.Rows,ja,oa,gf=Zd.length,$d=this.i;ya<gf;ya++){x=Zd[ya];if(x[G]&&x[D]&&(f=Ke(x[G],x[D],x[I],a),x.geometry=f,delete x[G],delete x[D],delete x[I],x.INNER_LON)){x.INNER_LAT=x.INNER_LAT.split(";");x.INNER_LON=x.INNER_LON.split(";");M=[];na=x.INNER_LON.length;for(f=0;f<na;f++)M.push(Ke(x.INNER_LAT[f],x.INNER_LON[f],"",a));x.interiors=M;delete x.INNER_LAT;\ndelete x.INNER_LON}if(this.o){ja=x.$$projected$$;if(!ja){f=x.geometry;na=(M=x.interiors)?M.length:0;h=Me(f.path,$d);oa=[h];x.$$projected$$=ja={Ta:oa};oa.length+=na;g|=Ze(oa,h,f.outlineIndices);if(na)for(ja.Qa=1,f=0;f<na;f++)x=M[f],h=Me(x.path,$d),oa[1+f]=h,g|=Ze(oa,h,x.outlineIndices);g&&(ja.va=1+na)}if(ja){h=[];oa=ja.Ta;M=na=x=oa.length;for(f=w?ja.va:0;f<x;f++){k=oa[f];var ba=f>=ja.va,ca=void 0,da=void 0,A=void 0,t=void 0,K=e=d=e=void 0,K=void 0,La=[],t=K=A=void 0,K=[],A=void 0,t=0,pa=this.i.g()-\nb.z,ca=(b.x<<pa)*this.a,da=(b.y<<pa)*this.a,K=50<<pa;e=this.a<<pa;if(1===k.length)K=[ca,da,ca+e,da,ca+e,da+e,ca,da+e],nc(k[0].x,k[0].y,K)&&(K=new Int32Array(2),K[0]=k[0].x-ca>>pa,K[1]=k[0].y-da>>pa,La.push(K));else if(A=da-K,t=ca+e+K,e=da+e+K,d=ca-K,K=[new J(d,A),new J(t,A),new J(t,e),new J(d,e),new J(d,A)],ba)for(K=pb([k],d,A,t,e,!1),A=K.length,t=0;t<A;t+=1)La.push($e(K[t],2*K[t].length,ca,da,pa,!0));else if(af(K,k))La.push($e(K,2*K.length,ca,da,pa,!0));else{var A=k,ba=zb(K),A=zb(A),O=void 0,Y=void 0,\nra=void 0,za=void 0,hc=void 0,ic=void 0,ce=ra=t=void 0;d=t=void 0;t={};e=d=1;var ab=0,ab=~~(1*ab);switch(ab){case 1:e=d=0;break;case 2:d=0;e=1;break;case 3:d=1,e=0}var ab=e,jc=za=void 0,ra=O=e=void 0;if(A&&ba){A.ia=rb(A.x,A.y,null,tb(A));ba.ia=rb(ba.x,ba.y,null,tb(ba));for(O=A;O.next;O=O.next)if(!O.I)for(Y=ba;Y.next;Y=Y.next)!Y.I&&(za=sb(O.next),jc=sb(Y.next),ra=wb(O,za,Y,jc,t))&&(ra=t.Ja,ce=t.xa,hc=t.Za,ic=t.$a,ra=rb(hc,ic,null,null,null,null,1,0,0,ra),yb(ra,O,za),za=rb(hc,ic,null,null,null,null,\n1,0,0,ce),yb(za,Y,jc),ra.ua=za,za.ua=ra);t=xb(A,ba);d&&(t=1-t);for(O=A;O;O=O.next)O.I&&(O.ra=t,t=1-t);t=xb(ba,A);ab&&(t=1-t);for(Y=ba;Y.next;Y=Y.next)Y.I&&(Y.ra=t,t=1-t);vb(A);for(vb(ba);(t=ub(A))!=A;){for(O=null;!t.na;t=t.ua){for(d=t.ra;;){O=rb(t.x,t.y,O);t.na=1;t=d?t.next:t.D;if(!t)break;if(t.I){t.na=1;break}}if(!t)break}O.Da=e;e=O}A=e}else A=void 0;t=2*k.length;if(!A&&af(k,K))La.push($e(k,t,ca,da,pa,!0));else for(;A;)La.push($e(A,t,ca,da,pa)),A=A.Da}k=La;if(f===ja.Qa){if(!h.length)break;M=h.length}f===\nja.va&&(na=h.length);k.length&&h.push.apply(h,k)}h.length&&(l[ya]=h,w?n[ya]=p[ya]=fc:(n[ya]=M,p[ya]=na))}}}return{Xa:c,La:l,Ra:n,Sa:p}};function Ze(a,b,c){for(var d=c.length,e=0,f,g,h=b.length;e<d;)f=c[e++],g=c[e++],a.push(g-f===h?b:b.slice(f,g));return 0<c.length}function af(a,b){for(var c=!1,d=[],e=0,f=b.length;e<f;e++)d.push(b[e].x,b[e].y);nc(a[0].x,a[0].y,d)&&(pb([b],a[0].x,a[0].y,a[2].x,a[2].y,!0).length||(c=!0));return c}\nfunction $e(a,b,c,d,e,f){var g=0,h=0,k=a,l=!!f,n=new Int32Array(b);for(l&&(a=k[0]);a;)n[g]=a.x-c>>e,g+=1,n[g]=a.y-d>>e,g+=1,g===b&&(f=new Int32Array(2*b),f.set(n),n=f),h+=1,a=l?k[h]:a.next;f=new Int32Array(g);f.set(Array.prototype.slice.apply(n,[0,g]));return f}\nm.Ya=function(a,b){for(var c=b.Xa,d=b.La,e=b.Ra,f=b.Sa,g=[],h,k={Rows:g},l,n=a?a.length:0,p=0,w,G=c.Rows,D=G.length,I;p<D;p+=1)if(d[p]||!this.o){h={};w=G[p];if(n)for(l=0;l<n;l+=1)w.hasOwnProperty(a[l])&&(h[a[l]]=w[a[l]]);else for(I in w)"$$projected$$"!==I&&(h[I]=w[I]);d[p]&&(h.$HProjGeometry={paths:d[p],interiorsIndex:e[p],outlinesIndex:f[p]});w.geometry&&(h.geometry=w.geometry);g.push(h)}c.Meta&&(k.Meta=c.Meta);return k};\nm.ja=function(){for(var a in this.b)this.b.hasOwnProperty(a)&&(this.b[a].reject("disposed"),delete this.b[a])};function Se(a){var b=[],c,d;for(d=0;d<a.length;d++){c=Ia(a[d]);if(c.rowFilter&&(c.rowFilter=eval("("+c.rowFilter+")"),!r(c.rowFilter)))throw Error("Invalid row filter for layer "+c.layerId);b.push(c)}return b};u("H.service.extension.worker.processor",function(a,b,c){function d(a){e.postMessage(a)}var e=this,f=bf[a],g;g=function(a){e.postError(a.toString())};if(0===b)f||(bf[a]=new Qe(c,cf)),this.postMessage();else if(f)switch(b){case 1:try{f.Wa.apply(f,c).then(d,g)}catch(h){this.postError(h.message)}break;case 2:try{f.Va.apply(f,c).then(d,g)}catch(k){this.postError(k.message)}break;case 3:f.S();delete bf[a];Oa(bf)&&cf.i();break;default:e.postError("Unsupported command")}else e.postError("TileProvider is not initialized")});\nvar cf=new C(26214400),bf=Object.create(Ja,void 0);function df(a,b,c){var d=a[b];a=a[b+1];this.Ba=[];this.wa=0;this.a=[a-c,d-c,a+c,d+c]}df.prototype.ha=function(a,b){var c=a[b],d=a[b+1],e=this.a;return e[1]<=c&&c<=e[3]&&e[0]<=d&&d<=e[2]};var ef=new J(0,0);function ff(a,b,c,d,e){d[e]=b;d[e+1]=a}var hf=new X;function jf(a,b,c,d,e){hf.c(a,b,ef);d[e]=ef.x;d[e+1]=ef.y}\nu("H.clustering.dynamicgrid.worker",function(a,b,c,d,e){var f=e?ff:jf,g=0;e=!!self.ArrayBuffer;var h=a.byteLength?new Float64Array(a):a,k=h.length/3,l,n;a=[];var p,w=[],G=[],D=e?new Float64Array(2*k):[],k=0,I,M=0;for(hf.a(d);g<h.length;){I=h[g++];n=h[g++];l=h[g++];f(l,n,d,D,M);for(l=a.length;l--;)if(n=a[l],n.ha(D,M)){p=n;break}p||(p=new df(D,M,b),a.push(p));l=M/2;p.wa+=I||1;p.Ba.push(l);p=null;M+=2}for(l=a.length;l--;)n=a[l],b=n.wa>=c,f=n.Ba,d=f.length,b?(w.push(d),w=w.concat(f)):(k+=d,G=G.concat(f));\nc=[k].concat(G).concat(w);c=e?(new Uint32Array(c)).buffer:c;this.postMessage(c,[c])});self.addEventListener("message",function(a){a=new ve(a.data);var b=re[a.b];if(b)try{b.apply(a,a.c)}catch(c){a.postError(c.message)}else a.postError("processor_not_found")});(function(){var a,b;a=new ve;b=function(b,d){ue.apply(a,[b,d,!0])};b("0",se);b("1",ue);b("2",te);b("3",Ae)})();\n',H.util.eval('N.prototype.N=ca(0,function(a){var b=this.g,c,d=this;a!==x?(B(a,Vg,N.prototype.N,0),c=a):c=bh;c!==b&&b.Ea(function(a,b,g){return d.m(a)?(c.add(a,b,g),!0):!1});this.g=c});function S(a,b,c,d,e,f){if(a&&b)this.ce(a),this.nd(b),this.mc(c),this.j(e),this.l(f),this.zf(d);else throw Error(\'Parameters "scheme" and "host" must be specified\');}r("H.service.Url",S);\nfunction km(a,b){var c=a,d=w.document,e,f,g,h,k=d&&d.createElement("a"),l="";d?(b&&(f=(e=d.getElementsByTagName("base")[0])&&e.href,g=d.head,h=e||g.appendChild(d.createElement("base")),h.href=b),k.href=c,l=k.href,b&&(e?e.href=f:g.removeChild(h))):/[\\w]+:\\/\\//.test(c)&&(l=c);g=/(?:(\\w+):\\/\\/)?(?:([^:]+):([^@/]*)@)?([^/:]+)?(?:[:]{1}([0-9]+))?(\\/[^?#]*)?(\\?[^#]+)?(#.*)?/.exec(l);c=g[1];k=g[4];d=g[5];h=g[6];e=g[7];f=g[8];!g[2]&&k&&/@/.test(k)&&(k=k.split("@")[1]);g=k;h=h&&0<h.length?h.substr(1):"";var k=\n{},m;if(e)for(l=/([?&]?([^=&+]+))(=([^&]+))?/g;m=l.exec(e);)k[decodeURIComponent(m[2])]=m[4]?decodeURIComponent(m[4]):void 0;return new S(c,g,h,k,isNaN(+d)?void 0:+d,f&&0<f.length?f.substr(1):"")}S.parse=km;var lm=0;S.prototype.clone=function(){lm++;var a={},b;for(b in this.b)a[b]=this.b[b];return new S(this.g,this.vc,this.c,a,this.f,this.a)};S.prototype.clone=S.prototype.clone;\nS.prototype.ce=function(a){if(!a||"string"!==typeof a)throw Error(\'The "scheme" parameter must be a non-empty string.\');this.g=a;return this};S.prototype.setScheme=S.prototype.ce;S.prototype.B=function(){return this.g};S.prototype.getScheme=S.prototype.B;S.prototype.nd=function(a){if(!a||"string"!==typeof a||"-"===a.charAt(0)||"."===a.charAt(0)||"."===a.charAt(a.length-1))throw Error(\'The "host" parameter is not a valid host name.\');this.vc=a;return this};S.prototype.setHost=S.prototype.nd;\nS.prototype.o=function(){return this.vc};S.prototype.getHost=S.prototype.o;S.prototype.mc=function(a){this.c=a||void 0;return this};S.prototype.setPath=S.prototype.mc;S.prototype.m=function(){return this.c};S.prototype.getPath=S.prototype.m;S.prototype.zf=function(a){if(a)if("object"==typeof a)this.b=a;else throw Error(\'Parameter "params" must be an object.\');else this.b={};return this};S.prototype.setQuery=S.prototype.zf;S.prototype.i=function(){return!mm(this)};S.prototype.hasQuery=S.prototype.i;\nS.prototype.s=function(){return this.b};S.prototype.getQuery=S.prototype.s;S.prototype.j=function(a){if(a&&isNaN(parseInt(a,10)))throw Error(\'Parameter "port" must be a number or undefined\');this.f=+a||void 0;return this};S.prototype.setPort=S.prototype.j;S.prototype.v=function(){return this.f};S.prototype.getPort=S.prototype.v;S.prototype.l=function(a){this.a=a||void 0;return this};S.prototype.setAnchor=S.prototype.l;S.prototype.A=function(){return this.a};S.prototype.getAnchor=S.prototype.A;\nS.prototype.$=function(a){if("object"!==typeof a)throw Error(\'Parameter "other" must be an object.\');var b=this.b,c;for(c in a)a.hasOwnProperty(c)&&"function"!==typeof a[c]&&(b[c]=a[c]);return this};S.prototype.mergeQuery=S.prototype.$;S.prototype.xa=function(a){if(!a||"string"!==typeof a)throw Error(\'Parameter "subDomain" must be a non-empty string\');"."===a.substr(a.length-1)&&(a=a.substr(0,a.length-1));return this.nd(a+"."+this.vc)};S.prototype.addSubDomain=S.prototype.xa;\nS.prototype.R=function(a){if(!a||"string"!==typeof a)throw Error(\'Parameter "subPath" must be a non-empty string\');return this.mc((this.c?this.c+"/":"")+a)};S.prototype.addSubPath=S.prototype.R;S.prototype.toString=function(){return[this.g+"://",this.vc,this.f?":"+this.f:"",this.c||!mm(this)||this.a?"/":"",this.c?encodeURI(this.c):"",nm(this),this.a?"#"+encodeURIComponent(this.a):""].join("")};S.prototype.toString=S.prototype.toString;\nfunction nm(a){var b=[],c,d=a.b,e;for(c in d)d.hasOwnProperty(c)&&"function"!==typeof d[c]&&(e=a.b[c],b.push(encodeURIComponent(c)+(void 0===e?"":"="+encodeURIComponent(e))));return 0<b.length?"?"+b.join("&"):""}function mm(a){var b,c=0;for(b in a.b)if(a.b.hasOwnProperty(b)&&"function"!==typeof a.b[b]&&(c++,0<c))break;return!c};function om(a){function b(b){d.contains(e)&&d.removeChild(e);l&&clearTimeout(l);delete om.a[f];b&&a.Zc&&a.Zc.call(k,b)}if(!a.url||!a.oc)throw Error(\'Parameter "options" must specify at least a URL and a callback.\');if("function"!==typeof a.oc)throw Error("Parmaters options.callback must be a function");var c=a.Ui||document,d=c.getElementsByTagName("head")[0],e=c.createElement("script"),c=a.url instanceof S?a.url:km(a.url,a.Ti),f=om.c++,g=a.xd||"callback",h=a.oc,k={},l=null;k.id=f;k.cancel=function(){b("cancelled")};\n0!==a.timeout&&(l=w.setTimeout(function(){b("timeout")},a.timeout||3E4));om.a[f]=function(a){b();h.call(k,a)};e.type="text/javascript";e.src=c.toString()+(c.i()?"&":"?")+g+"="+(a.rf?"H.service.jsonp.handleResponse("+f+")":encodeURI("H.service.jsonp.handleResponse("+f+")"));d.appendChild(e);return k}r("H.service.jsonp",om);om.b=function(a){return(a=om.a[a])?a:function(){}};om.handleResponse=om.b;om.c=0;om.a={};function pm(a){a=a||{};this.F=a.subDomain;this.c=a.path;this.N=a.callbackKey;this.f=a.baseUrl}r("H.service.AbstractRestService",pm);pm.prototype.W=function(a,b,c,d,e){this.a=(e||this.f).clone();this.F&&this.a.xa(this.F);this.c&&this.a.mc(this.c);c&&this.a.ce("https");return this};pm.prototype.configure=pm.prototype.W;pm.prototype.aa=function(){return this.a};\nfunction qm(a,b,c,d){if(!sa(c))throw Error("onResult callback needed");if(!sa(d))throw Error("onError callback needed");return om({url:b,oc:function(a){c(a)},Zc:function(a){d(Error("["+a+"] "+b+" request failed"))},xd:a.N})};function U(a){a=rm(sm,a);this.v(a.baseUrl);this.c(a.useCIT);this.g(a.useHTTPS);tm(this,a.app_id,a.app_code);this.a={}}r("H.service.Platform",U);function tm(a,b,c){a.l=b;a.i=c;a.f.$({app_id:b,app_code:c})}U.prototype.W=function(a){if(a.configure)return a.configure(this.l,this.i,this.B,this.s,this.f);throw Error("Object is not configurable");};U.prototype.configure=U.prototype.W;U.prototype.g=function(a){this.B=a;this.f.ce(a?"https":"http")};U.prototype.setUseHTTPS=U.prototype.g;\nU.prototype.c=function(a){this.s=a;this.f.nd((a?"cit.":"")+this.A)};U.prototype.setUseCIT=U.prototype.c;U.prototype.v=function(a){this.A=a.vc;this.f=a=a.clone();a.$({xnlp:"CL_JSMv3."+sl().version});this.c(this.s);this.g(this.B);tm(this,this.l,this.i)};U.prototype.setBaseUrl=U.prototype.v;U.prototype.C=function(){return this.f};U.prototype.getBaseUrl=U.prototype.C;var sm={app_id:null,app_code:null,useHTTPS:!1,useCIT:!1,baseUrl:new S("http","api.here.com")};\nr("H.service.setOptions",function(a,b){sm[a]=b});r("H.service.getOptions",function(a){return sm[a]});function rm(a,b){var c=b||{},d;for(d in a)!a.hasOwnProperty(d)||d in c||(c[d]=a[d]),b&&b.hasOwnProperty(d)&&(c[d]=b[d]);return c};function um(a){a=rm(sm.trafficIncidents,a);a.callbackKey="jsoncallback";um.u.constructor.call(this,a)}v(um,pm);r("H.service.TrafficIncidentsService",um);um.prototype.W=function(a,b,c,d,e){um.u.W.apply(this,[a,b,c,d,e]);this.f&&(this.a=this.f.clone());return this};um.prototype.configure=um.prototype.W;um.prototype.g=function(a,b,c){a=this.aa().clone().R("incidents.json").$(a);return qm(this,a,b,c)};um.prototype.requestIncidents=um.prototype.g;\num.prototype.b=function(a,b,c,d,e,f){a=this.aa().clone().R(["incidents/json",c,a,b].join("/")).$(f||{});return qm(this,a,d,e)};um.prototype.requestIncidentsByTile=um.prototype.b;sm.trafficIncidents={subDomain:"traffic",path:"traffic/6.1"};U.prototype.o=function(){return this.W(new um)};U.prototype.getTrafficIncidentsService=U.prototype.o;function vm(){this.Ff={}}function wm(a){var b,c=a.boxes,d,e;this.label=a.label;this.min=a.minLevel;this.max=a.maxLevel;this.b=[];if(c&&(b=c.length))for(d=c[0],e=new G(d[0],d[1],d[2],d[3]),this.b.push(e),this.a=new G(d[0],d[1],d[2],d[3]),a=1;a<b;a++)d=c[a],e=new G(d[0],d[1],d[2],d[3]),this.b.push(e),this.a.wb(e,!1,this.a)}wm.prototype.xc=function(a,b){var c;if(a>=this.min&&a<=this.max)if((c=this.b.length)&&this.a){if(this.a.xc(b))for(;c--;)if(this.b[c].xc(b))return!0}else return!0;return!1};function xm(a){var b=0,c,d,e=a.length;if(0===e)return b;for(c=0;c<e;c++)d=a.charCodeAt(c),b=(b<<5)-b+d,b|=0;return b}var ym=Function("return this")();function zm(a,b){function c(){k=Aa();te.font=g;h=Math.round(te.measureText("BESbswyMi").width);-1===e.indexOf(h)?b():3E5<k-d?b("timeout"):(l=50*++f,ym.setTimeout(c,Math.min(l,d+3E5-k)))}var d=Aa(),e=Am(),f=0,g="35px "+a+","+Bm.join(","),h,k,l;-1!==Bm.indexOf(a)?b():ym.setTimeout(c,50)}\nfunction Cm(a,b){function c(a){a?b(a):0===--d&&b()}var d=a.length;a.forEach(function(a){zm(a,c)})}var Bm=Ra("monospace serif");function Am(){var a=[];Bm.forEach(function(b){te.font="35px "+b;a.push(Math.round(te.measureText("BESbswyMi").width))});return a}function Dm(a,b){var c=b||document,d=c.createElement("style"),e;d.appendChild(c.createTextNode(""));c.head.appendChild(d);e=d.sheet;a.forEach(function(a,b){e.insertRule(a,b)});return d}function Em(){}\nEm.prototype.pop=function(a){this[a]||(this[a]=[]);return this[a].pop()||ym.document.createElement("canvas")};Em.prototype.push=function(a,b){this[b]||(this[b]=[]);this[b].push(a)};var Fm=new Em;function Gm(a,b,c,d,e,f,g){var h=this;g=g||{};f=f?f:{};var k=a.aa().clone().R(b+"/"+a.Cb()+"/"+c).$(f),l=a.i;this.service_=a;this.tileBaseUrl_=k;Pk.call(this,{tileSize:d,max:512===d?19:20,min:512===d?2:0,getURL:function(a,b,c){var f=h.tileBaseUrl_.clone();l&&f.xa(l[(c+b+a)%l.length]);f.R(c+"/"+a+"/"+b+"/"+d+"/"+e);return f.toString()},crossOrigin:g.crossOrigin,uri:k.toString().replace(/_/g,"")+d});this.tileType_=b;this.scheme_=c;this.params_=f;this.copyrightKey_=c.split(".")[0];this.C=z(this.C,this);\nthis.getCopyrights=this.Ia;this.U=wc();a.addEventListener("versionupdate",this.C)}v(Gm,Pk);Gm.prototype.MAX_STORE_TIME=2592E6;Gm.prototype.D=function(){Pk.prototype.D.call(this);this.service_.removeEventListener("versionupdate",this.C)};Gm.prototype.Ia=function(a,b){var c=this.service_.Ia().Ff[this.copyrightKey_],d,e=c?c.length:0,f=[];for(d=0;d<e;d++)c[d].xc(b,a)&&f.push(c[d]);return f};\nGm.prototype.C=function(){var a=this.service_;this.tileBaseUrl_=a.aa().clone().R(this.tileType_+"/"+a.Cb()+"/"+this.scheme_).$(this.params_);this.j(!1)};Gm.prototype.Rc=function(){return this.U};r("H.service.MapTileProvider.prototype.canStore",Gm.prototype.Rc);Gm.prototype.B=function(){return this.Rc()?vc():N.prototype.B.call(this)};r("H.service.MapTileProvider.prototype.getStorage",Gm.prototype.B);function Hm(a){a=rm(sm.maptile,a);I.call(this);this.f=a.baseUrl;this.c=a.path;this.m=a.subDomain;this.i=a.shards;this.ra=(this.s=!!a.ignoreTypes)?null:a.type;this.g=a.version;this.j=new vm;this.o={};this.Ad=0}v(Hm,I);r("H.service.MapTileService",Hm);function Im(a,b){for(var c={},d=a[b+"s"][b],e=d.length;e--;)c[d[e].id]=d[e];a[b+"s"]=c}\nHm.prototype.W=function(a,b,c,d,e){this.a=(this.f||e).clone();this.m&&this.a.xa(this.m);this.ra&&this.a.xa(this.ra);this.c&&this.a.mc(this.c);"newest"===this.g&&Jm(this);return this};Hm.prototype.configure=Hm.prototype.W;Hm.prototype.aa=function(){return this.a};Hm.prototype.A=function(){return this.ra};Hm.prototype.getType=Hm.prototype.A;Hm.prototype.Cb=function(){return this.g};Hm.prototype.getVersion=Hm.prototype.Cb;\nHm.prototype.Ia=function(){this.Ad||(this.g&&"newest"!==this.g||"traffic"===this.ra)&&Km(this);return this.j};Hm.prototype.getCopyrights=Hm.prototype.Ia;\nfunction Jm(a){var b=a.aa().clone().R("info").$({output:"json"});a.i&&b.xa(a.i[0]);om({url:b,xd:"callback_func",oc:function(b){b=JSON.parse(b.replace(/,\\s?\\]/g,"]")).response;var d;Im(b,"map");Im(b,"scheme");Im(b,"tiletype");Im(b,"format");Im(b,"resolution");Im(b,"language");if("newest"===a.g&&"traffic"!==a.ra)for(d in b.maps)b.maps[d].hash&&b.maps[d].newest&&(a.g=b.maps[d].hash,a.dispatchEvent("versionupdate"));a.l=b;a.dispatchEvent("infoupdate")},Zc:function(a){throw Error("["+a+"]: Could not fetch meta-info from map tile service @ "+\nb.toString());},rf:!0})}function Km(a){var b=a.aa().clone().R("copyright").R(a.Cb()).$({output:"json"});a.i&&b.xa(a.i[0]);a.Ad=1;om({url:b,xd:"callback_func",oc:function(b){this.Ad=2;b=JSON.parse(b);var d=a.j,e;for(e in b)if(b.hasOwnProperty(e))for(var f=b[e],g=d.Ff[e]||(d.Ff[e]=[]),h=void 0,k=f.length,h=0;h<k;h++)g.push(new wm(f[h]));a.dispatchEvent("copyrightupdate")},Zc:function(a){this.Ad=-1;throw Error("["+a+"]: Could not fetch copyrights from map tile service @"+b.toString());},rf:!0})}\nHm.prototype.B=function(){return this.l};Hm.prototype.getInfo=Hm.prototype.B;Hm.prototype.v=function(a,b,c,d,e,f){var g;g=xm(this.aa().clone().R(a+"/"+this.Cb()+"/"+b+"/"+c+"/"+d).$(e?e:{}).toString());var h=this.o[g];h||(h=new Gm(this,a,b,c,d,e,f),this.o[g]=h);return h};Hm.prototype.createTileProvider=Hm.prototype.v;Hm.prototype.b=function(a,b,c,d,e,f,g,h){a=this.v(a,b,c,d,e,h);return new oh(a,{opacity:f,dark:!!g})};Hm.prototype.createTileLayer=Hm.prototype.b;\nsm.maptile={type:"base",version:"newest",subDomain:"maps",path:"maptile/2.1",shards:["1","2","3","4"]};U.prototype.b=function(a){var b;b=rm(sm.maptile,a);var c;c=""+(b.ignoreTypes?"":b.type);c+=b.path;c+=b.subDomain;c+=b.baseUrl;c+=b.shards?b.shards.join(""):"";b=xm(c);c=this.a[b];c||(c=this.W(new Hm(a)),this.a[b]=c);return c};U.prototype.getMapTileService=U.prototype.b;function Lm(a){this.f=a;this.hb=this.a("general","default")||Mm;this.c=new Vg(200)}Lm.prototype.b=function(a,b){var c,d,e,f,g;for(g=1;g<arguments.length;g++)for(c in d=arguments[g],d)if(d.hasOwnProperty(c))for(e in a[c]||(a[c]={}),f=d[c],f)f.hasOwnProperty(e)&&void 0!==f[e]&&(a[c][e]=f[e]);return a};Lm.prototype.Na=function(a,b){var c=this.a("spaceToGroup",b);return Nm(this,a,c?c+"":void 0)};\nfunction Nm(a,b,c){var d,e,f;f=(b?b+"_":"")+(c?c:"default");d=a.hb;(e=a.c.get(f))?d=e:(b&&c?(d=Nm(a,b,void 0),e=Nm(a,void 0,c),b=a.a("venues",b,"groups",c),d=a.b({},a.hb,d,e,b)):b&&!c?d=a.b({},a.hb,a.a("venues",b,"default")):!b&&c&&(d=a.b({},a.hb,a.a("general","groups",c))),a.c.add(f,d,1));return d}Lm.prototype.a=function(a){for(var b=this.f,c=arguments,d=c.length,e=0;e!==d;)if(b=b[c[e++]],!b)return;return b};\nvar Mm={space:{fillColor:"rgba(198, 175, 255, .7)",strokeColor:"rgb(162, 141, 216)",lineWidth:.5},spaceLabel:{fillColor:"rgb(78,66,111)"},floor:{fillColor:"rgba(249, 244, 253, .7)",strokeColor:"rgba(255, 255, 255, .7)",lineWidth:1}};function Om(a,b,c,d,e,f,g,h){this.Ta=[];this.A={};Yk.call(this,a,b,c,d,e,f,g,h)}v(Om,Yk);function Pm(){}Pm.prototype.Ib=function(){};r("H.service.remote.IObject.prototype.retain",Pm.prototype.Ib);Pm.prototype.v=function(){};r("H.service.remote.IObject.prototype.release",Pm.prototype.v);function Qm(a,b){var c={};this.I=a;Ca(c,b||c);Kk.call(this,c);this.lc={};Rm(this)}v(Qm,Kk);r("H.service.remote.ObjectProvider",Qm);Qm.prototype.J=function(){Kk.prototype.J.call(this)};function Rm(a){a=a.N(Pe.SPATIAL);a.c(a.a+1,Me.ADD)}var Sm=[];Qm.prototype.c=function(){return Sm};Qm.prototype.requestMarkers=Qm.prototype.c;Qm.prototype.b=function(){return Sm};Qm.prototype.requestDomMarkers=Qm.prototype.b;Qm.prototype.l=Be;Qm.prototype.providesMarkers=Qm.prototype.l;Qm.prototype.i=Be;\nQm.prototype.providesDomMarkers=Qm.prototype.i;Qm.prototype.s=function(){return!0};Qm.prototype.providesSpatials=Qm.prototype.s;Qm.prototype.m=function(){return Sm};Qm.prototype.requestSpatials=Qm.prototype.m;function Tm(a){return a.getVisibility(!0)}Qm.prototype.g=function(a,b){var c=Um(this,a,Vm);b&&(c=c.filter(Tm));return c};Qm.prototype.requestSpatialsByTile=Qm.prototype.g;function Um(a,b,c){var d=b.i&&b.i[c],e;!d&&(e=b.v)&&(delete b.v,(b.i=a=a.I.parse(a,b,e))&&(d=a[c]));return d||Sm}\nQm.prototype.V=function(a){var b=a.ta();if(this.lc[b])throw new kc(this.V,"Remote object "+b+" already added");return this.lc[b]=a};Qm.prototype.a=function(a){delete this.lc[a.ta()]};var Vm="spatials";function Wm(a,b,c){Qm.call(this,b,c);this.f=a;this.responseQueue_=[];Xm(this.f)||(this.Vd=z(this.Vd,this),this.f.addEventListener("statechange",this.Vd));this.v=a.m;this.j=0;this.B={onSpaceCreated:c&&c.onSpaceCreated,floorLevel:0,styler:null};this.requestSpatialsByTile=z(this.g,this)}v(Wm,Qm);Wm.prototype.T=function(a,b,c,d){this.vf?this.Ug.apply(this,arguments):d||this.responseQueue_.push({Ci:a,response:c,Vh:b});d&&(a.A[b]=!0)};function Ym(a){return a.getVisibility(!0)}\nWm.prototype.g=function(a,b,c){var d;this.$g||Zm(this);d=a.a;b&&(d=d.filter(Ym));if(!c){b=this.j;var e,f,g,h;if(!a.A[b]&&Xm(this.f)){e=this.f.aa();c=a.x;f=a.y;h=g=a.z;for(var k=1,l;h--;)l=1<<h,k*=4,k+=(c&l&&1)|(f&l&&2);h=k.toString(4).substr(1);e=e.clone().R("0/tiles-ia").R("L"+b).R(h+".json");this.v&&e.xa(this.v[(c+f+g)%this.v.length]);c=new Gh("text/plain",e.toString());c.then(z(this.T,this,a,b),sc);a.A[b]=!0}a.A[this.j]=!0}a.l&&(d=d.concat(a.l),delete a.l);return d};\nr("H.service.venues.ObjectProvider.prototype.requestSpatialsByTile",Wm.prototype.g);p=Wm.prototype;p.Kc=function(a){var b,c,d;for(b in this.lc)for(c in d=this.lc[b].C,d)d[c].Kc(a);Rm(this);Rg(this);this.j=a};p.Ug=function(a,b,c,d){if(!d&&(this.B.floorLevel=b,b=(b=this.I.parse(this,a,c,this.B))&&b.spatials))for(a.l=a.l?a.l.concat(b):b,a=b.length;a--;)b[a].ua(Me.ADD)};p.Vd=function(){Xm(this.f)&&($m(this),this.f.removeEventListener("statechange",this.Vd))};\nfunction $m(a){Xm(a.f)&&a.vf&&a.dispatchEvent("reload")}function Zm(a){a.$g=!0;an(a,function(b,c){c?a.dispatchEvent("error"):(a.B.styler=b,bn(a,z(a.si,a)))})}p.si=function(a){a?this.dispatchEvent("error"):(this.responseQueue_.forEach(function(a){this.Ug(a.Ci,a.Vh,a.response)},this),this.responseQueue_=null,this.vf=!0,$m(this))};p.$g=!1;p.vf=!1;function an(a,b){(new Gh("application/json",a.f.l.clone().R("styles/styles.json").toString())).then(function(a){b(new Lm(a))},function(a){b(null,a)})}\nvar cn=0;\nfunction bn(a,b){var c=a.f.l.clone().R("fonts"),d=document,e=[],f,g=[];2===cn?b():(dn.forEach(function(a){g.push("FiraGO-Regular".replace("{name}",a))}),1!==cn&&(dn.forEach(function(a,b){f=c.clone().R(g[b]);e.push(\'@font-face {font-family: "FiraGO-Regular";src: url("{url}.woff2") format("woff2"),url("{url}.woff") format("woff"),url("{url}.ttf") format("truetype");font-weight: normal;font-style: normal;}\'.replace(/\\{name\\}/g,a).replace(/\\{url\\}/g,f.toString()))}),a.A=Dm(e,d),cn=1),Cm(g,function(c){cn=c?\n0:2;c&&a.A&&Ge(a.A);b(c)}))}var dn=[""];function en(a,b,c,d){P.call(this,fn(a));this.i=c;this.f=d;this.o={};this.Za=b;this.c=0}v(en,P);r("H.service.venues.Building",en);en.prototype.ta=function(){return this.Za};en.prototype.getId=en.prototype.ta;en.prototype.wa=function(){return this.Da};en.prototype.getVenue=en.prototype.wa;en.prototype.sa=function(){return this.i};en.prototype.getMinLevel=en.prototype.sa;en.prototype.Ya=function(){return this.f};en.prototype.getMaxLevel=en.prototype.Ya;en.prototype.Va=function(){return this.c};\nen.prototype.getCurrentLevel=en.prototype.Va;en.prototype.Kc=function(a){var b,c,d;if(!isNaN(a)&&(b=this.i,c=this.f,a!==this.c))for(this.c=a;b<=c;b++)(d=this.o[b])&&d.setVisibility(b===a);return this.c};en.prototype.ad=function(a){return this.o[a]};en.prototype.getFloor=en.prototype.ad;en.prototype.ba=function(a,b){this.i=Math.min(this.i,a);this.f=Math.max(this.f,b)};en.prototype.adjustMinMaxLevels=en.prototype.ba;function gn(a,b){P.call(this,fn(a));this.C={};this.f=b;a.V(this)}v(gn,P);r("H.service.venues.Venue",gn);gn.prototype.N=function(a){return this.C[a]};gn.prototype.getBuilding=gn.prototype.N;gn.prototype.c=function(){return this.C};gn.prototype.getBuildings=gn.prototype.c;gn.prototype.ta=function(){return this.f};gn.prototype.getId=gn.prototype.ta;function hn(a,b,c,d){d=d||jn;this.Ic={};d.provider=a;this.invalidate=sc;hn.u.constructor.call(this,b,d);delete this.invalidate;c&&(this.f=c);this.ua(Me.ADD)}v(hn,Gf);r("H.service.remote.Spatial",hn);var jn={};hn.prototype.ta=function(){return this.f||Gf.prototype.ta.call(this)};hn.prototype.getId=hn.prototype.ta;hn.prototype.Ib=Function();hn.prototype.retain=hn.prototype.Ib;hn.prototype.v=Function();hn.prototype.release=hn.prototype.v;function kn(a,b){this.a=a;b&&(this.b=b)}var ln=new kn([]);\nhn.prototype.ec=function(a){return(this.Ic[a.key]||ln).a};hn.prototype.getGeometriesForTile=hn.prototype.ec;hn.prototype.ba=function(a){return(this.Ic[a.key]||ln).b};hn.prototype.getLabels=hn.prototype.ba;function mn(a,b,c,d){a.Ic[b.key]=new kn(c,d)};function nn(a,b,c){this.ra=c&&c.type||"";hn.call(this,a,!0,b);this.g(c)}v(nn,hn);r("H.service.venues.Space",nn);nn.prototype.i=function(){return this.ra};nn.prototype.getType=nn.prototype.i;nn.prototype.c=function(){return"floor/polygon"===this.ra};nn.prototype.isFloorSpace=nn.prototype.c;nn.prototype.b=function(a){a&&(this.ai=new zf(a))};nn.prototype.initLabelStyle=nn.prototype.b;nn.prototype.ad=function(){var a=this.Da;return this.isFloorSpace()?a:a&&a.Da};nn.prototype.getFloor=nn.prototype.ad;\nnn.prototype.a=0;nn.prototype.Ib=function(){++this.a};nn.prototype.retain=nn.prototype.Ib;nn.prototype.v=function(){var a=--this.a,b;a||(b=this.ad(),this.isFloorSpace()?b.ib&&(b.a(b.ib),b.ib=null,on(b)):b&&(delete b.i[this.ta()],b.c.a(this),on(b)));return 1>a};nn.prototype.release=nn.prototype.v;function pn(){}pn.prototype.parse=function(){};r("H.service.remote.IParser.prototype.parse",pn.prototype.parse);function qn(a,b,c){P.call(this,fn(a));this.f=c;this.ib=new nn(a,b.id,b);this.V(this.ib);this.c=new P(fn(a));this.V(this.c);this.i={}}v(qn,P);r("H.service.venues.Floor",qn);qn.prototype.sa=function(){return this.f};qn.prototype.getLevel=qn.prototype.sa;qn.prototype.o=function(){return this.ib};qn.prototype.getFloorSpace=qn.prototype.o;qn.prototype.ba=function(){return this.c};qn.prototype.getSpaces=qn.prototype.ba;qn.prototype.N=function(){return this.Da};qn.prototype.getBuilding=qn.prototype.N;\nqn.prototype.getData=function(){return this.ib&&this.ib.getData()};qn.prototype.getData=qn.prototype.getData;qn.prototype.g=function(a){this.ib.g(a);return this};qn.prototype.setData=qn.prototype.g;qn.prototype.jg=function(a){return this.i[a]};qn.prototype.getSpace=qn.prototype.jg;function on(a){if(!a.c.b&&!a.ib){var b=a.N(),c=a.f;c===b.c&&(b.c=0);delete b.o[c];b.a(a);b.b||(a=b.Da,delete a.C[b.ta()],a.a(b),a.b||a.Pa().a(a))}};function rn(){}var sn;rn.prototype.a=Math.PI/180;function tn(a,b){return a&&a.category&&a.category[b||"id"]}function un(a){var b,c;return a.sort(function(a,e){b=a.object.type;c=e.object.type;return b>c?-1:b<c?1:0})}\nrn.prototype.parse=function(a,b,c,d){var e=d.floorLevel,f=d.onSpaceCreated;d=d.styler;var g=[],h,k,l,m,n,q,t,u,y,J={};sn=!1;c=c.replace(/\'\'( )?/g,\'$1\\\\"\');try{c=ym.JSON.parse(c)}catch(T){sn=!0}if(c.length)for(c=un(c),h=c.length;h--;){k=c[h];l=k.area;n=l.length;t=u=q=void 0;(u=0<n)||(sn=!0,u=void 0);if(u)for(q=Array(n/2);n;)t=l[--n],u=l[--n],q[n/2]=new M(u,t);l=q?{Ra:[q]}:A;k=k.object;u=y=x;if(1!==k.type)switch(n=k.type.replace("/polygon",""),n){case "floor":n=q=k.buildingId;(u=a.lc[n])||(u=new gn(a,\nn),u.ia(a));t=k.buildingMinLevel;y=k.buildingMaxLevel;(n=u.N(q))?n.adjustMinMaxLevels(t,y):(n=new en(a,q,t,y),q=u,u=n,q.C[u.ta()]=u,q.V(u),n.Kc(a.j));0>b.Ta.indexOf(n)&&b.Ta.push(n);(q=n.ad(e))?(n=q.ib,u=n.ec(b),u.length&&(l?l.Ra=u[0].Ra.concat(l.Ra):l=u[0])):(u=q=new qn(a,k,e),t=u.f,u.setVisibility(t===n.c),n.o[t]=u,n.V(u),n=q.ib,f&&f(n),t=tn(q.getData(),"profileKey"),y=d.Na(t,void 0),n.O(y.floor));J[k.id]=q;0>g.indexOf(n)&&g.push(n);l&&mn(n,b,[l]);break;case "hollow":u="hollow-area";case "space":if(m=\nk.id,q=J[/_d$/.test(k.outerAreaId)?k.outerAreaId:k.outerAreaId+"_d"])n=q.jg(m),t=tn(q.getData(),"profileKey"),u=u||tn(n?n.getData():k),n||(y=n=new nn(a,m,k),q.i[y.ta()]=y,q.c.V(y),y=d.Na(t,u),n.O(y.space),f&&f(n)),n.Ib(),(k=k.label)&&k.firstLinePos?(y=y||d.Na(t,u),q=n.ai,q=[{lines:Ra(k.text,"\\n"),angle:k.rotation*this.a,font:"FiraGO-Regular",size:k.font.size,lineHeight:k.font.lineHeight,color:q&&q.fillColor||y.spaceLabel.fillColor,x:k.firstLinePos[0],y:k.firstLinePos[1]}],"nokiapuretextac_rg-webfont"===\nk.font.face&&(q[0].size=Math.floor(k.font.size/1.26))):q=null,g.push(n),l&&mn(n,b,[l],q)}}else sn=!0;return sn?void 0:{spatials:g}};r("H.service.venues.Parser.prototype.parse",rn.prototype.parse);function vn(a,b){var c=b||{};if(!(a&&a instanceof wn))throw Error("InvalidArgument: service required");this.Ye=z(this.Ye,this);this.b=new Wm(a,new rn,{min:16,max:20,onSpaceCreated:c.onSpaceCreated});this.b.ia(this);this.Xe=z(this.Xe,this);this.b.addEventListener("update",this.Xe);this.lf=z(this.lf,this);this.b.addEventListener("reload",this.lf);this.kf=z(this.kf,this);this.b.addEventListener("error",this.kf);this.Ze=c.pixelRatio||c.pixelratio||1;this.tileSize=256;this.f=Tg(this.tileSize,this.Ze);\nN.call(this,{min:16,max:20});this.N(new Vg(c.tileCacheSize||256,z(this.Ye,this)))}v(vn,N);r("H.service.venues.TileProvider",vn);p=vn.prototype;p.Ze=1;p.Xe=function(){this.dispatchEvent("update")};p.kf=function(){this.dispatchEvent("error")};p.lf=function(){this.j(!0)};p.Ye=function(a,b){var c,d,e;c=b.a;for(e=c.length;e--;)d=c[e],delete d.Ic[b.key],d.v();b.data&&Fm.push(b.o(),this.tileSize);b.m()};p.Kc=function(a){this.b.Kc(a)};vn.prototype.setCurrentLevel=vn.prototype.Kc;vn.prototype.C=function(){return this.b.j};\nvn.prototype.getCurrentLevel=vn.prototype.C;vn.prototype.c=function(a,b,c,d){var e;this.g.get(this.getTileKey(a,b,c))?d(null,null):e=ym.setTimeout(function(){d(null,null)},500);return{cancel:function(){ym.clearTimeout(e)}}};vn.prototype.requestInternal=vn.prototype.c;vn.prototype.P=function(a,b,c){var d=Fm.pop(this.tileSize),e=this.g.get(this.getTileKey(a,b,c));e||(e=new Om(this.A(a,b,c),a,b,c,this.tileSize,this.Ze,c+this.f,this.b));e.ca(d)||Fm.push(d,this.tileSize);return e};\nvn.prototype.createTileInternal=vn.prototype.P;function wn(a){var b=sm.venues;a=rm(b,a||{});I.call(this);this.f=b.baseUrl;this.c=a.path;this.g=a.subDomain;this.m=b.shards}v(wn,I);r("H.service.venues.Service",wn);var xn={ERROR:-1,INIT:0,READY:1};wn.State=xn;\nwn.prototype.W=function(a,b,c,d,e){this.a=(this.f||e).clone();this.l=this.a.clone().xa("js").R("statics/venues").zf();this.g&&this.a.xa(this.g);this.ra&&this.a.xa(this.ra);this.c&&this.a.mc(this.c);a=sm.venueSignature;b=this.a.clone();b.xa(a.subDomain);b.R(a.path);b.R(a.version);this.v=b;this.o=this.a.clone();this.G===xn.INIT&&this.b();return this};wn.prototype.configure=wn.prototype.W;function Xm(a){return a.G===xn.READY}wn.prototype.aa=function(){return Xm(this)?this.a:void 0};\nwn.prototype.b=function(){var a=this;(new Gh("application/json",this.v.toString())).then(function(b){var c=b.SignatureTokens,d=(b=new Date(b.Expires))?b.getTime()-Aa()-36E5:0;a.a.$(c);b&&4E9>d&&ym.setTimeout(z(a.b,a),Math.max(d,0));yn(a,xn.READY)},function(){yn(a,xn.ERROR,"Error fetching signature")})};\nwn.prototype.j=function(a,b,c){var d=sm.venuesDiscovery;a=this.o.clone().xa(d.subDomain).R(d.path).R(d.version).$(rm(a,d.params));(new Gh("application/json",a.toString())).then(b,function(a){a.json().then(function(a){c(a.status.message)},function(){c(a.statusText)})})};wn.prototype.discover=wn.prototype.j;wn.prototype.i=function(a){return new oh(new vn(this,a))};wn.prototype.createTileLayer=wn.prototype.i;wn.prototype.G=xn.INIT;wn.prototype.getState=function(){return this.G};\nwn.prototype.getState=wn.prototype.getState;function yn(a,b,c){var d=new Bc("statechange",a);c&&(d.errorCode=c);a.G=b;a.dispatchEvent(d)}U.prototype.m=function(a){return this.W(new wn(a))};U.prototype.getVenueService=U.prototype.m;var zn={subDomain:"venue.maps",path:"",shards:Ra("1 2 3 4").map(function(a){return"static-"+a})};sm.venues=zn;sm.venueSignature={version:"v1",subDomain:"signature",path:"venues/signature"};sm.venuesDiscovery={version:"v1",subDomain:"discovery",path:"venues/discovery"};var An={};function fn(a){An.provider=a;return An};function Bn(){this.a={}}Bn.prototype.sb=function(a,b){var c=a+b,d,e,f;if(!(d=this.a[c])){f={size:{w:26,h:32},anchor:{x:13,y:30}};if("CLOSURE"!==a)switch(d=Cn,a){case "CONGESTION":d=d.replace("{{icon}}",Dn);break;case "ROADWORKS":d=d.replace("{{icon}}",En);break;case "ACCIDENT":d=d.replace("{{icon}}",Fn);break;default:d=d.replace("{{icon}}",Gn)}else d=Hn,f.anchor.y=16;e=In[b]||In.BLOCKING;d=d.replace("{{color}}",e);this.a[c]=d=new ri(d,f)}return d};\nvar In={BLOCKING:"#323232",VERYHIGH:"#d5232f",HIGH:"#ffa100"},Dn=\'<path d="m 18,15 0,0 c 0,-0.1 0,-0.2 0,-0.4 l 0,-0.2 c 0,-0.1 0,-0.2 0,-0.4 0,0 0,0 0,0 0.6,0 1.1,-0.4 1.1,-1 0,-0.5 -0.5,-1 -1,-1 -0.7,0 -1.1,0.5 -1.1,1 -0.1,0 -0.3,-0.1 -0.4,-0.1 l -0.6,0 -0.3,-0.5 C 15.2,11.6 14.3,11 13.3,11 L 18,11 17.2,9.6 C 17,9.3 16.7,9 16.3,9 L 12.8,9 C 12.4,9 12,9.3 11.8,9.6 L 11.1,11 9.8,11 C 9.7,11 9.6,11 9.5,11 9.2,11 9,10.9 9,10.6 L 9,10.4 C 9,10.2 9.2,9.9 9.5,9.9 l 1.2,0 0.6,-1.04 c 0.3,-0.5 0.9,-0.9 1.5,-0.9 l 3.5,0 c 0.6,0 1.2,0.4 1.5,0.9 l 0.6,1.04 1.2,0 c 0.2,0 0.4,0.3 0.4,0.5 l 0,0.2 c 0,0.3 -0.2,0.5 -0.4,0.5 l -0.1,0 c 0.3,0.3 0.5,0.7 0.5,1.1 l 0,3.4 c 0,0.2 -0.2,0.4 -0.4,0.4 l -1.1,0 C 18.3,16 18,15.8 18,15.6 L 18,15 z M 8,18.1 c 0.6,0 1.1,-0.5 1.1,-1.1 0,-0.5 -0.5,-1 -1.1,-1 -0.6,0 -1.1,0.5 -1.1,1 0,0.6 0.5,1.1 1.1,1.1 m 7,0 c 0.6,0 1.1,-0.5 1.1,-1.1 0,-0.5 -0.5,-1 -1.1,-1 -0.5,0 -1,0.5 -1,1 0,0.6 0.5,1.1 1,1.1 M 14.2,13.6 C 14,13.3 13.7,13 13.3,13 L 9.8,13 C 9.4,13 9,13.3 8.8,13.6 L 8.1,15 15,15 14.2,13.6 z m -8.2,1 0,-0.2 c 0,-0.2 0.2,-0.5 0.5,-0.5 l 1.1,0 0.7,-1 C 8.6,12.4 9.2,12 9.8,12 l 3.5,0 c 0.6,0 1.2,0.4 1.5,0.9 l 0.6,1 1.2,0 c 0.2,0 0.4,0.3 0.4,0.5 l 0,0.2 c 0,0.3 -0.2,0.5 -0.4,0.5 l -0.1,0 c 0.3,0.3 0.5,0.7 0.5,1.1 l 0,3.4 c 0,0.2 -0.2,0.4 -0.4,0.4 l -1.1,0 C 15.3,20 15,19.8 15,19.6 L 15,19 8,19 8,19.6 C 8,19.8 7.8,20 7.5,20 l -1,0 C 6.2,20 6,19.8 6,19.6 l 0,-3.4 c 0,-0.4 0.2,-0.8 0.6,-1.1 l -0.1,0 C 6.2,15.1 6,14.9 6,14.6" fill="#ffffff" />\',\nEn=\'<path d="m 9.24,13.2 -3.7,6.8 1.3,0 2.8,-5.1 1.36,1.5 0,3.6 1.1,0 0,-4 -1.4,-1.6 -1.46,-1.2 z M 14.2,9.5 c 0.7,0 1.3,-0.5 1.3,-1.21 0,-0.7 -0.6,-1.2 -1.3,-1.2 -0.7,0 -1.2,0.5 -1.2,1.2 0,0.71 0.5,1.21 1.2,1.21 m -4.46,0.5 1.06,0 -0.96,2.1 -1,-0.8 0.9,-1.3 z m 2.56,4 -1,-0.7 1,-1.9 0,2.6 z m 6.9,1.7 c -0.4,-0.5 -1.5,-1.1 -2.3,0 -0.2,0.3 -0.6,0.7 -0.9,1.2 l -2.7,-2.1 0,-5 -0.8,-0.7 -3.26,0 -1.5,2.3 7.86,6 C 14.7,18.6 13.8,20 13.8,20 l 6,0 1.5,-1.6 c 0,0 -1.7,-2.2 -2.1,-2.7" fill="#ffffff" />\',Fn=\n\'<path d="m 10.2,15.9 c 0.4,-0.5 1,-0.5 1.4,0 0.5,0.4 0.5,1 0,1.4 -0.4,0.4 -1,0.4 -1.4,0 -0.45,-0.4 -0.45,-1 0,-1.4 m 4.9,-5 c 0.4,-0.4 1.1,-0.4 1.5,0 0.4,0.4 0.4,1.1 0,1.5 -0.4,0.4 -1.1,0.4 -1.5,0 -0.4,-0.4 -0.4,-1.1 0,-1.5 m 2.6,3.8 c 0.1,0.3 0,0.7 -0.3,1 l -1.9,1 c 0,0 0,0.8 0,1.1 0,0.3 0,0.2 -0.1,0.3 -0.1,0.1 -0.3,0.2 -0.5,0.2 l -2.6,-0.3 4.9,-4.9 0.5,1.6 z m -6.5,5 0.1,0.2 c 0.2,0.1 0.5,0.1 0.7,0 l 0.8,-0.9 1.8,0.1 c 1.1,0 1.4,0 1.7,-0.6 l 0.1,-1.3 1.8,-0.8 c 0.4,-0.4 0.6,-1.1 0.4,-1.7 l -0.3,-1.1 0.8,-0.8 c 0.2,-0.2 0.2,-0.5 0,-0.7 L 19,12 c -0.2,-0.2 -0.5,-0.2 -0.7,0 l -0.1,0.1 c 0.1,-0.5 -0.1,-0.9 -0.4,-1.3 L 15.5,8.44 C 15.3,8.26 15,8.26 14.8,8.44 l -0.7,0.74 c -0.2,0.19 -0.2,0.49 0,0.68 l 0.3,0.34 -4.92,5 -0.36,-0.4 C 8.93,14.6 8.63,14.6 8.45,14.8 L 7.7,15.6 c -0.18,0.1 -0.18,0.4 0,0.6 l 2.4,2.4 c 0.3,0.3 0.7,0.4 1.2,0.4 l -0.1,0.1 c -0.2,0.2 -0.2,0.5 0,0.7 m 5.6,-0.8 3.9,0 1.6,-2 -5.5,2 z m -8.08,0 -3.28,-1.8 0.9,1.8 2.38,0 z" fill="#ffffff" />\',\nGn=\'<path d="m 12.9,15.1 c 0.6,0 1.1,-0.5 1.1,-1 l 0.4,-5.9 c 0,-0.6 -0.6,-1.04 -1.5,-1.04 -0.8,0 -1.4,0.44 -1.4,1.04 l 0.3,5.9 c 0,0.5 0.6,1 1.1,1 m 0,1.3 c -0.7,0 -1.3,0.6 -1.3,1.3 0,0.8 0.6,1.4 1.3,1.4 0.8,0 1.4,-0.6 1.4,-1.4 0,-0.7 -0.6,-1.3 -1.4,-1.3" fill="#ffffff" />\',Cn=\'<svg width="26" height="32" xmlns="http://www.w3.org/2000/svg"><path d="m 16.8,29.4 c 0,-1.1 -1.8,-2 -4,-2 -2.2,0 -4.01,0.9 -4.01,2 0,1.1 1.81,2 4.01,2 2.2,0 4,-0.9 4,-2" style="fill:#878787"/><path d="m 24.1,17.8 c 1.6,-1.6 1.6,-3.8 0,-5.7 L 15.8,1.9 C 15,0.998 14,0.498 12.9,0.498 11.8,0.498 10.7,1.1 10,1.9 L 1.7,12.1 c -1.6,1.9 -1.6,4.1 0,5.7 L 12.9,29 24.1,17.8 z" stroke="#fff" stroke-width="1" fill="{{color}}" />{{icon}}</svg>\',\nHn=\'<svg width="26" height="32" xmlns="http://www.w3.org/2000/svg"><circle cx="13" cy="15" r="11" fill="{{color}}" stroke="#ffffff" stroke-width="1"/><rect x="6" y="13" width="14" height="5" fill="#ffffff" /></svg>\';function Jn(a,b,c){c=c?c:{};c.criticality||(c.criticality="major,critical");if(!(a instanceof um))throw Error("IllegalArgument: service");eh.call(this,{max:20,min:8,requestData:z(this.wa,this)});this.I=new Bn;this.P=a;this.b=c;this.j=z(this.j,this);this.U=setInterval(this.j,b||18E4)}v(Jn,eh);r("H.service.TrafficIncidentsProvider",Jn);Jn.prototype.f={minor:"HIGH","low impact":"HIGH",major:"VERYHIGH",critical:"BLOCKING"};\nJn.prototype.wa=function(a,b,c,d,e){var f=this,g=this.f,h=this.I;return this.P.b(a,b,c,function(a){var b=[];a=a.TRAFFIC_ITEMS;var c,e,q,t;if(a)for(a=a.TRAFFIC_ITEM,t=a.length;t--;){c=a[t];e=c.TRAFFIC_ITEM_TYPE_DESC;switch(e){case "ACCIDENT":case "CONGESTION":q=e;break;case "CONSTRUCTION":q="ROADWORKS";break;default:q="OTHER"}q=h.sb(q,g[c.CRITICALITY.DESCRIPTION]);e=c.LOCATION.GEOLOC.ORIGIN;e=new xi({lat:e.LATITUDE,lng:e.LONGITUDE},{provider:f,icon:q});e.g(c);b.push(e)}d(b)},e,this.b)};\nJn.prototype.J=function(){eh.prototype.J.call(this);clearInterval(this.U)};function Kn(a){var b;if(a)for(this.a={},b=a.length;b--;)this.a[a[b]]=!0;this.hh={}}var Ln;Kn.prototype.a={};Kn.prototype.parse=function(a,b,c){var d,e,f,g,h,k;Ln=!1;try{c=ym.JSON.parse(c)}catch(l){Ln=!0}if(c&&(d=c.metadata))for(e in k={spatials:[]},d){if(c=!this.a[e]&&(f=Mn[e]))(g=d[e])||(Ln=!0,g=void 0),c=g;if(c)for(c=g.length;c--;){var m;(m=g[c])||(Ln=!0,m=void 0);(h=m)&&f(b,a,this,e,h,k)}}else Ln=!0;return Ln?void 0:k};r("H.service.metaInfo.Parser.prototype.parse",Kn.prototype.parse);\nvar Mn={"street labels":function(a,b,c,d,e,f){var g;(g=e.vertices)||(Ln=!0,g=void 0);if(g){var h=g.length,k,l,m;(l=0<h)||(Ln=!0,l=void 0);if(l)for(k=Array(h/2);h;)m=g[--h],l=g[--h],k[h/2]=new M(l,m);k=k?{Ra:[k]}:A;h=+e["font size"]/a.Wb;g=c.hh[h];g||(Nn.lineWidth=h,g=c.hh[h]=c.hb.f(Nn));On(a,b,k,!1,g,e,d,f)}delete e.vertices},"city center labels":function(a,b,c,d,e,f){On(a,b,Pn(e,new Sf([])),!0,c.hb,e,d,f)},labels:function(a,b,c,d,e,f){var g;(g=e["bounding boxes"])||(Ln=!0,g=void 0);if(g){for(var h=\ng.length,k=new Sf([]),l;h--;){var m;(m=g[h])||(Ln=!0,m=void 0);(l=m)&&Pn(l,k)}On(a,b,k,!0,c.hb,e,d,f)}delete e["bounding boxes"]},buildings:function(a,b,c,d,e,f){var g=e.id,h=b.lc[g],k,l,m,n=[],q=[];(k=e)||(Ln=!0,k=void 0);if(k&&((l=k.vertices)||(Ln=!0,l=void 0),l)){var t;(t=k.polygons)||(Ln=!0,t=void 0);(m=t)&&n.push.apply(n,Qn(l,m));(k=k.outlines)||(Ln=!0,k=void 0);(m=k)&&q.push.apply(q,Qn(l,m))}m=n.length;n.push.apply(n,q);q=new Sf(n,Lb,m);(n=n.length)||(Ln=!0,n=void 0);n&&(h?(mn(h,a,[q]),f.spatials.push(h)):\n(h=On(a,b,q,!0,c.hb,e,d,f,g),b.V(h)))}};Mn["transit stops"]=Mn.POIs=Mn.labels;var Rn=["box 2","box 1","annotation box","icon box"];function Pn(a,b){for(var c=Rn.length,d,e;c--;)if(d=Rn[c],e=a[d]){var f=e[0],g=e[1],h=e[2];e=e[3];b.Ra.push([new M(f,g),new M(f+h,g),new M(f+h,g+e),new M(f,g+e)]);delete a[d]}return b}\nfunction Qn(a,b){var c=b.length,d,e,f,g,h;if(0<c)for(e=Array(c);c--;)if((d=b[c])||(Ln=!0,d=void 0),d&&(g=d.length,0<g))for(e[c]=f=Array(g);g--;)h=2*d[g],f[g]=new M(a[h],a[h+1]);return e||[]}var Sn={};function On(a,b,c,d,e,f,g,h,k){Sn.style=e;d=new hn(b,d,k,Sn);c&&mn(d,a,[c]);Tn(f);f.category=g;d.g(f);h.spatials.push(d);d.ia(b);return d}Kn.prototype.hb=new zf({strokeColor:"transparent",fillColor:"transparent",lineWidth:0});var Nn={};\nfunction Tn(a){var b,c=!1;switch(typeof a){case "object":if(a instanceof Array)for(b=a.length;b--;)Tn(a[b])?c=!0:delete a[b];else if(a)for(b in a)Tn(a[b])?c=!0:delete a[b];break;case "number":c=!0;break;default:c=!!a}return c};function Un(a,b,c){c=c||{};b=b||{};var d=c.tileType||"maptile",e=c.aj||"normal.day";N.call(this,{min:0,max:20});!0===b.pois&&(b.pois="!F");this.b=b;if(!(a&&a instanceof Vn))throw Error("InvalidArgument: service required");this.O=a;this.I=z(this.I,this);this.O.addEventListener("versionupdate",this.I);this.f=a.aa().clone().R(d+"/"+a.Cb()+"/"+e).$(this.ea).$(b);this.Ua=a.g||null;this.wa=c.pixelRatio||c.pixelratio||1;this.tileSize=c.tileSize||256;this.tileType=d;this.scheme=e;this.C=new Qm(new Kn(c.categoryFilter));\nthis.C.ia(this);this.U=z(this.U,this);this.C.addEventListener("update",this.U);N.call(this,{min:0,max:20});this.N(new Vg(c.tileCacheSize||256,z(this.Xa,this)))}v(Un,N);r("H.service.metaInfo.TileProvider",Un);Un.prototype.Xa=function(a,b){for(var c=b.a,d=c.length,e;d--;)e=c[d],delete e.Ic[b.key],e.v();b.data&&(Fm.push(b.o(),this.tileSize),b.m())};Un.prototype.U=function(){this.dispatchEvent("update")};\nUn.prototype.c=function(a,b,c,d,e){var f=this.f.clone(),g=this.Ua,h=this.tileSize,k=this.getTileKey(a,b,c),k=this.g.get(k),l,m,n;k&&!k.yc()?(d(Fm.pop(this.tileSize),null),l={cancel:function(){}}):(g&&f.xa(g[(c+b+a)%g.length]),f.R(c+"/"+a+"/"+b+"/"+h+"/png8"),m=ym.setTimeout(function(){n=(new Gh("text/plain",f.toString())).then(function(a){d(null,a)},e)},500));return l||{cancel:function(){n?n.cancel():ym.clearTimeout(m)}}};Un.prototype.requestInternal=Un.prototype.c;\nUn.prototype.P=function(a,b,c,d,e){var f=this.C,g;g=d||Fm.pop(this.tileSize);if(d)a=this.g.get(this.getTileKey(a,b,c)),a.ca(d);else if(d=a=new Yk(this.A(a,b,c),a,b,c,this.tileSize,this.wa,c+0,f),delete d.i,d.v=e,a.ca(g))for(e=a.a,g=e.length;g--;)e[g].Ib();else Fm.push(g,this.tileSize);return a};Un.prototype.createTileInternal=Un.prototype.P;Un.prototype.J=function(){this.C.J();this.O.removeEventListener("versionupdate",this.I);N.prototype.J.call(this)};\nUn.prototype.I=function(){var a=this.O;this.f=a.aa().clone().R(this.tileType+"/"+a.Cb()+"/"+this.scheme).$(this.ea).$(this.b);this.j(!1)};Un.prototype.ea={metadata:"metaonly",mgen:"2"};function Vn(a){a=rm(sm.maptile,a||{});I.call(this);this.f=a.baseUrl;this.c=a.path;this.i=a.subDomain;this.g=a.shards;this.ra=(this.v=!!a.ignoreTypes)?null:a.type;this.b=a.version;this.m=new vm}v(Vn,I);r("H.service.metaInfo.Service",Vn);function Wn(a,b){for(var c={},d=a[b+"s"][b],e=d.length;e--;)c[d[e].id]=d[e];a[b+"s"]=c}Vn.prototype.W=function(a,b,c,d,e){this.a=(this.f||e).clone();this.i&&this.a.xa(this.i);this.ra&&this.a.xa(this.ra);this.c&&this.a.mc(this.c);"newest"===this.b&&Xn(this);return this};\nVn.prototype.configure=Vn.prototype.W;Vn.prototype.aa=function(){return this.a};Vn.prototype.Cb=function(){return this.b};Vn.prototype.getVersion=Vn.prototype.Cb;Vn.prototype.Ia=function(){return this.m};Vn.prototype.getCopyrights=Vn.prototype.Ia;\nfunction Xn(a){var b=a.aa().clone().R("info").$({output:"json"});a.g&&b.xa(a.g[0]);om({url:b,xd:"callback_func",oc:function(b){b=JSON.parse(b.replace(/,\\s?\\]/g,"]")).response;var d;Wn(b,"map");Wn(b,"scheme");Wn(b,"tiletype");Wn(b,"format");Wn(b,"resolution");Wn(b,"language");if("newest"===a.b&&"traffic"!==a.ra)for(d in b.maps)b.maps[d].hash&&b.maps[d].newest&&(a.b=b.maps[d].hash,a.dispatchEvent("versionupdate"));a.l=b;a.dispatchEvent("infoupdate")},Zc:function(a){throw Error("["+a+"]: Could not fetch meta-info from map tile service @"+\nb.toString());},rf:!0})}Vn.prototype.s=function(){return this.l};Vn.prototype.getInfo=Vn.prototype.s;Vn.prototype.o=function(a,b,c,d,e,f){return new Un(this,d,{tileSize:a,pixelRatio:b,categoryFilter:c,tileType:e,scheme:f})};Vn.prototype.createTileProvider=Vn.prototype.o;Vn.prototype.j=function(a,b,c,d,e,f){a=this.o(a,b,c,d,e,f);return new oh(a)};Vn.prototype.createTileLayer=Vn.prototype.j;\nU.prototype.j=function(a){var b;b=rm(sm.metainfotile,a||{});var c;c=""+(b.ignoreTypes?"":b.type);c+=b.path;c+=b.subDomain;c+=b.baseUrl;c+=b.shards?b.shards.join(""):"";b=xm(c);c=this.a["meta"+b];c||(c=this.W(new Vn(a)),this.a["meta"+b]=c);return c};U.prototype.getMetaInfoService=U.prototype.j;sm.metainfotile={type:"base",version:"newest",subDomain:"maps",path:"maptile/2.1",shards:["1","2","3","4"]};U.prototype.F=function(a,b,c,d,e,f){var g=this.b(),h=this.b({type:"aerial"}),k=this.b({type:"traffic"}),l=this.b({type:"pano"}),m=this.j(),n=this.o(),q=this.m(),t={},u={crossOrigin:"anonymous"},y;"object"===typeof a&&(f=a,u.crossOrigin="crossOrigin"in f?f.crossOrigin:"anonymous",a=f.tileSize,b=f.ppi,c=f.lg,d=f.lg2,e=f.style,f=f.pois);a=a||256;y=320===b?2:1;320===b&&(t.ppi=b);c&&(t.lg=c);d&&(t.lg2=d);e&&(t.style=e);f&&(t.pois=f);b=new Jn(n,void 0,c?t:null);this.U=new uh(b);return{normal:{xbase:g.b("xbasetile",\n"normal.day",a,"png8",t,1,!1,u),xbasenight:g.b("xbasetile","normal.night",a,"png8",t,1,!1,u),base:g.b("basetile","normal.day",a,"png8",t,1,!1,u),basenight:g.b("basetile","normal.night",a,"png8",t,1,!1,u),map:g.b("maptile","normal.day",a,"png8",t,1,!1,u),mapnight:g.b("maptile","normal.night",a,"png8",t,1,!1,u),traffic:k.b("traffictile","normal.day",a,"png8",t,1,!1,u),trafficnight:k.b("traffictile","normal.night",a,"png8",t,1,!1,u),transit:g.b("maptile","normal.day.transit",a,"png8",t,1,!1,u),panorama:l.b("rctile",\n"normal.day",a,"png8",t,1,!1,u),panoramanight:l.b("rctile","normal.night",a,"png8",t,1,!1,u),labels:g.b("labeltile","normal.day",a,"png",t,1,!1,u),metaInfo:m.j(a,y,["buildings"],t)},satellite:{xbase:h.b("xbasetile","hybrid.day",a,"jpg",t,1,!0,u),base:h.b("basetile","hybrid.day",a,"jpg",t,1,!0,u),map:h.b("maptile","hybrid.day",a,"jpg",t,1,!0,u),traffic:k.b("traffictile","hybrid.day",a,"jpg",t,1,!0,u),panorama:l.b("rctile","hybrid.day",a,"jpg",t,1,!0,u),labels:h.b("labeltile","hybrid.day",a,"png",t,\n1,!0,u)},terrain:{xbase:h.b("xbasetile","terrain.day",a,"jpg",t,1,!1,u),base:h.b("basetile","terrain.day",a,"jpg",t,1,!1,u),map:h.b("maptile","terrain.day",a,"jpg",t,1,!1,u),traffic:k.b("traffictile","terrain.day",a,"jpg",t,1,!1,u),panorama:l.b("rctile","terrain.day",a,"jpg",t,1,!1,u),labels:h.b("labeltile","terrain.day",a,"png",t,1,!1,u)},incidents:this.U,venues:q.i({tileSize:a,pixelRatio:y})}};U.prototype.createDefaultLayers=U.prototype.F;function Yn(a){a=rm(sm.routing,a);a.callbackKey="jsoncallback";Yn.u.constructor.call(this,a)}v(Yn,pm);r("H.service.RoutingService",Yn);Yn.prototype.W=function(a,b,c,d,e){Yn.u.W.apply(this,[a,b,c,d,e]);this.f&&(this.a=this.f.clone(),this.a.$({app_id:a,app_code:b}));return this};Yn.prototype.configure=Yn.prototype.W;Yn.prototype.g=function(a,b,c){a=this.aa().clone().R("calculateroute.json").$(a);qm(this,a,b,c)};Yn.prototype.calculateRoute=Yn.prototype.g;\nYn.prototype.b=function(a,b,c){a=this.aa().clone().xa("isoline").R("calculateisoline.json").$(a);qm(this,a,b,c)};Yn.prototype.calculateIsoline=Yn.prototype.b;sm.routing={subDomain:"route",path:"routing/7.2"};U.prototype.O=function(a){return this.W(new Yn(a))};U.prototype.getRoutingService=U.prototype.O;function Zn(a){a=rm(sm.geocoding,a);a.callbackKey="jsoncallback";Zn.u.constructor.call(this,a);this.b=a.reverseSubDomain}v(Zn,pm);r("H.service.GeocodingService",Zn);Zn.prototype.W=function(a,b,c,d,e){Zn.u.W.apply(this,[a,b,c,d,e]);this.f&&(this.a=this.f.clone(),this.a.$({app_id:a,app_code:b}));return this};Zn.prototype.configure=Zn.prototype.W;Zn.prototype.g=function(a,b,c){a=this.aa().clone().R("geocode.json").$(a);return qm(this,a,b,c)};Zn.prototype.geocode=Zn.prototype.g;\nZn.prototype.l=function(a,b,c){a=this.aa().clone().R("reversegeocode.json").$(a);this.b&&a.xa(this.b);return qm(this,a,b,c)};Zn.prototype.reverseGeocode=Zn.prototype.l;Zn.prototype.i=function(a,b,c){a=this.aa().clone().R("search.json").$(a);return qm(this,a,b,c)};Zn.prototype.search=Zn.prototype.i;sm.geocoding={subDomain:"geocoder",path:"6.2",reverseSubDomain:"reverse"};U.prototype.I=function(a){return this.W(new Zn(a))};U.prototype.getGeocodingService=U.prototype.I;function $n(a){a=rm(sm.places,a);a.callbackKey="callback";$n.u.constructor.call(this,a)}v($n,pm);r("H.service.PlacesService",$n);$n.EntryPoint={SEARCH:"discover/search",SUGGEST:"suggest",EXPLORE:"discover/explore",AROUND:"discover/around",HERE:"discover/here",CATEGORIES:"categories/places"};$n.prototype.b=function(a,b,c,d){b=b||{};a=this.aa().clone().R(a).$(b);return qm(this,a,c,d)};$n.prototype.request=$n.prototype.b;$n.prototype.m=function(a,b,c){return this.b("discover/search",a,b,c)};\n$n.prototype.search=$n.prototype.m;$n.prototype.v=function(a,b,c){return this.b("suggest",a,b,c)};$n.prototype.suggest=$n.prototype.v;$n.prototype.l=function(a,b,c){return this.b("discover/explore",a,b,c)};$n.prototype.explore=$n.prototype.l;$n.prototype.g=function(a,b,c){return this.b("discover/around",a,b,c)};$n.prototype.around=$n.prototype.g;$n.prototype.j=function(a,b,c){return this.b("discover/here",a,b,c)};$n.prototype.here=$n.prototype.j;\n$n.prototype.i=function(a,b,c){return this.b("categories/places",a,b,c)};$n.prototype.categories=$n.prototype.i;$n.prototype.o=function(a,b,c,d){a=km(a);d&&a.$(d);return qm(this,a,b,c)};$n.prototype.follow=$n.prototype.o;sm.places={subDomain:"places",path:"places/v1"};U.prototype.P=function(){return this.W(new $n)};U.prototype.getPlacesService=U.prototype.P;function ao(a){a=rm(sm.enterpriseRouting,a);a.callbackKey="jsoncallback";if(!B(a.baseUrl,S))throw new C(ao,0,"Invalid base url");this.i=a;ao.u.constructor.call(this,a)}v(ao,pm);r("H.service.EnterpriseRoutingService",ao);ao.prototype.j=function(a,b,c){a=this.aa().clone().R("calculateroute.json").$(a);qm(this,a,b,c)};ao.prototype.calculateRoute=ao.prototype.j;ao.prototype.g=function(a,b,c){a=this.aa().clone().R("getroute.json").$(a);qm(this,a,b,c)};ao.prototype.getRoute=ao.prototype.g;\nao.prototype.b=function(a,b,c){a=this.aa().clone().R("getlinkinfo.json").$(a);qm(this,a,b,c)};ao.prototype.getLinkInfo=ao.prototype.b;ao.prototype.l=function(a,b,c){a=this.aa().clone().R("calculateisoline.json").$(a);qm(this,a,b,c)};ao.prototype.calculateIsoline=ao.prototype.l;ao.prototype.W=function(a,b,c,d,e){var f,g=sm.enterpriseRouting;this.i.baseUrl===g.baseUrl&&e&&(f=e.clone(),f.nd(g.host||g.baseUrl.vc),d&&f.xa(g.citSubDomain));return pm.prototype.W.apply(this,[a,b,c,d,f])};\nao.prototype.configure=ao.prototype.W;var bo={subDomain:"route",path:"routing/6.2",baseUrl:new S("http","nlp.nokia.com"),host:"nlp.nokia.com",citSubDomain:"st"};sm.enterpriseRouting=bo;U.prototype.K=function(a){return this.W(new ao(a))};U.prototype.getEnterpriseRoutingService=U.prototype.K;function co(){}r("H.service.extension.dataView.ITable",co);co.prototype.getMeta=co.prototype.cd;co.prototype.getRowCount=co.prototype.g;co.prototype.getRow=co.prototype.Qb;co.prototype.getColumnNames=co.prototype.c;co.prototype.getColumn=co.prototype.l;co.prototype.getCell=co.prototype.f;co.prototype.concat=co.prototype.concat;function eo(){}r("H.service.extension.dataView.IRow",eo);eo.prototype.getColumnNames=eo.prototype.c;eo.prototype.getCell=eo.prototype.a;eo.prototype.getTable=eo.prototype.uc;function fo(a,b){this.b=a;this.f=b}r("H.service.extension.dataView.ObjRow",fo);fo.prototype.c=function(){return this.b.c()};fo.prototype.getColumnNames=fo.prototype.c;fo.prototype.a=function(a){return this.b.f(this.f,a)};fo.prototype.getCell=fo.prototype.a;fo.prototype.uc=function(){return this.b};fo.prototype.getTable=fo.prototype.uc;function go(){}r("H.service.extension.dataView.IColumn",go);go.prototype.getCell=go.prototype.a;function ho(a,b){this.c=a;this.b=b}r("H.service.extension.dataView.ObjColumn",ho);ho.prototype.a=function(a){return this.c.f(a,this.b)};ho.prototype.getCell=ho.prototype.a;function io(a,b,c){var d;b=b||(a&&a.length?Object.keys(a[0]):A);this.cb=a;if(b)for(this.qc=b,this.we=a=Ka(),d=b.length;d--;)a[b[d]]=!0;c!==A&&(this.cf=c)}r("H.service.extension.dataView.ObjTable",io);p=io.prototype;p.cf=A;p.cb=A;p.qc=A;p.we=A;p.cd=function(){return this.cf};io.prototype.getMeta=io.prototype.cd;io.prototype.g=function(){return this.cb?this.cb.length:0};io.prototype.getRowCount=io.prototype.g;io.prototype.Qb=function(a){var b=this.cb;return b&&b[a]?new fo(this,a):A};\nio.prototype.getRow=io.prototype.Qb;io.prototype.c=function(){return this.qc||De};io.prototype.getColumnNames=io.prototype.c;io.prototype.l=function(a){return this.we[a]?new ho(this,a):A};io.prototype.getColumn=io.prototype.l;io.prototype.f=function(a,b){var c=this.cb;return(c=c&&this.we[b]&&c[a])&&c[b]};io.prototype.getCell=io.prototype.f;\nio.prototype.concat=function(){var a=arguments.length,b,c=this.qc,d=""+this.qc,e=(this.cb||[]).slice(),f;for(b=0;b<a;b++){f=arguments[b];if(!(f instanceof io))throw new C(this.concat,b);if(f.cb){if(c&&""+f.qc!==d)throw new C(this.concat,b,"Incompatible columns!");e=e.concat(f.cb)}}return new io(e,this.qc,this.cf)};io.prototype.concat=io.prototype.concat;function jo(a,b){a.cb?a.cb.push(b):a.cb=[b];return a.cb.length-1};function ko(a,b,c,d){if(!a||!ra(we(a.layerId,a.layer))||!ab(a.level)||Ta(a.rowFilter)&&!sa(a.rowFilter)||Ta(a.rowFilterContext)&&!Pa(a.rowFilterContext))throw new C(b,c,Ta(d)?d:a);};function lo(a,b,c){var d;B(a,mo,lo,0,"has invalid type");B(b,G,lo,1,"has invalid type");if(!Za(c))throw new C(lo,2,"has invalid type");for(d=0;d<c.length;d++)ko(c[d],lo,2,"has invalid type");lo.u.constructor.call(this);this.a=b;this.b=c;(new Lh).md(no,"H.service.extension.worker.processor");a=a.aa().clone().R(oo+"."+po).$({meta:"1"});new Nh(no,{message:[qo,0,{serverUrl:a.toString()}]})}v(lo,I);r("H.service.extension.platformData.SearchRequest",lo);\nlo.prototype.send=function(){var a=no,b=qo,c=[],d,e,f,g=this;for(f=0;f<this.b.length;f++)d=this.b[f],c.push({layerId:we(d.layerId,d.layer),level:d.level,rowFilter:Ta(d.rowFilter)?d.rowFilter+"":A,rowFilterContext:d.rowFilterContext,columns:d.columns});e=[this.a.ka,this.a.ga,this.a.ja,this.a.ha,c];this.c=w.setTimeout(function(){(new Nh(a,{message:[b,2,e]})).then(z(ro,g),z(so,g))},1)};lo.prototype.send=lo.prototype.send;lo.prototype.cancel=function(){w.clearTimeout(this.c)};lo.prototype.cancel=lo.prototype.cancel;\nfunction ro(a){var b,c;for(c=0;c<a.length;c++){b=a[c].Rows;for(var d=b.length,e=void 0;d--;)e=b[d],e.geometry&&(e.geometry=[e.geometry.path]);b=new io(b,null,a[c].Meta);this.dispatchEvent(new Cc("data",b))}this.dispatchEvent(new Bc("end"))}function so(a){this.dispatchEvent(new Dc("error",a))}var no="pde",qo="pdeSearchRequestProvider";function to(a,b,c){var d=uo,e=a===d.POLYGON,f=a===d.POLYLINE;this.b=b;this.c=c||sc;(this.a=f||e)?this.l=e:this.g=a===d.MARKER;this.f=this.a?"$HProjGeometry":"geometry"}\nto.prototype.parse=function(a,b,c){var d,e,f,g,h,k={},l=[],m,n,q,t;m=0;for(n=c.length;m<n;m++)if(d=c[m],q=d.Rows,d=q.length)for(e=Object.keys(q[0]).filter(function(a){return"geometry"!==a&&"$HProjGeometry"!==a}),e=new io(q,e),t=0;t<d;t++)if(f=q[t],h=f[this.f]){if(delete f[this.f],f=e.Qb(t))try{this.a?g=vo(this,a,b,f,h):g=wo(this,a,f,h.path),g.ia(a),l.push(g)}catch(u){this.c(u.message)}}else this.c("Layer must contain geometries");k[this.a?"spatials":this.g?"markers":"domMarkers"]=l;return k};\nfunction vo(a,b,c,d,e){var f=[],g=e.paths,h=g.length,k=0,l=a.b&&a.b(d);for(a=new hn(b,a.l,A,{style:l||a.i,data:d});k!==h;)f.push(xo(g[k++]));mn(a,c,[new Sf(f,e.interiorsIndex,e.outlinesIndex)]);return a}function wo(a,b,c,d){d=new gc(d[0],d[1]);var e=a.b&&a.b(c);a.g?(a={icon:e,data:c,provider:b},a=new xi(d,a)):(a={icon:e,data:c,provider:b},a=new fh(d,a));return a}function xo(a){for(var b=0,c=a.length,d=[];b<c;)d.push(new M(a[b++],a[b++]));return d};function yo(a){a=a||{};var b=a.tileCacheSize||1024,c=a.resultType,d=a.styleCallback,e=uo;Ta(a.min)||(a.min=12);yo.u.constructor.call(this,a);if(-1===zo.indexOf(c))throw new C(yo,2,"invalid resultType");this.b=c;if(d&&!sa(d))throw new C(yo,2,"invalid style callback");this.ea=d;this.U=a.pixelRatio||1;this.f=z(this.f,this);this.N(new Vg(b,z(this.fi,this)));this.createTileInternal=c===e.POLYLINE||c===e.POLYGON?z(this.Nh,this):z(this.Mh,this)}v(yo,N);r("H.service.extension.TileProvider",yo);\nyo.prototype.I=!1;var Ao=ri.prototype.Pc.READY;yo.prototype.o=function(a,b,c,d){return this.I?yo.u.o.call(this,a,b,c,d):A};yo.prototype.requestTile=yo.prototype.o;yo.prototype.f=function(a){a=ra(a)?a:a+"";this.dispatchEvent(new Dc("error",a,this))};yo.prototype.l=function(){return this.b===uo.MARKER};yo.prototype.providesMarkers=yo.prototype.l;yo.prototype.i=function(){return this.b===uo.DOM_MARKER};yo.prototype.providesDomMarkers=yo.prototype.i;\nyo.prototype.s=function(){return this.b===uo.POLYLINE||this.b===uo.POLYGON};yo.prototype.providesSpatials=yo.prototype.s;function Bo(a){a.C||(a.O||(a.O=a.P(a.b,a.ea,a.f)),a.C=new Qm(a.O),a.C.ia(a),a.C.addEventListener(a.F.la,z(a.ei,a)),a.C.P=!0);return a.C}p=yo.prototype;\np.Mh=function(a,b,c,d){var e=this.getTileKey(a,b,c),e=this.g.get(e),f=this.b==uo.DOM_MARKER,g=[],h=Bo(this);e?e.valid=!0:(a=e=new $g(a,b,c,x),delete a.i,a.v=d);d=f?Um(h,e,"domMarkers"):Um(h,e,"markers");for(b=d.length;b--;)a=d[b],a.If=e,(f||a.sb().getState()===Ao)&&g.push(a);e.data=g;return e};p.ei=function(a){if(a=a.target.If)a.valid=!1};\np.Nh=function(a,b,c,d){var e=Bo(this),f,g=this.getTileKey(a,b,c),h=this.g.get(g);f=Fm.pop(this.tileSize);h||(a=h=new Yk(g,a,b,c,this.tileSize,this.U,c,e),delete a.i,a.v=d);h.ca(f)||Fm.push(f,this.tileSize);return h};p.fi=function(a,b){var c,d;c=uo;if(this.b===c.POLYLINE||this.b===c.POLYGON){c=b.a;for(d=c.length;d--;)delete c[d].Ic[b.key];b.data&&(Fm.push(b.o(),this.tileSize),b.m())}else for(c=b.data,d=c.length;d--;)delete c[d].If};p.D=function(){yo.u.D.call(this);Bo(this).J()};\nvar uo={MARKER:0,DOM_MARKER:1,POLYLINE:2,POLYGON:3};yo.ResultType=uo;var zo=[uo.MARKER,uo.DOM_MARKER,uo.POLYLINE,uo.POLYGON];function Do(a,b,c){var d=this,e=b&&b.rowFilter,f=c.resultType,g=uo;Do.u.constructor.call(this,c);B(a,mo,Do,0);ko(b,Do,1,"invalid layer config");e?(c=Qa(b),c.rowFilter=e.toString()):c=Qa(b);delete c.layer;c.layerId=we(b.layerId,b.layer);(new Lh).md("pde","H.service.extension.worker.processor");a=a.aa().clone().R(oo+"."+po).$({meta:1});(new Nh("pde",{message:[this.uid,0,{tileSize:this.tileSize,projected:!0,onlyOutline:f===g.POLYLINE,serverUrl:a.toString(),layerConfigs:[c]}]})).then(function(){d.I=\n!0;Rg(d)},this.f)}v(Do,yo);r("H.service.extension.platformData.TileProvider",Do);Do.prototype.P=function(a,b,c){a=new to(a,b,c);a.i=Eo;return a};var Eo=new zf({strokeColor:"transparent",fillColor:"transparent",lineWidth:0,lineJoin:"round",lineCap:"round"});\nDo.prototype.c=function(a,b,c,d,e){var f=this,g=this.getTileKey(a,b,c),h,g=this.g.get(g),k={cancel:sc},l=!0,m,n=uo;g&&(this.b===n.POLYLINE||this.b===n.POLYGON?g.yc()||(d(Fm.pop(this.tileSize),null),l=!1):(d(x),l=!1));l&&(m=ym.setTimeout(function(){h=new Nh("pde",{message:[f.uid,1,[a,b,c]]});h.then(d,e)},500),k.cancel=function(){h?h.cancel():ym.clearTimeout(m)});return k};Do.prototype.requestInternal=Do.prototype.c;Do.prototype.D=function(){Do.u.D.call(this);new Nh("pde",{message:[this.uid,3]})};\nDo.ResultType=uo;function Fo(a,b,c,d,e,f){Go(Fo,1,b,c);Go(Fo,2,d,e);(this.f=a.length)?(this.m=a,this.o=b,this.i=c,this.b=0,this.c=z(this.c,this),this.j=d,this.l=e,this.a=Ka(),Ca(this.a,Ho,f||{}),this.g={},w.setTimeout(this.c,0)):b(De,!0)}var Ho={duration:100,Yh:"geometry",Xh:"WKT",Ai:"searchAttributes",cg:A};\nFo.prototype.c=function(){var a,b,c,d=[];a=!1;for(var e=tj(),f;this.b<this.f;){b=this.m[this.b];a=b.attributes;f=b.layerId||this.a.cg;b.distance&&(a[this.a.Ai]={nearest:new gc(b.nearestLat,b.nearestLon),distance:b.distance});if(b=b[this.a.Yh]){try{c=ug(new Pg(b))}catch(g){this.i(new w.Error(g.message));a=!0;break}a[this.a.Xh]=c}(b=this.g[f])||(b=this.g[f]=this.j({layerId:f,columnNames:Object.keys(a)}));a=this.l(b,a);d.push(a);this.b++;if((a=this.b===this.f)||tj()-e>=this.a.duration){this.o(d,a);break}}a?\nthis.g=x:this.fe=w.setTimeout(this.c,0)};Fo.prototype.cancel=function(){w.clearTimeout(this.fe);this.b<this.f&&this.i(new w.Error("parsing canceled"))};r("H.service.extension.util.AsyncParser.prototype.cancel",Fo.prototype.cancel);function Io(a){this.a=a}Io.prototype.cancel=function(){for(var a=this.a,b=a.length;b--;)a[b].cancel();a.length=0};function Go(a,b,c,d){if(!sa(c))throw new C(a,b,"has invalid type");if(!sa(d))throw new C(a,b+1,"has invalid type");};function mo(a){a=rm(sm.pde,a||{});mo.u.constructor.call(this,a)}v(mo,pm);r("H.service.extension.platformData.Service",mo);\nmo.prototype.b=function(a,b,c,d,e){var f="text/plain";if(!a)throw new C(this.b,0,a);if(!b)throw new C(this.b,1,b);if(!d)throw new C(this.b,3,d);if(!e)throw new C(this.b,4,e);a=this.aa().clone().R(a+"."+b).$(c);b===Jo.JSON&&(f="application/json");b=new Gh(f,a.toString());b.then(d,function(a){"error"===a.type?e(a.statusText||"Unable to load data"):a.json().then(function(a){e(a.error_description||a.message)},function(){e(a.statusText)})});return b};mo.prototype.request=mo.prototype.b;\nsm.pde={subDomain:"pde",path:"1"};var oo="tiles";mo.EntryPoint={DOC_ATTRIBUTES:"doc/attributes",DOC_LAYER:"doc/layer",DOC_LAYERS:"doc/layers",DOC_MAPS:"doc/maps",DOC_INDEXES:"doc/indexes",SEARCH_BBOX:"search/bbox",SEARCH_CORRIDOR:"search/corridor",SEARCH_PROXIMITY:"search/proximity",SEARCH_QUADKEY:"search/quadkey",SERVICE_CONFIGURATION:"serviceconfiguration",STATIC:"static",TILE:"tile",TILES:oo,FILE:"file",INDEX:"index"};var po="json",Jo={TXT:"txt",JSON:po,HTML:"html",BIN:"bin"};\nmo.EntryPointType=Jo;mo.prototype.j=function(a,b){var c=b&&b.resultType,d=new Do(this,a,b),e,f=uo;c==f.MARKER||c===f.DOM_MARKER?e=new uh(d):e=new oh(d);return e};mo.prototype.createTileLayer=mo.prototype.j;function Ko(a,b,c,d,e){var f=[],g,h=c.layer_id||c.layer_ids;a=a.b(b,po,c,function(a){g=new Fo(a.geometries,d,e,function(a){return new io([],a.columnNames,a)},function(a,b){return a.Qb(jo(a,b))},{cg:h});f.push(g)},function(a){e(new w.Error(a))});f.push(a);return new Io(f)}\nfunction Lo(a,b,c){if(!Za(a))throw new C(c,0,"has invalid type");if(!Za(b))throw new C(c,1,"has invalid type");if(a.length!==b.length||!a.length)throw new C(c,1,"specify one key attribute for each given layer id in the same order");}\nmo.prototype.l=function(a,b,c,d,e,f){function g(a,b){b&&h--;d(a,!h)}var h,k=[];Lo(a,b,this.l);Go(this.l,3,d,e);B(c,G,this.l,2);c={bbox:c.ka+","+c.ga+";"+c.ja+","+c.ha};f&&Ca(c,f);a=c.layer_id?[c.layer_id]:a;f=0;for(h=a.length;f<h;f++)c.layer_id=a[f],c.key_attribute=b[f],k.push(Ko(this,"search/bbox",c,g,e));return new Io(k)};mo.prototype.searchByBoundingBox=mo.prototype.l;\nmo.prototype.i=function(a,b,c,d,e,f,g){Lo(a,b,this.i);B(c,gc,this.i,1,"has invalid type");if(!ab(d))throw new C(this.i,2,"has invalid type");Go(this.i,4,e,f);a={layer_ids:a.join(","),key_attributes:b.join(","),proximity:c.lat+","+c.lng+","+d};g&&Ca(a,g);return Ko(this,"search/proximity",a,e,f)};mo.prototype.searchByProximity=mo.prototype.i;\nmo.prototype.g=function(a,b,c,d,e,f,g){var h="";Lo(a,b,this.g);if(!ra(c)&&!B(c,F))throw new C(this.g,1,"has invalid type");if(!ab(d))throw new C(this.g,2,"has invalid type");Go(this.g,4,e,f);a={layer_ids:a.join(","),key_attributes:b.join(","),radius:d};if(ra(c))a.route_id=c;else{d=c.na;c=0;for(b=d.length;c<b;c+=3)h+=d[c]+","+d[c+1],c<b-3&&(h+=";");a.corridor=h}g&&Ca(a,g);return Ko(this,"search/corridor",a,e,f)};mo.prototype.searchByCorridor=mo.prototype.g;\nU.prototype.T=function(a){var b;b=rm(sm.pde,a||{});var c;c=""+(b.path||"");c+=b.subDomain||"";c+=b.baseUrl?b.baseUrl.toString():"";b=xm(c);c=this.a["pde"+b];c||(c=this.W(new mo(a)),this.a["pde"+b]=c);return c};U.prototype.getPlatformDataService=U.prototype.T;function Mo(a){a=rm(sm.gfe,a);Mo.u.constructor.call(this,a)}v(Mo,pm);r("H.service.extension.geofencing.Service",Mo);sm.gfe={subDomain:"gfe",path:"2"};U.prototype.pb=function(a){return this.W(new Mo(a))};U.prototype.getGeofencingService=U.prototype.pb;Mo.prototype.W=function(a,b,c,d,e){Mo.u.W.apply(this,[a,b,c,d,e]);this.f&&(this.a=this.f.clone());return this};Mo.prototype.configure=Mo.prototype.W;\nMo.prototype.b=function(a,b,c,d){var e;if(!a)throw new C(this.b,0,a);if(!sa(c))throw new TypeError("onResult must be a function");if(!sa(d))throw new TypeError("onError must be a function");e=function(a){d(new w.Error(a))};a=this.aa().clone().R(a+".json").$(b);a=new Gh("application/json",a.toString());a.then(c,function(a){"error"===a.type?e(a.statusText||"Unable to load data"):a.json().then(function(a){e(a.error_description||a.issues[0].message)},e)});return a};Mo.prototype.request=Mo.prototype.b;\nMo.EntryPoint={SEARCH_PROXIMITY:"search/proximity"};r("H.service.extension.customLocation.Permission",{READ:"read",WRITE:"write",EXPORT:"export"});r("H.service.extension.customLocation.Storage",{READONLY:"readonly",UPDATABLE:"updatable"});function No(){if(Oo)throw new kc(No);}r("H.service.extension.customLocation.Table",No);var Oo=!0;function Po(a,b){var c,d,e,f;Oo=!1;c=new No;Oo=!0;c.j=Oa(w.JSON.parse(w.JSON.stringify(a)));d=a.columnNames;e=Ka();for(f=d.length;f--;)e[d[f]]=f;c.o=e;c.b=d.length;if(e=b){if(e.length%d.length)throw new C(Po,1,"Invalid number of cells");}else e=[];c.a=e;return c}No.prototype.cd=function(){return this.j};No.prototype.getMeta=No.prototype.cd;No.prototype.g=function(){return this.a.length/this.b};\nNo.prototype.getRowCount=No.prototype.g;No.prototype.Qb=function(a){return a<this.a.length/this.b?new Qo(this,a):A};No.prototype.getRow=No.prototype.Qb;No.prototype.v=function(){var a=this.a.length/this.b,b,c=new w.Array(a);for(b=0;b<a;b++)c[b]=new Qo(this,b);return c};No.prototype.getRows=No.prototype.v;No.prototype.qe=function(a){var b=this.b,c=this.a,d=c.length/this.b;if(!a||a.length%b)throw new C(this.qe,0,"Invalid number of cells");this.a=c.concat(a);return d};No.prototype.addCells=No.prototype.qe;\nNo.prototype.m=function(){for(var a=this.b,b=this.a,c=this.a.length/this.b;a--;)b.push(x);return this.Qb(c)};No.prototype.addRow=No.prototype.m;No.prototype.c=function(){return this.j.columnNames};No.prototype.getColumnNames=No.prototype.c;No.prototype.l=function(a){return this.o[a]===A?A:new Ro(this,a)};No.prototype.getColumn=No.prototype.l;No.prototype.f=function(a,b){return this.a[a*this.b+this.o[b]]};No.prototype.getCell=No.prototype.f;\nNo.prototype.i=function(a,b,c){b=this.o[b];if(a>=this.a.length/this.b)throw new C(this.i,0,"Row index out of bounds");if(b===A)throw new C(this.i,0,"Column unknown");this.a[a*this.b+b]=c};No.prototype.setCell=No.prototype.i;\nNo.prototype.concat=function(){var a=arguments.length,b,c=""+this.c(),d=this.a?this.a.slice():[],e;for(b=0;b<a;b++){e=arguments[b];if(!(e instanceof No))throw new C(this.concat,b);if(""+e.c()!==c)throw new C(this.concat,b,"Incompatible columns!");e.a&&(d=d.concat(e.a))}return Po(this.j,d)};No.prototype.concat=No.prototype.concat;var So=/(\\n|\\t|\\r|")/;\nNo.prototype.Df=function(a,b){var c,d=this.b,e=this.c(),f=[],g,h=[],k=this.a,l=-1,m;for(c=0;c<d;c++)if(!a||a.test(e[c]))"WKT"===e[c]&&(l=f.length),f.push(c);if(!(g=f.length))throw new C(this.Df,1,"No columns filtered");To(this,h,e,0,d,f,g,l);if(b)for(m=b.length,c=0;c<m;c++)h.push("\\n"),e=b[c],To(this,h,k,e,d,f,g,l);else for(m=this.g(),e=0;e<m;e++)h.push("\\n"),To(this,h,k,e,d,f,g,l);return h.join("")};\nfunction To(a,b,c,d,e,f,g,h){var k,l;for(k=0;k<g;k++)if(k&&b.push("\\t"),l=c[d*e+f[k]],k!==h){if(l!==x){l=String(l);if(So.test(l))throw new C(a.Df,0,\'Invalid character (\\\\n, \\\\r, \\\\t, or ") in row \'+d+" column "+a.j.columnNames[f[k]]);b.push(l)}}else b.push(l)}function Ro(a,b){this.c=a;this.b=b}No.Column=Ro;Ro.prototype.a=function(a){return this.c.f(a,this.b)};Ro.prototype.getCell=Ro.prototype.a;Ro.prototype.f=function(a,b){this.c.i(a,this.b,b)};Ro.prototype.setCell=Ro.prototype.f;\nfunction Qo(a,b){this.b=a;this.Ve=b}No.Row=Qo;Qo.prototype.c=function(){return this.b.c()};Qo.prototype.getColumnNames=Qo.prototype.c;Qo.prototype.a=function(a){return this.b.f(this.Ve,a)};Qo.prototype.getCell=Qo.prototype.a;Qo.prototype.f=function(a,b){this.b.i(this.Ve,a,b)};Qo.prototype.setCell=Qo.prototype.f;Qo.prototype.uc=function(){return this.b};Qo.prototype.getTable=Qo.prototype.uc;function Uo(a){var b=Vo;if(!a||!ra(a.layerId)||Ta(a.rowFilter)&&!sa(a.rowFilter)||Ta(a.rowFilterContext)&&!Pa(a.rowFilterContext))throw new C(b,1,Ta("invalid layer config")?"invalid layer config":a);}function Wo(a){return ra(a)&&/^[A-Z][A-Z0-9_]*$/.test(a)}function Xo(a){for(var b=a&&a.length,c=2<=b&&"WKT"===a[--b]&&"GEOMETRY_ID"===a[--b];c&&b--;)c=Wo(a[b]);return c}\nfunction Yo(a,b){var c="",d,e,f,g,h,k=[];if(!b){g={};k=[];if(a.geometries)for(e=0;e<a.geometries.length;e++)f=a.geometries[e],g[f.layerId]||(g[f.layerId]=[]),g[f.layerId].push(f);for(d in g)k.push({layerId:d,geometries:g[d]});for(d=0;d<k.length;d++)c+=Yo(k[d],k[d].layerId)}else if(a.geometries&&a.geometries.length)for(h=Object.keys(a.geometries[0].attributes),c=c+("Meta:\\t"+b+"\\n")+h.join("\\t"),c+="\\tWKT\\n",d=0;d<a.geometries.length;d++){g=a.geometries[d].attributes;f=a.geometries[d].geometry;for(e=\n0;e<h.length;e++)k.push(g[h[e]]);c+=k.join("\\t");c+="\\t"+f+"\\n";k=[]}return c};function Zo(a){if(a===A)a="\\t";else if(!/^[^"\\r\\n]$/.test(a))throw new C(Zo,0);this.b=String(a).charCodeAt(0);this.We=z(this.We,this);this.G=$o}var $o=0;p=Zo.prototype;p.getState=function(){return this.G};function ap(a,b,c){var d=a.G;if(d!==b)throw 1===d&&(a.G=$o),new kc(c,"Requires state: "+["READY","PARSE","PAUSE"][b]+" but found "+["READY","PARSE","PAUSE"][d]);}p.We=function(a){this.G=$o;throw new C(Zo.prototype.parse,0,"Malformed DSV at row "+this.a.o+" column "+this.a.c+": "+a);};\nfunction bp(a,b){var c=[];a.parse(b,function(a,b,f){1>a&&(c[b]=f);return 0<a});a.G=$o;return c}p.parse=function(a,b,c){ap(this,$o,Zo.prototype.parse);a=a.trim();this.a=new cp(a,this.b,this.We);this.c=b;this.Fg=c||Ce;this.G=2;this.wf()};p.Fg=Ce;\np.wf=function(){var a=this.a,b,c,d=[],e,f,g;ap(this,2,Zo.prototype.wf);this.G=1;do{if(!a.B){this.G=$o;break}if(c>a.c){if(void 0!==f&&f!==c){this.a.b("The number of columns must be the same for all rows");return}f=c}b=a.o;c=a.c;e=a.g;g=this.Fg(b,c,a);if(a.g>e)for(;-1!==a.next(););else{for(;-1!==(e=a.next());)d.push(e);g=String.fromCharCode.apply(x,d);d.length=0}dp(a);this.c(b,c,g)&&(this.G=2)}while(1===this.G);2!=this.G&&void 0!==f&&0<c&&f!==c&&this.a.b("The number of columns must be the same for all rows")};\nfunction cp(a,b,c){this.f=new Pg(a);this.v=b;this.B=!0;this.g=this.o=this.c=0;dp(this);this.b=c;this.i=[];this.j=!1}cp.prototype.g=0;var ep={me:10,Pf:13,oe:34,Mc:-1};function dp(a){var b=a.f.a();a.s=!1;(a.A=34===b)&&a.f.next()}function fp(a,b){var c=a.f;a.s=!0;switch(b){case a.v:a.c++;break;case ep.Pf:c.next(),c.a()!==ep.me&&a.b("CR without LF");case ep.me:a.c=0;a.o++;break;case ep.Mc:a.B=!1;break;default:a.b("End of field expected")}c.next();return ep.Mc}\ncp.prototype.a=function(){var a,b;if(this.s)b=ep.Mc;else if(a=this.f,b=a.a(),this.A)switch(b){case ep.oe:a.next();b=a.a();b!==ep.oe&&(b=fp(this,b));break;case ep.Mc:this.b("Closing quotation mark expected")}else switch(b){case ep.oe:this.b("Unexpected quotation mark");case this.v:case ep.Pf:case ep.me:case ep.Mc:b=fp(this,b)}return b};cp.prototype.m=function(){this.j=!0;this.i=[]};cp.prototype.l=function(){var a=this.i.slice();this.j=!1;this.i=[];return a};\ncp.prototype.next=function(){var a=this.a();-1!==a&&this.f.next();this.j&&this.i.push(a);this.g++;return a};function gp(a,b,c,d){d=d||{};if(!b)throw new C(gp,1,"has to be a function");if(!c)throw new C(gp,2,"has to be a function");this.c=b;this.g=c;this.a=[];this.i=d.duration||hp;this.b=z(this.b,this);this.f={};var e;a=a.split("Meta:\\t").slice(1);for(b=0;b<a.length;b++)d=a[b].split("\\n"),c=d[0].split("\\t")[0],d=d.slice(1).join("\\n"),this.sc[c]=new Zo,this.Ke[c]=bp(this.sc[c],d),e={layerId:c,columnNames:this.Ke[c]},this.Ne.push(c),this.f[c]=Po(e),this.Kb[c]=tj(),ip(this,d,c),this.b(c)}var hp=100;p=gp.prototype;\np.Ke={};p.Ne=[];p.sc={};p.Kb={};p.Ue={};function ip(a,b,c){var d=[],e=a.Ke[c].length-1,f=a.f[c];try{a.sc[c].parse(b,function(b,g,l){var m=!1;0<b&&(d[g]=l,g===e&&(a.a.push(f.Qb(f.qe(d))),tj()-a.Kb[c]>a.i&&(m=!0)));return m},function(a,b,c){if(0<a&&b===e)return ug(c)})}catch(g){a.g(g)}}p.cancel=function(){for(var a in this.Ue)w.clearTimeout(this.Ue[a])};r("H.service.extension.customLocation.AsyncParser.prototype.cancel",gp.prototype.cancel);\ngp.prototype.b=function(a){var b=this,c;this.Ue[a]=w.setTimeout(function(){if(2===b.sc[a].getState())b.Kb[a]=tj(),b.c(b.a,!1),b.a=[],b.sc[a].wf(),b.b(a);else{c=!0;for(var d=0;d<b.Ne.length;d++)if(b.sc[b.Ne[d]].getState()!==$o){c=!1;break}c&&(0<b.a.length&&b.c(b.a,!0),b.a=[])}},0)};function V(a){a=rm(sm.cle,a);V.u.constructor.call(this,a)}v(V,pm);r("H.service.extension.customLocation.Service",V);V.prototype.W=function(a,b,c,d,e){V.u.W.apply(this,[a,b,c,d,e]);this.f&&(this.a=this.f.clone());return this};V.prototype.configure=V.prototype.W;V.prototype.Ta=function(a,b){var c=b&&b.resultType,d=new Vo(this,a,b),e,f=uo;c==f.MARKER||c===f.DOM_MARKER?e=new uh(d):e=new oh(d);return e};V.prototype.createTileLayer=V.prototype.Ta;U.prototype.N=function(a){return this.W(new V(a))};\nU.prototype.getCustomLocationService=U.prototype.N;function jp(a,b,c,d){var e;a=a===kp?"changes":"file";var f=b[a],g=ra(f),h=!g&&B(f,Blob);if(!g&&!h)throw new C(d,0,"Invalid "+a+" parameter");if(lp)h?e=f:e=Ke(f,"text/plain"),d=new w.FormData,d.append(a,e,e.name||a+".wkt"),c.method="POST",c.data=d,delete b[a];else if(h)throw new C(d,0,"Sending Blob data is not supported by the browser");}var lp=w.FormData&&!!w.FormData.prototype.append;\nV.prototype.b=function(a,b,c,d,e){function f(a){e(new w.Error(a))}var g="text/plain",h=mp,k=a===h.LAYERS_UPLOAD||a===h.LAYERS_MODIFY||a===h.LAYERS_IMPORT,l=c,h={data:A,method:"GET"};if(!a)throw new C(this.b,0,a);if(!b)throw new C(this.b,1,b);Go(this.b,3,d,e);k&&(B(c,Object,this.b,2,"Invalid request parameters"),l=Qa(c),jp(a,l,h,this.b));a=this.aa().clone().R(a+"."+b).$(l);b===np.JSON&&(g="application/json");b=new Gh(g,a.toString(),ud,h);b.then(function(a){var b=a.issues;b&&a.error_id&&a.response_code?\nf(b[0].message):d(a)},function(a){"error"===a.type||404===a.status?f(a.statusText||"Unable to load data"):a.json().then(function(a){f(a.error_description||a.issues[0].message)},f)});return b};V.prototype.request=V.prototype.b;\nvar kp="layers/modify",mp={LAYERS_DELETE:"layers/delete",LAYERS_GRANT:"layers/access/grant",LAYERS_LIST:"layers/list",LAYERS_MODIFY:kp,LAYERS_UPLOAD:"layers/upload",LAYERS_IMPORT:"layers/import",SEARCH_ALL:"search/all",SEARCH_BBOX:"search/bbox",SEARCH_CORRIDOR:"search/corridor",SEARCH_PROXIMITY:"search/proximity",SEARCH_QUADKEY:"search/quadkey",SEARCH_TILE:"tiled/tile"};V.EntryPoint=mp;var np={TXT:"txt",JSON:"json"};V.EntryPointType=np;sm.cle={subDomain:"cle",path:"2"};\nV.prototype.l=function(a,b,c){var d=this;return this.b("search/all","txt",{filter:\'WKT==""\',layer_id:a},function(e){var f=e.replace(/[\\r\\n]+$/g,"").split("\\t");d.b("layers/list","json",{layer_id:a,detail_level:"all"},function(a){a=a.layers[0];a.columnNames=f;b(Po(a))},c)},c)};V.prototype.getLayer=V.prototype.l;\nV.prototype.A=function(a,b,c,d){function e(){return++g<f?h.b("layers/access/grant","json",{layer_id:a,granted_app_id:b[g].grantedAppId,permissions:b[g].permissions.join(",")},e,d):h.l(a,c,d)}var f=b&&b.length,g=-1,h=this;return e()};V.prototype.grantAccess=V.prototype.A;V.prototype.s=function(a,b,c){return this.b("layers/delete","json",{layer_ids:a},b,c)};V.prototype.deleteLayer=V.prototype.s;\nV.prototype.v=function(a,b,c){function d(){setTimeout(function(){l.l(h,function(a){setTimeout(e.bind(null,a),n)},function(){64E3>m?(m+=n,d()):c(w.Error("Timeout"))})},n);n*=2}function e(d){var e=JSON.stringify(d.c()),f=a.grants,g;e!==JSON.stringify(k)?(g="Results into different column names on the backend: "+e,setTimeout(function(){l.s(h,function(){c(w.Error(g))},function(a){c(w.Error(g+". "+a.message))})},n)):f&&f.length?l.A(h,f,b,c):b(d)}var f,g,h,k,l=this,m=0,n=1E3;g=!a||!Wo(h=a.layerId)&&(f="layerId")||\n!Xo(k=a.columnNames)&&(f="columnNames")?0:sa(b)?sa(c)?-1:2:1;if(0<=g)throw new C(l.v,g,f||arguments[g]);return l.l(h,function(){c(w.Error("Layer exists already"))},function(){var b={layer_id:h,file:k.join("\\t")},e=a.level,f=a.storage;e!==A&&(b.level=e);f!==A&&(b.storage=f);l.b("layers/upload","json",b,d,c)})};V.prototype.createLayer=V.prototype.v;\nfunction op(a,b,c,d,e){var f=[],g;a=a.b(b,"json",c,function(a){a.geometries.length?(a=Yo(a,c.layer_id),g=new gp(a,d,e),f.push(g)):d(De,!0)},e);f.push(a);return new Io(f)}V.prototype.i=function(a,b,c,d,e,f){if(!Za(a))throw new C(this.i,0,"has invalid type");B(b,gc,this.i,1,"has invalid type");if(!ab(c))throw new C(this.i,2,"has invalid type");Go(this.i,3,d,e);a={layer_ids:a.join(","),proximity:b.lat+","+b.lng+","+c};f&&Ca(a,f);return op(this,"search/proximity",a,d,e)};\nV.prototype.searchByProximity=V.prototype.i;V.prototype.g=function(a,b,c,d,e,f){var g,h="";if(!Za(a))throw new C(this.g,0,"has invalid type");if(!ra(b)&&!B(b,F))throw new C(this.g,1,"has invalid type");if(!ab(c))throw new C(this.g,2,"has invalid type");Go(this.g,3,d,e);a={layer_ids:a.join(","),radius:c};if(ra(b))a.route_id=b;else{g=b.na;b=0;for(c=g.length;b<c;b+=3)h+=g[b]+","+g[b+1],b<c-3&&(h+=",");a.corridor=h}f&&Ca(a,f);return op(this,"search/corridor",a,d,e)};V.prototype.searchByCorridor=V.prototype.g;\nV.prototype.j=function(a,b,c,d,e){function f(a,b){b&&h--;c(a,!h)}var g=[],h;if(!Za(a))throw new C(this.j,0,"has invalid type");B(b,G,this.j,1,"has invalid type");Go(this.j,2,c,d);b={bbox:b.ka+","+b.ga+";"+b.ja+","+b.ha};e&&Ca(b,e);a=b.layer_id?[b.layer_id]:a;e=0;for(h=a.length;e<h;e++)b.layer_id=a[e],g.push(op(this,"search/bbox",b,f,d));return new Io(g)};V.prototype.searchByBoundingBox=V.prototype.j;\nV.prototype.o=function(a,b,c,d){var e,f,g=[];if(!ra(a))throw new C(this.o,0,"has invalid type");Go(this.o,1,b,c);e={layer_id:a};d&&Ca(e,d);d=this.b("search/all","json",e,function(d){d.geometries.length?(d=Yo(d,a),f=new gp(d,b,c),g.push(f)):b(De,!0)},c);g.push(d);return new Io(g)};V.prototype.searchAll=V.prototype.o;var pp={"delete":/^GEOMETRY_ID$/,append:/^(?!GEOMETRY_ID$)/,update:null};\nfunction qp(a,b,c,d,e,f){function g(){ea++;d(this,ea===J)}function h(a){ea++;e(a,this,ea===J)}var k="append"!==b,l,m,n,q,t,u={},y=Ka(),J=0,T=[],ea=0;if(!Za(c))throw new C(f,0,c);Go(f,1,d,e);for(l=c.length;l--;){m=c[l];if(B(m,Qo))if(n=m.uc().cd().layerId,q=m.a("GEOMETRY_ID"),k){if(q===x||""===String(q))t=\'GEOMETRY_ID must not be null or ""\';u[q=n+"_"+q]&&(t="same GEOMETRY_ID for multiple rows");u[q]=m}else q!==x&&""!==String(q)&&(t=\'GEOMETRY_ID must be null or ""\');else t="Invalid type";if(t)throw new C(f,\n0,"- Invalid row at index "+l+", "+t);q=y[n];q||(q=y[n]=[],J++);q.push(m)}for(n in y){q=y[n];c=[];for(l=q.length;l--;)c.push(q[l].Ve);T.push(a.b(kp,"json",{layer_id:n,action:b,changes:q[0].uc().Df(pp[b],c)},z(g,q),z(h,q)))}return new Io(T)}V.prototype.m=function(a,b,c){return qp(this,"append",a,b,c,this.m)};V.prototype.appendRows=V.prototype.m;V.prototype.C=function(a,b,c){return qp(this,"update",a,b,c,this.C)};V.prototype.updateRows=V.prototype.C;\nV.prototype.B=function(a,b,c){return qp(this,"delete",a,b,c,this.B)};V.prototype.deleteRows=V.prototype.B;function Vo(a,b,c){var d=this,e=b&&b.rowFilter,f,g,h,k,l=uo;Vo.u.constructor.call(this,c);B(a,V,Vo,0);h=c.resultType;Uo(b);e?(f=Qa(b),f.rowFilter=e.toString()):f=b;(new Lh).md("cle","H.service.extension.worker.processor");k=b.layerId;a.b("layers/list","json",{detail_level:"all",layer_id:k},function(b){b=b.layers;var c;for(c=0;c<b.length;c++)if(b[c].layerId===k){f.level=b[c].level;break}g=a.aa().clone().R("tiled/tile.json").$({meta:1});(new Nh("cle",{message:[d.uid,0,{tileSize:d.tileSize,projected:!0,\nonlyOutline:h===l.POLYLINE,serverUrl:g.toString(),layerConfigs:[f],batchTiles:!1}]})).then(function(){d.I=!0;Rg(d)},d.f)},function(a){d.f(a.message)})}v(Vo,yo);r("H.service.extension.customLocation.TileProvider",Vo);Vo.prototype.P=function(a,b,c){return new to(a,b,c)};\nVo.prototype.c=function(a,b,c,d,e){var f=this,g=this.getTileKey(a,b,c),h,g=this.g.get(g),k={cancel:sc},l=!0,m,n=uo;g&&(this.b===n.POLYLINE||this.b===n.POLYGON?g.yc()||(d(Fm.pop(this.tileSize),null),l=!1):(d(x),l=!1));l&&(m=ym.setTimeout(function(){h=new Nh("cle",{message:[f.uid,1,[a,b,c]]});h.then(d,e)},500),k.cancel=function(){h?h.cancel():ym.clearTimeout(m)});return k};Vo.prototype.requestInternal=Vo.prototype.c;Vo.prototype.D=function(){Vo.u.D.call(this);new Nh("cle",{message:[this.uid,3]})};function rp(a){a=rm(sm.cre,a);rp.u.constructor.call(this,a)}v(rp,pm);r("H.service.extension.customRoute.Service",rp);sm.cre={subDomain:"cre",path:"2"};U.prototype.Ta=function(a){return this.W(new rp(a))};U.prototype.getCustomRoutingService=U.prototype.Ta;\nrp.prototype.b=function(a,b,c){function d(a){c(new w.Error(a))}Go(this.b,1,b,c);a=this.aa().clone().R("calculateroute.json").$(a);(new Gh("application/json",a.toString())).then(b,function(a){"error"===a.type?d(a.statusText||"Unable to load data"):a.json().then(function(a){d(a.error_description||a.issues[0].message)},d)})};rp.prototype.calculateRoute=rp.prototype.b;r("H.service.buildInfo",function(){return Bh("mapsjs-service","0.17.0","378d765")});\n'),H.util.eval('var Cl={};function Dl(a){var b=a.ownerDocument,b=b.documentElement||b.body.parentNode||b.body,c;try{c=a.getBoundingClientRect()}catch(d){c={top:0,right:0,bottom:0,left:0,height:0,width:0}}return{x:c.left+("number"===typeof window.pageXOffset?window.pageXOffset:b.scrollLeft),y:c.top+("number"===typeof window.pageYOffset?window.pageYOffset:b.scrollTop)}}var El=/Edge\\/\\d+/.test(navigator.appVersion),Fl=Function("return this")();function Gl(a,b,c,d,e,f,g){Gl.u.constructor.call(this,a);this.pointers=b;this.changedPointers=c;this.targetPointers=d;this.currentPointer=e;this.originalEvent=g;this.target=f}v(Gl,Bc);r("H.mapevents.Event",Gl);function Hl(a,b,c,d,e,f){if(isNaN(a))throw Error("x needs to be a number");if(isNaN(b))throw Error("y needs to be a number");if(isNaN(c))throw Error("pointer must have an id");this.viewportX=a;this.viewportY=b;this.target=null;this.id=c;this.type=d;this.dragTarget=null;this.a=this.button=Ta(e)?e:-1;this.buttons=Ta(f)?f:0}r("H.mapevents.Pointer",Hl);\nfunction Il(a,b,c){if(isNaN(b))throw Error("x needs to be a number");if(isNaN(c))throw Error("y needs to be a number");a.viewportX=b;a.viewportY=c}Hl.prototype.c=function(){return this.a};Hl.prototype.getLastChangedButton=Hl.prototype.c;function Jl(a,b){a.a=b;a.buttons|=Hl.prototype.b[+b]||0}function Kl(a,b){a.a=b;a.buttons&=~(Hl.prototype.b[+b]||0)}Hl.prototype.b=[1,4,2];var Ll={NONE:-1,LEFT:0,MIDDLE:1,RIGHT:2};Hl.Button=Ll;function Ml(a){this.a=a instanceof Array?a.slice(0):[]}p=Ml.prototype;p.clear=function(){this.a.splice(0,this.a.length)};p.length=function(){return this.a.length};p.indexOf=function(a){for(var b=this.a.length;b--;)if(this.a[b].id===a)return b;return-1};function Nl(a,b){var c=a.indexOf(b);return-1!==c?a.a[c]:null}p.remove=function(a){a=this.indexOf(a);return-1!==a?this.a.splice(a,1)[0]:null};function Ol(a,b){for(var c=a.a.length,d=[];c--;)a.a[c].type!==b&&d.push(a.a[c]);a.a=d}\nfunction Pl(a,b){for(var c=a.a.length;c--;)if(a.a[c].dragTarget===b)return!0;return!1}p.push=function(a){if(a instanceof Hl)return this.a.push(a);throw Error("list needs a pointer");};p.clone=function(){return new Ml(this.a)};function Ql(a,b,c){c=c||{};if(!(a instanceof Q))throw Error("events: map instance required");if(!(b instanceof Array))throw Error("events: map array required");xc.call(this);this.C=c.Wi||300;this.P=c.Vi||50;this.O=c.Zi||50;this.U=c.$i||500;this.N=c.Yi||900;this.T=c.Xi||50;this.map=a;this.j=this.map.va;this.l=this.j.element;this.A=b;this.a=new Ml;this.c=new Ml;this.i={};this.f=null;this.s=!0;this.v={};this.m={};this.o=null;this.Wc=z(this.Wc,this);this.I={pointerdown:this.Qh,pointermove:this.Rh,pointerup:this.Sh,\npointercancel:this.Ph};Rl(this)}v(Ql,xc);function Rl(a,b){for(var c,d,e=0,f=a.A.length,e=0;e<f;e++)d=a.A[e],c=d.listener,"function"===typeof c&&(b?(d.target||a.l).removeEventListener(d.La,c):(d.target||a.l).addEventListener(d.La,c))}\nfunction Sl(a,b,c){var d,e=a.I[b],f,g;if("function"===typeof e)for("pointermove"!==b&&(a.s=!0),f=0,g=a.c.length();f<g;f++)b=a.c.a[f],a.l.contains(c.target)?(d=a,d=d.f===b?b.target:0<=b.viewportX&&b.viewportX<d.j.width&&0<=b.viewportY&&b.viewportY<d.j.height?d.map.s(b.viewportX,b.viewportY)||d.map:null):d=null,Tl(b.id,a.v),e.call(a,b,d,c);a.c.clear()}p=Ql.prototype;\np.Sh=function(a,b,c){a.target=b;Ul(this,a,c);Vl(this,b,"pointerup",c,a);"mouse"!==a.type&&Vl(this,b,"pointerleave",c,a);b=this.i[a.id];var d={x:a.viewportX,y:a.viewportY},e=c.timeStamp,f=a.target,g=this.o;b&&b.target===f&&b.ue.distance(d)<this.O&&e-b.Ef<this.U?(Vl(this,f,"tap",c,a),g&&g.target===f&&e-g.Ef<this.C?g.ue.distance({x:a.viewportX,y:a.viewportY})<this.P&&(Vl(this,f,"dbltap",c,a),this.o=null):this.o={target:f,ue:new M(a.viewportX,a.viewportY),Ef:c.timeStamp}):this.o=null;this.i={};Tl(a.id,\nthis.m)};function Ul(a,b,c){b===a.f&&(Vl(a,b.dragTarget,"dragend",c,b),a.f=null,Tl(b.id,a.v));b.dragTarget=null}p.Wc=function(a,b){var c=this;Vl(this,a.dragTarget,"drag",b,a);Tl(a.id,this.v);this.v[a.id]=setTimeout(function(){c.Wc(a,b)},150)};function Tl(a,b){b[a]&&(clearTimeout(b[a]),delete b[a])}\nfunction Wl(a,b,c){var d=b.target,e=new M(b.viewportX,b.viewportY),f=b.id;Tl(f,a.m);a.m[f]=setTimeout(function(){d&&d===b.target&&e.distance({x:b.viewportX,y:b.viewportY})<a.T&&(Vl(a,d,"longpress",c,b),delete a.i[b.id])},a.N)}\np.Rh=function(a,b,c){var d=a.dragTarget,e=a.id,f;f=a.target;a.target=b;f!==b&&(Vl(this,f,"pointerleave",c,a),Vl(this,b,"pointerenter",c,a));d?this.f?this.Wc(a,c):this.s?this.s=!1:(this.f=a,Vl(this,d,"dragstart",c,a),this.Wc(a,c),delete this.i[e],this.s=!0):(!this.f||this.f&&this.f.dragTarget!==b&&this.f.dragTarget!==this.map)&&Vl(this,b,"pointermove",c,a)};\np.Qh=function(a,b,c){var d=!(/^(?:mouse|pen)$/.test(a.type)&&0!==c.button),e;b&&(a.target=b,this.i[a.id]={ue:new M(a.viewportX,a.viewportY),target:a.target,Ef:c.timeStamp},"mouse"!==a.type&&Vl(this,b,"pointerenter",c,a),e=Vl(this,b,"pointerdown",c,a),!this.f&&d&&(b.draggable&&!Pl(this.a,b)?a.dragTarget=b:!this.map.draggable||e.defaultPrevented||Pl(this.a,this.map)||(a.dragTarget=this.map)),Wl(this,a,c))};\np.Ph=function(a,b,c){a.target=null;b?(Vl(this,b,"pointerleave",c,a),Vl(this,b,"pointercancel",c,a)):Vl(this,this.map,"pointercancel",c,a);Ul(this,a,c);this.i={};Tl(a.id,this.m)};function Vl(a,b,c,d,e){var f;if(b&&"function"===typeof b.dispatchEvent){f=Gl;var g=a.a.a,h=a.c.a;a=a.a;var k,l=a.a.length,m=[];for(k=0;k<l;k++)a.a[k].target===b&&m.push(a.a[k]);f=new f(c,g,h,m,e,b,d);e.button=/^(?:longpress|(?:dbl)?tap|pointer(?:down|up))$/.test(c)?e.a:Ll.NONE;b.dispatchEvent(f)}return f}\np.D=function(){Rl(this,!0);this.a.clear();this.c.clear();var a=this.v,b;for(b in a)Tl(b,a);var a=this.m,c;for(c in a)Tl(c,a);this.f=this.i=this.o=this.map=this.c=this.a=this.A=this.b=null;xc.prototype.D.call(this)};function Xl(a){this.g=z(this.g,this);Ql.call(this,a,[{La:"touchstart",listener:this.g},{La:"touchmove",listener:this.g},{La:"touchend",listener:this.g},{La:"touchcancel",listener:this.g}]);this.F={touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",touchcancel:"pointercancel"};this.B=(a=(a=a.j)?a.b:null)?Array.prototype.slice.call(a.querySelectorAll("a"),0):[]}v(Xl,Ql);\nXl.prototype.g=function(a){var b=a.touches,c=this.a.length(),d;if("touchstart"===a.type&&c>=b.length){c=this.a.clone();for(d=b.length;d--;)c.remove(b[d].identifier);for(d=c.length();d--;)this.a.remove(c.a[d].id);this.c=c;Sl(this,"pointercancel",a);this.c.clear()}if(this.F[a.type]){b=Dl(this.j.element);c=a.type;d=a.changedTouches;var e=d.length,f,g,h,k,l,m;this.c.clear();for(m=0;m<e;m++)if(h=d[m],l=Nl(this.a,h.identifier),f=h.pageX-b.x,g=h.pageY-b.y,l)if("touchmove"===c){if(h=Math.abs(l.viewportX-\nf),k=Math.abs(l.viewportY-g),1<h||1<k||1===h&&1===k)Il(l,f,g),this.c.push(l)}else"touchend"===c&&(this.a.remove(l.id),this.c.push(l),Kl(l,Ll.LEFT));else l=new Hl(f,g,h.identifier,"touch",Ll.LEFT,1),this.a.push(l),this.c.push(l);Sl(this,this.F[a.type],a);-1===this.B.indexOf(a.target)&&a.preventDefault()}};Xl.prototype.D=function(){this.B=null;Ql.prototype.D.call(this)};function Yl(a){var b=[],b=Zl(this);(navigator.pointerEnabled||navigator.msPointerEnabled)&&b.push({La:"MSHoldVisual",listener:"prevent"});Ql.call(this,a,b)}v(Yl,Ql);function Zl(a){var b=navigator.pointerEnabled,c,d,e=[];a.g=z(a.g,a);"MSPointerDown MSPointerMove MSPointerUp MSPointerCancel MSPointerOut MSPointerOver".split(" ").forEach(function(f){c=f.toLowerCase().replace(/ms/g,"");d=b?c:f;e.push({La:d,listener:a.g,target:"MSPointerUp"===f||"MSPointerMove"===f?window:null})});return e}\nvar $l={2:"touch",3:"pen",4:"mouse"};\nYl.prototype.g=function(a){var b=navigator.xi?a.type:a.type.toLowerCase().replace(/ms/g,""),c=Dl(this.l),d=Nl(this.a,a.pointerId),e=a.pageX-c.x,c=a.pageY-c.y,f=$l[a.pointerType]||a.pointerType;El&&"rtl"===w.getComputedStyle(this.j.element).direction&&(e-=(w.devicePixelRatio-1)*this.j.width);if(!(d||b in{pointerup:1,pointerout:1,pointercancel:1}||"touch"===f&&"pointerdown"!==b)){var d={x:e,y:c},g=a.pointerType;"number"===typeof g&&(g=$l[g]);d=new Hl(d.x,d.y,a.pointerId,g,a.button,a.buttons);this.a.push(d)}d&&\n(b in{pointerup:1,pointercancel:1}?("touch"===f&&this.a.remove(d.id),Kl(d,a.button)):"pointerdown"===b&&("touch"===a.pointerType&&(Ol(this.a,"mouse"),Ol(this.a,"pen")),Jl(d,a.button)),this.c.push(d),"pointermove"!==b?(Il(d,e,c),Sl(this,"pointerout"===b||"pointerover"===b?"pointermove":b,a)):d.viewportX===e&&d.viewportY===c||a.target===document.documentElement||(Il(d,e,c),Sl(this,b,a)));this.c.clear()};function am(a,b,c,d){am.u.constructor.call(this,"contextmenu");this.items=[];this.viewportX=a;this.viewportY=b;this.target=c;this.originalEvent=d}v(am,Bc);r("H.mapevents.ContextMenuEvent",am);function bm(a){this.He=z(this.He,this);this.Je=z(this.Je,this);this.Ie=z(this.Ie,this);this.B=!1;this.g=-1;this.F=0;bm.u.constructor.call(this,a,[{La:"contextmenu",listener:this.He},{target:a,La:"longpress",listener:this.Je},{target:a,La:"dbltap",listener:this.Ie}])}v(bm,Ql);p=bm.prototype;p.Je=function(a){var b=a.currentPointer;"touch"===b.type&&1===a.pointers.length&&cm(this,b.viewportX,b.viewportY,a.originalEvent,a.target)};p.Ie=function(a){"touch"===a.currentPointer.type&&(this.F=Date.now())};\np.He=function(a){var b=this;-1===this.g?this.g=setTimeout(function(){var c=Dl(b.l),d=a.pageX-c.x,c=a.pageY-c.y;b.g=-1;cm(b,d,c,a)},this.C):(clearInterval(this.g),this.g=-1);a.preventDefault()};function cm(a,b,c,d,e){var f=a.map;e=e||f.s(b,c)||f;var g=Date.now()-a.F;!a.B&&g>a.N&&(a.B=!0,e.dispatchEvent(new am(b,c,e,d)),ti(f.b,a.Of,a.dg,!1,a))}p.Of=["mousedown","touchstart","pointerdown","wheel"];p.dg=function(){this.B&&(this.B=!1,this.map.dispatchEvent(new Bc("contextmenuclose",this.map)))};\np.D=function(){var a=this.map.b;clearInterval(this.g);a&&vi(a,this.Of,this.dg,!1,this);Ql.prototype.D.call(this)};function dm(a,b,c,d,e){dm.u.constructor.call(this,"wheel");this.delta=a;this.viewportX=b;this.viewportY=c;this.target=d;this.originalEvent=e}v(dm,Bc);r("H.mapevents.WheelEvent",dm);function em(a){var b="onwheel"in document;this.K=b;this.F=(b?"d":"wheelD")+"elta";this.g=z(this.g,this);em.u.constructor.call(this,a,[{La:(b?"":"mouse")+"wheel",listener:this.g}]);this.B=this.map.va}v(em,Ql);\nem.prototype.g=function(a){var b=Dl(this.l),c;c=a.pageX-b.x;var b=a.pageY-b.y,d=this.F,e=a[d+(d+"Y"in a?"Y":"")],f,g,h;El&&"rtl"===w.getComputedStyle(this.B.element).direction&&(c-=(w.devicePixelRatio-1)*this.B.width);e&&(h=Math.abs,f=h(e),e=(!(g=a[d+"X"])||3<=f/h(g))&&(!(g=a[d+"Z"])||3<=f/h(g))?((0<e)-(0>e))*(this.K?1:-1):0);a=new dm(e,c,b,null,a);a.delta&&((a.target=c=this.map.Ma(a.viewportX,a.viewportY)[0])&&sa(c.dispatchEvent)&&c.dispatchEvent(a),a.defaultPrevented||this.map.dispatchEvent(a))};function fm(a){var b=window;this.g=z(this.g,this);Ql.call(this,a,[{La:"mousedown",listener:this.g},{La:"mousemove",listener:this.g,target:b},{La:"mouseup",listener:this.g,target:b},{La:"mouseover",listener:this.g},{La:"mouseout",listener:this.g},{La:"dragstart",listener:this.B}])}v(fm,Ql);\nfm.prototype.g=function(a){var b=a.type,c=Dl(this.l),c={x:a.pageX-c.x,y:a.pageY-c.y},d;(d=this.a.a[0])||(d=new Hl(c.x,c.y,1,"mouse"),this.a.push(d));this.c.push(d);Il(d,c.x,c.y);/^mouse(?:move|over|out)$/.test(b)?Sl(this,"pointermove",a):(/^mouse(down|up)$/.test(b)&&(c=a.which-1,"up"===Fl.RegExp.$1?Kl(d,c):Jl(d,c)),Sl(this,b.replace("mouse","pointer"),a));this.c.clear()};fm.prototype.B=function(a){a.preventDefault()};function gm(a){var b=a.va.element.style;if(-1!==hm.indexOf(a))throw Error("InvalidArgument: map is already in use");this.a=a;hm.push(a);b.msTouchAction=b.touchAction="none";this.f=this.g=this.b=this.c=null;navigator.msPointerEnabled||navigator.pointerEnabled?this.c=new Yl(this.a):(this.c=new Xl(this.a),this.b=new fm(this.a));this.g=new em(this.a);this.f=new bm(this.a);this.a.Eb(this.J,this);xc.call(this)}v(gm,xc);r("H.mapevents.MapEvents",gm);var hm=[];\ngm.prototype.J=function(){this.a=null;this.c.J();this.g.J();this.f.J();this.b&&this.b.J();hm.splice(hm.indexOf(this.a),1);xc.prototype.J.call(this)};gm.prototype.dispose=gm.prototype.J;gm.prototype.i=function(){return this.a};gm.prototype.getAttachedMap=gm.prototype.i;function im(a,b){if(-1!==jm.indexOf(a))throw new C(im,0,"events are already used");var c=b||{},d;xc.call(this);this.a=d=a.a;this.o=a;jm.push(a);d.draggable=!0;this.i=c.kinetics||{duration:600,Be:Nj};this.l=7;this.enable(c.enabled||this.l);c=Q.EngineType;this.c=d.va;this.f=this.c.element;this.j=c.P2D;d.addEventListener("dragstart",this.xg,!1,this);d.addEventListener("drag",this.Og,!1,this);d.addEventListener("dragend",this.Pg,!1,this);d.addEventListener("wheel",this.Rg,!1,this);d.addEventListener("dbltap",\nthis.Ng,!1,this);d.addEventListener("tap",this.Qg,!1,this);d.addEventListener("pointermove",this.Vg,!1,this);ui(this.f,"contextmenu",this.Mg,!1,this);a.Eb(this.J,this)}v(im,xc);r("H.mapevents.Behavior",im);var jm=[];im.prototype.b=0;im.DRAGGING=1;im.WHEELZOOM=2;im.DBLTAPZOOM=4;p=im.prototype;\np.xg=function(a){var b=a.pointers,c=this.c;a=b[0];b=b[1]||{};if(this.b&1&&(c.startInteraction(17,this.i),c.interaction(a.viewportX,a.viewportY,b.viewportX,b.viewportY),this.b&2)){c=a.viewportX;a=a.viewportY;var d;this.g&&(b=this.a.getZoom(),d=Math[0>this.g?"ceil":"floor"](b),b!==d&&(this.g=null,this.zoom(b,d,c,a)))}};p.Og=function(a){var b=a.pointers[0],c=a.pointers[1]||Cl;this.b&1&&(this.c.interaction(b.viewportX,b.viewportY,c.viewportX,c.viewportY),a.originalEvent.preventDefault())};\np.Pg=function(){this.b&1&&this.c.endInteraction(!this.i)};p.zoom=function(a,b,c,d){var e=this.a.c;if(isNaN(+a))throw Error("start zoom needs to be a number");if(isNaN(+b))throw Error("to zoom needs to be a number");0!==+b-+a&&(e.startControl(null,c,d),e.control(0,0,.006),e.endControl(!0,function(a){a.zoom=b}))};\np.Rg=function(a){var b,c,d,e;this.b&2&&(b=a.delta,c=this.a.getZoom(),e=Math[0>b?"ceil":"floor"](c-b),d=this.a,d.g().type===this.j?(this.zoom(c,e,a.viewportX,a.viewportY),this.g=b):(c=this.a.c.Ab(),c.fov+=16*b,d.c.Jb(c)),a.originalEvent.preventDefault())};p.Qg=function(a){a=a.currentPointer;this.a.g().type===Pi&&(a=this.a.Va(a.viewportX,a.viewportY),this.a.c.Jb(a))};p.Vg=function(a){a=a.currentPointer;this.a.g().sa(a.viewportX,a.viewportY)};\np.Ng=function(a){var b=a.currentPointer,c=this.a.getZoom(),d=a.currentPointer.type;this.j===this.a.g().type&&(a="mouse"===d?0===a.originalEvent.button?-1:1:0<a.pointers.length?1:-1,a=Math[0>a?"ceil":"floor"](c-a),this.b&4&&this.zoom(c,a,b.viewportX,b.viewportY))};p.Mg=function(a){return this.b&4?(a.preventDefault(),!1):!0};\np.J=function(){var a=this.a;a&&(a.draggable=!1,a.removeEventListener("dragstart",this.xg,!1,this),a.removeEventListener("drag",this.Og,!1,this),a.removeEventListener("dragend",this.Pg,!1,this),a.removeEventListener("wheel",this.Rg,!1,this),a.removeEventListener("tap",this.Qg,!1,this),a.removeEventListener("dbltap",this.Ng,!1,this),a.removeEventListener("pointermove",this.Vg,!1,this),this.a=null);this.f&&(this.f.style.msTouchAction="",vi(this.f,"contextmenu",this.Mg,!1,this),this.f=null);this.i=this.c=\nnull;jm.splice(jm.indexOf(this.o),1);xc.prototype.J.call(this)};im.prototype.dispose=im.prototype.J;im.prototype.disable=function(a){this.c.endInteraction(!0);a?this.b&a&&(this.b-=a,a&1&&(this.a.draggable=!1)):(this.b=0,this.a.draggable=!1)};im.prototype.disable=im.prototype.disable;im.prototype.enable=function(a){a?this.b&a||(this.b+=a,a&1&&(this.a.draggable=!0)):(this.b=this.l,this.a.draggable=!0)};im.prototype.enable=im.prototype.enable;\nim.prototype.m=function(a){if(isNaN(a))throw Error("behavior: number required");return!!(this.b&a)};im.prototype.isEnabled=im.prototype.m;r("H.mapevents.buildInfo",function(){return Bh("mapsjs-mapevents","0.17.0","ed0390e")});\n'),H.util.eval('function ar(a,b,c){b=ab(b)?b+"px":b;c=ab(c)?c+"px":c;a.style[hi("transform")]="translate("+b+","+c+")"}function br(a){var b=a.ownerDocument,c=b.documentElement,b=b.defaultView,d=a.getBoundingClientRect();a=d.left;d=d.top;isNaN(b.pageXOffset)?(a+=c.scrollLeft,d+=c.scrollTop):(a+=b.pageXOffset,d+=b.pageYOffset);return new M(a,d)}var cr={};function dr(a){a?this.a=a:this.a=this.b()}\ndr.prototype.b=function(){var a=Function("return this;")(),b=a.navigator,c=[];b&&(b.msPointerEnabled?c.push(er):b.xi&&c.push(fr));1>c.length&&("TouchEvent"in a&&c.push(gr),c.push(hr));return c};r("H.ui.util.Events.prototype.detectEventSets",dr.prototype.b);dr.prototype.addEventListener=function(a,b,c,d){for(var e=this.a,f,g=e.length,h=!1;g--;)if(f=e[g][b])h=!0,a.addEventListener(f,c,d||!1);h||a.addEventListener(b,c,d||!1)};\ndr.prototype.removeEventListener=function(a,b,c,d){for(var e=this.a,f,g=e.length,h=!1;g--;)if(f=e[g][b])h=!0,a.removeEventListener(f,c,d||!1);h||a.removeEventListener(b,c,d||!1)};\nvar fr={start:"pointerdown",end:"pointerup",move:"pointermove",cancel:"pointercancel",over:"pointerover",out:"pointerout",hover:"pointerhover"},er={start:"MSPointerDown",end:"MSPointerUp",move:"MSPointerMove",cancel:"MSPointerCancel",over:"MSPointerOver",out:"MSPointerOut",hover:"MSPointerHover"},gr={start:"touchstart",end:"touchend",move:"touchmove",cancel:"touchcancel"},hr={start:"mousedown",end:"mouseup",move:"mousemove",over:"mouseover",out:"mouseout",hover:"mousehover"};function ir(a,b,c,d){a=a.createElement(b);c&&(a.className=c);d&&(a.innerHTML=d);return a}function jr(a,b){for(var c=1,d=arguments.length;c<d;c++)a.appendChild(arguments[c])}var kr=new dr;function lr(a,b,c){kr.addEventListener(a,b,c,void 0)}function mr(a,b,c){kr.removeEventListener(a,b,c,void 0)};function X(a,b){I.call(this);this.ra=a||"div";this.v=b?b.split(" "):[];this.qa(!1);this.B(null);this.el=null}v(X,I);r("H.ui.base.Element",X);X.prototype.ca=function(a){if(!a)throw Error("Wrong document object");this.el=ir(a,this.ra,this.v.join(" "));this.renderInternal(this.el,a);this.qa(this.g,!0);nr(this,this.Ua);this.setVisibility(this.N);return this.b()};X.prototype.X=function(){};X.prototype.renderInternal=X.prototype.X;X.prototype.wa=function(){return this.g};X.prototype.isDisabled=X.prototype.wa;\nX.prototype.qa=function(a,b){if(a!==this.g||b)(this.g=a)?this.f("H_disabled"):this.i("H_disabled");return this};X.prototype.setDisabled=X.prototype.qa;X.prototype.getData=function(){return this.P};X.prototype.getData=X.prototype.getData;X.prototype.B=function(a){this.P=a};X.prototype.setData=X.prototype.B;function nr(a,b){a.Ua=b;a.b()&&(b?a.b().setAttribute("title",b):a.b().removeAttribute("title"))}X.prototype.b=function(){return this.el};X.prototype.getElement=X.prototype.b;\nX.prototype.N=!0;X.prototype.setVisibility=function(a){var b;this.N=a;if(b=this.el)b.style.display=a?"":"none"};X.prototype.setVisibility=X.prototype.setVisibility;X.prototype.getVisibility=function(){return this.N};X.prototype.getVisibility=X.prototype.getVisibility;X.prototype.f=function(a){var b=this.b();0>this.v.indexOf(a)&&this.v.push(a);b&&(b.className=this.v.join(" "));return this};X.prototype.addClass=X.prototype.f;\nX.prototype.i=function(a){a=this.v.indexOf(a);var b=this.b();-1<a&&this.v.splice(a,1);b&&(b.className=this.v.join(" "));return this};X.prototype.removeClass=X.prototype.i;function or(a){(a=a.b())&&a.parentNode&&Ge(a)}X.prototype.D=function(){X.u.D.call(this);or(this);this.P=this.el=null};function pr(a){a=a||{};X.call(this,"div","H_btn");this.Sa(a.label||" ");nr(this,a.tooltip||"");this.B(a.data);this.qa(!!a.disabled);this.L(qr.UP,!0);a.onStateChange&&this.addEventListener("statechange",a.onStateChange);this.l=z(this.l,this);this.c=z(this.c,this)}v(pr,X);r("H.ui.base.Button",pr);pr.prototype.X=function(a){lr(a,"start",this.l);lr(a,"end",this.c);lr(a,"out",this.c);this.Sa(this.a,!0)};pr.prototype.renderInternal=pr.prototype.X;pr.prototype.getState=function(){return this.G};\npr.prototype.getState=pr.prototype.getState;pr.prototype.L=function(a,b){a!==this.G&&(this.G=a,a===qr.DOWN?this.f("H_active"):this.i("H_active"),b||this.dispatchEvent("statechange"));return this};pr.prototype.setState=pr.prototype.L;pr.prototype.o=function(){return this.a};pr.prototype.getLabel=pr.prototype.o;pr.prototype.Sa=function(a,b){if(b||a!==this.a)this.a=a,this.b()&&(this.b().innerHTML=a);return this};pr.prototype.setLabel=pr.prototype.Sa;\npr.prototype.l=function(a){this.g||this.L(qr.DOWN);a.preventDefault()};pr.prototype.c=function(a){this.g||this.L(qr.UP);a.preventDefault()};pr.prototype.D=function(){var a=this.b();a&&(mr(a,"start",this.l),mr(a,"end",this.c),mr(a,"out",this.c));X.prototype.D.call(this)};var qr={UP:"up",DOWN:"down"};pr.State=qr;function rr(a){pr.call(this,a);this.m=function(a){a.preventDefault()};this.j=z(function(a){this.g||this.toggleState();a.preventDefault()},this)}v(rr,pr);r("H.ui.base.PushButton",rr);rr.prototype.X=function(a){lr(a,"start",this.j);lr(a,"end",this.m);this.Sa(this.a,!0)};rr.prototype.renderInternal=rr.prototype.X;rr.prototype.s=function(){var a=qr.DOWN;this.L(this.getState()===a?qr.UP:a);return this};rr.prototype.toggleState=rr.prototype.s;\nrr.prototype.D=function(){var a=this.b();a&&mr(a,"start",this.j);pr.prototype.D.call(this)};var sr={TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right",LEFT_TOP:"left-top",LEFT_MIDDLE:"left-middle",LEFT_BOTTOM:"left-bottom",RIGHT_TOP:"right-top",RIGHT_MIDDLE:"right-middle",RIGHT_BOTTOM:"right-bottom",BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right"};r("H.ui.LayoutAlignment",sr);function tr(a,b,c){X.call(this,a,b);this.o=c?[].concat(c):[]}v(tr,X);r("H.ui.base.Container",tr);tr.prototype.qa=function(a,b){var c=this.o?this.o.length:0;for(X.prototype.qa.call(this,a,b);c--;)this.o[c].qa(a,b);return this};tr.prototype.setDisabled=tr.prototype.qa;tr.prototype.c=function(a){var b=this.b();this.o.push(a);b&&(a.ca(b.ownerDocument),b.appendChild(a.b()));return this};tr.prototype.addChild=tr.prototype.c;tr.prototype.ea=function(){return[].concat(this.o)};\ntr.prototype.getChildren=tr.prototype.ea;tr.prototype.removeChild=function(a){var b=this.o.indexOf(a),c=this.b();0<=b&&(this.o.splice(b,1),c&&c.removeChild(a.b()))};tr.prototype.removeChild=tr.prototype.removeChild;tr.prototype.X=function(a,b){for(var c=0,d=this.o.length;c<d;c++)a.appendChild(this.o[c].ca(b))};tr.prototype.renderInternal=tr.prototype.X;tr.prototype.D=function(){this.o.forEach(this.Ga,this);X.prototype.D.call(this)};tr.prototype.Ga=function(a){a.J()};function ur(){tr.call(this,"div","H_pano_mm");this.a=new X("div","H_pano_circle H_noevs");this.l=new X("div","H_pano_man H_noevs");this.c(this.a);this.c(this.l)}v(ur,tr);ur.prototype.X=function(a,b){tr.prototype.renderInternal.call(this,a,b);ar(this.l.el,-1E3,-1E3);ar(this.a.el,-1E3,-1E3);this.a.el.innerHTML=\'<svg class="H_icon H_noevs" viewBox="0 0 120 60"><ellipse cx="60" cy="30" rx="40" ry="20" stroke-width="3" /></svg>\';vr(this,!1)};\nr("H.ui.panorama.Miniman.prototype.renderInternal",ur.prototype.X);\nfunction vr(a,b,c,d){a.l.el.innerHTML=b?\'<svg class="H_icon H_noevs" viewBox="0 0 120 192"><path d="m5,83c8,-15 16,-18 23,-20c6,-2 16,-1 17,-1c0,0 11,0 15,0c5,0 6,0 11,0c7,0 20,-6 27,-18c3,-6 4,-9 6,-12c2,-3 7,-5 11,-3c4,2 4,8 3,11c-1,4 -6,15 -9,20c-19,30 -37,32 -38,32l0,94c0,3 -3,7 -8,7c-4,0 -9,-3 -9,-7l-3,-53c0,0 -3,0 -4,0l-3,53c0,3 -3,7 -9,7c-4,0 -9,-3 -9,-7l0,-88c0,0 -9,0 -9,29c0,3 -1,10 -9,10c-7,0 -10,-7 -10,-11c0,-14 0,-31 6,-41l0,0l1,-2z" stroke-width="10"/><circle r="25" cy="25" cx="49" stroke-width="10"/></svg>\':\'<svg class="H_icon H_noevs" viewBox="0 0 120 192"><path d="m96,85c-6,-13 -17,-18 -23,-21c-6,-2 -12,-2 -12,-2c0,0 -22,0 -22,0c0,0 -6,0 -12,2c-6,2 -16,8 -23,21c-4,9 -4,27 -4,38c0,6 5,9 9,9c3,0 8,-3 8,-9c0,-28 9,-27 9,-27l0,88c0,4 3,7 8,7c4,0 9,-1 9,-7l4,-52c0,0 2,0 3,0l4,52c0,5 4,7 9,7c4,0 8,-3 8,-7l0,-88c0,0 9,0 9,27c0,5 5,9 8,9c3,0 9,-2 9,-9c0,-11 3,-28 -1,-38l0,0m-22,-60c0,14 -11,25 -25,25c-14,0 -25,-11 -25,-25c0,-14 11,-25 25,-25c14,0 25,11 25,25z" stroke-width="10"/></svg>\';\nb&&ar(a.a.el,c||0,d||0);a.qa(!b)};function wr(a){I.call(this);this.f=a;this.map=a.Bb();this.i=this.g=Number.MAX_VALUE;this.Bc=z(this.Bc,this);this.Td=z(this.Td,this);this.mf=z(this.mf,this);this.Od=z(this.Od,this);this.Nd=z(this.Nd,this);this.Md=z(this.Md,this);this.Rd=z(this.Rd,this);this.Id=z(this.Id,this);this.b=new ur;this.b.ca(a.oa.ownerDocument);this.cc=z(this.cc,this);lr(this.b.a.el,"start",this.cc);this.o=this.j=Number.MAX_VALUE;this.Wd=z(this.Wd,this);this.Jd=z(this.Jd,this);this.a=new xr(this.map.Oa());this.a.f("H_ib_noclose H_pano_ib");\nthis.v=!1;this.l=ja("H.map.render.panorama").RenderEngine;this.c=0}v(wr,I);p=wr.prototype;\np.enable=function(){var a=this.map;this.v||(this.f.oa.insertBefore(this.b.el,this.f.oa.firstChild),this.f.ud(this.a),this.a.close(),lr(this.a.el,"start",this.cc),a.addEventListener("pointermove",this.Bc),a.addEventListener("drag",this.Bc),a.addEventListener("tap",this.Jd),a.addEventListener("mapviewchange",this.Od),a.addEventListener("mapviewchangestart",this.Nd),a.addEventListener("mapviewchangeend",this.Md),a.addEventListener("pointerleave",this.Id),a.addEventListener("pointerenter",this.Rd),this.v=\n!0)};p.Id=function(a){"mouse"===a.currentPointer.type&&(or(this.b),this.f.B(this.a))};p.Rd=function(a){"mouse"===a.currentPointer.type&&(this.f.oa.insertBefore(this.b.el,this.f.oa.firstChild),this.f.ud(this.a),lr(this.a.el,"start",this.cc),this.a.close())};p.cc=function(a){a instanceof MouseEvent&&1!==a.which||yr(this,this.g,this.i)};\np.disable=function(){var a=this.a.el,b=this.map;or(this.b);this.f.B(this.a);a&&mr(a,"start",this.cc);mr(this.b.a.el,"start",this.cc);b.removeEventListener("pointermove",this.Bc);b.removeEventListener("drag",this.Bc);b.removeEventListener("tap",this.Jd);b.removeEventListener("mapviewchange",this.Od);b.removeEventListener("mapviewchangestart",this.Nd);b.removeEventListener("mapviewchangeend",this.Md);b.removeEventListener("pointerleave",this.Id);b.removeEventListener("pointerenter",this.Rd);this.v=\n!1};function yr(a,b,c){a.l&&(a.j=b,a.o=c,a.l.getClosestPanoramas(a.map.Ka(a.j,a.o),a.Wd))}p.Bc=function(a){var b=a.currentPointer;0===this.map.g().type&&"touch"!==b.type&&(a=b.viewportX,b=b.viewportY,this.g!==a||this.i!==b)&&(this.b.l.el.style.display="block",this.B&&clearTimeout(this.B),this.s&&this.s.cancel(),this.m=null,this.g=a,this.i=b,w.setTimeout(z(this.Bi,this,a,b),0),this.B=w.setTimeout(this.Td,350),vr(this.b,!1),this.a.close())};\np.Bi=function(a,b){var c=this.b;ar(c.l.el,a,b);ar(c.a.el,a,b)};p.Td=function(){this.l&&this.l.getClosestPanoramas(this.map.Ka(this.g,this.i),this.mf)};p.mf=function(a){var b=this,c;a&&0<a.length?(c=this.map.o(a[0].position),this.m=a[0].position,vr(this.b,!0,c.x,c.y),c=this.l.getImageUrl(a[0]),this.s=new Gh("image",c),this.s.then(function(c){b.a.s(a[0].position);b.a.o(\'<img src="\'+c.src+\'" />\');b.a.open()})):this.c&&this.Wd(a)};p.Nd=function(){this.b.a.f("H_pano_notransition");this.a.close()};\np.Md=function(){this.b.a.i("H_pano_notransition")};p.Od=function(){if(this.m){var a=this.map.o(this.m);a&&vr(this.b,!0,a.x,a.y)}this.c=0};p.Jd=function(a){var b=a.currentPointer,c="mouse"===b.type,d=b.viewportX,b=b.viewportY,e=Math.abs;0===a.currentPointer.button&&(1===this.c&&25>e(this.g-d)&&25>e(this.i-b)?this.c++:0===this.c&&this.c++,1!==this.c||c||(this.a.close(),this.g=d,this.i=b,this.j=d,this.o=b,this.Td()),2===this.c||c)&&(yr(this,d,b),this.c=0)};\np.Wd=function(a){a&&0<a.length?this.dispatchEvent({type:"enter",position:a[0].position}):(a=this.map.Ka(this.j,this.o),this.a.s(a),this.a.o(this.f.da().translate("panorama.unavailableHere")),this.a.open())};function Y(){tr.call(this,"div","H_ctl");this.map=null;this.Mb="top-left"}v(Y,tr);r("H.ui.Control",Y);Y.prototype.Ha=null;Y.prototype.el=Y.prototype.Ha;Y.prototype.Wa=function(a){this.map=a};Y.prototype.ca=function(a){return tr.prototype.ca.call(this,a)};Y.prototype.X=function(a,b){tr.prototype.renderInternal.call(this,a,b);this.l(this.Mb)};Y.prototype.renderInternal=Y.prototype.X;Y.prototype.ld=function(){};Y.prototype.onUnitSystemChange=Y.prototype.ld;Y.prototype.Qa=function(){};\nY.prototype.onMapEngineTypeChange=Y.prototype.Qa;Y.prototype.Bb=function(){return this.map};Y.prototype.getMap=Y.prototype.Bb;Y.prototype.da=function(){return this.sa};Y.prototype.getLocalization=Y.prototype.da;Y.prototype.Ba=function(){return this.Mb};Y.prototype.getAlignment=Y.prototype.Ba;Y.prototype.l=function(a){"string"===typeof a&&sr[a.replace("-","_").toUpperCase()]===a&&(this.Mb=a,this.dispatchEvent("alignmentchange"));return this};Y.prototype.setAlignment=Y.prototype.l;function zr(a){var b;b=this.a={wc:{label:\'<svg class="H_icon" viewBox="75 67 180 200"><path d="m214,153c-6,-13 -17,-18 -23,-21c-6,-2 -12,-2 -12,-2c0,0 -22,0 -22,0c0,0 -6,0 -12,2c-6,2 -16,8 -23,21c-4,9 -4,27 -4,38c0,6 5,9 9,9c3,0 8,-3 8,-9c0,-28 9,-27 9,-27l0,88c0,4 3,7 8,7c4,0 9,-1 9,-7l4,-52c0,0 2,0 3,0l4,52c0,5 4,7 9,7c4,0 8,-3 8,-7l0,-88c0,0 9,0 9,27c0,5 5,9 8,9c3,0 9,-2 9,-9c0,-11 3,-28 -1,-38l0,0z"/><circle cx="167" cy="93" r="25"/></svg>\'},ag:{label:\'<svg class="H_icon" viewBox="73 72 178 205"><path d="m120,158c8,-15 16,-18 23,-20c6,-2 16,-1 17,-1c0,0 11,0 15,0c5,0 6,0 11,0c7,0 20,-6 27,-18c3,-6 4,-9 6,-12c2,-3 7,-5 11,-3c4,2 4,8 3,11c-1,4 -6,15 -9,20c-19,30 -37,32 -38,32l0,94c0,3 -3,7 -8,7c-4,0 -9,-3 -9,-7l-3,-53c0,0 -3,0 -4,0l-3,53c0,3 -3,7 -9,7c-4,0 -9,-3 -9,-7l0,-88c0,0 -9,0 -9,29c0,3 -1,10 -9,10c-7,0 -10,-7 -10,-11c0,-14 0,-31 6,-41l0,0l1,-2z"/><circle cx="166" cy="99" r="25"/></svg>\'},\nEc:{}};var c=this,d;Y.call(this);this.qa(!0);a&&(Ar(this,a.mapTypes),(d=a.alignment)&&this.l(d));this.coverageButton_=new rr({onStateChange:function(){var a=c.a;c.L("down"===this.getState()?a.ag:a.wc)}});this.s=new pr({onStateChange:function(){c.map.N(0);c.L(c.A)}});this.c(this.coverageButton_);this.c(this.s);this.G=this.A=b.wc}v(zr,Y);r("H.ui.Pano",zr);\nfunction Ar(a,b){var c,d,e,f;if(b){a.C=b;a.F=c=[];e=["normal","satellite","terrain"];for(f=0;f<e.length;f++)b[d=e[f]]&&c.unshift(b[d]);for(d in b)0>e.indexOf(d)&&c.unshift(b[d]);a.qa(!c.length)}}function Br(a,b){var c,d,e,f,g;if(g=b){c=a.C;var h;a:for(e in c)if(cr.hasOwnProperty.call(c,e))for(e in f=c[e],f)if(f[e]===b){h=!0;break a}g=c=h?f:void 0}g&&(d=c.panorama);if(!d)for(e=a.F,f=e.length;f--&&!(d=e[f].panorama););return d}\nzr.prototype.X=function(a,b){Y.prototype.renderInternal.call(this,a,b);this.L(this.a.wc);this.j=new wr(this.jb());this.a.wc.ge=this.da().translate("panorama.showCoverage");this.a.ag.ge=this.da().translate("panorama.hideCoverage");this.a.Ec.ge=this.da().translate("panorama.leave");this.a.Ec.label=\'<span style="padding: 0 0.5em">\'+this.da().translate("panorama.leave")+"<span>";this.s.Sa(this.a.Ec.label);nr(this.s,this.a.Ec.ge);var c,d=this;this.j.addEventListener("enter",function(a){d.j.disable();d.map.Ga(a.position,\n!0);setTimeout(function(){d.coverageButton_.setVisibility(!1);d.map.N(Pi)},200)});c=this.map.fa;this.m=z(this.m,this);c.addEventListener("add",this.m);c.addEventListener("remove",this.m,!0,this);c.addEventListener("set",this.m,!0,this)};zr.prototype.renderInternal=zr.prototype.X;zr.prototype.m=function(a){0===a.idx&&this.map&&Br(this,this.map.i)===this.map.i&&(this.j.disable(),this.coverageButton_.L(qr.UP))};\nzr.prototype.L=function(a){var b=this.G,c=this.a,d=a===c.Ec,e=this.coverageButton_;b===c.wc&&(this.K=this.map.i);d?this.A=b:(a===c.wc?(b="UP",c=this.K,this.j&&this.j.disable()):(b="DOWN",c=Br(this,this.map.i),this.j&&this.j.enable()),c&&this.map.Zb(c),e.Sa(a.label),nr(e,a.ge),e.L(qr[b]));this.s.setVisibility(d);e.setVisibility(!d);this.G=a};zr.prototype.Qa=function(a){var b=this.a;this.L(a===Pi?b.Ec:this.A)};zr.prototype.onMapEngineTypeChange=zr.prototype.Qa;function Cr(a,b){var c={},d={};c["top-left"]=ir(b,"div",[Dr,Er].join(" "));c["top-center"]=ir(b,"div",[Dr,Fr,Gr,Er].join(" "));c["top-right"]=ir(b,"div",[Dr,Er].join(" "));c["left-top"]=ir(b,"div",[Dr,Hr].join(" "));c["left-middle"]=ir(b,"div",[Dr,Ir,Jr,Hr].join(" "));c["left-bottom"]=ir(b,"div",[Dr,Hr].join(" "));c["right-top"]=ir(b,"div",[Dr,Hr].join(" "));c["right-middle"]=ir(b,"div",[Dr,Kr,Jr,Hr].join(" "));c["right-bottom"]=ir(b,"div",[Dr,Hr].join(" "));c["bottom-left"]=ir(b,"div",[Dr,Er].join(" "));\nc["bottom-center"]=ir(b,"div",[Dr,Lr,Gr,Er].join(" "));c["bottom-right"]=ir(b,"div",[Dr,Er].join(" "));d["top-left"]=ir(b,"div",[Fr,Ir].join(" "));d["top-right"]=ir(b,"div",[Fr,Kr].join(" "));d["bottom-left"]=ir(b,"div",[Lr,Ir].join(" "));d["bottom-right"]=ir(b,"div",[Lr,Kr].join(" "));jr(d["top-left"],c["top-left"],c["left-top"]);jr(d["top-right"],c["top-right"],c["right-top"]);jr(d["bottom-left"],c["left-bottom"],c["bottom-left"]);jr(d["bottom-right"],c["right-bottom"],c["bottom-right"]);jr(a,d["top-left"],\nd["top-right"],d["bottom-left"],d["bottom-right"],c["top-center"],c["left-middle"],c["right-middle"],c["bottom-center"]);this.a=c}var Fr="H_l_top",Lr="H_l_bottom",Ir="H_l_left",Kr="H_l_right",Gr="H_l_center",Jr="H_l_middle",Er="H_l_horizontal",Hr="H_l_vertical",Dr="H_l_anchor";function Mr(a){a=a.a;Nr(a["top-center"],!0);Nr(a["bottom-center"],!0);Nr(a["left-middle"],!1);Nr(a["right-middle"],!1)}\nfunction Nr(a,b){var c;b?(c=a.offsetWidth,a.style.marginLeft=-Math.round(.5*c)+"px"):(c=a.offsetHeight,a.style.marginTop=-Math.round(.5*c)+"px")};var Or={IMPERIAL:"imperial",METRIC:"metric"};r("H.ui.UnitSystem",Or);var Pr=[];r("H.ui.i18n.defaultLocales",Pr);var Qr={},Rr=[];function Sr(a,b){Qr[a]=b;-1===Pr.indexOf(a)&&Pr.push(a);Rr.length?Tr(a,b):Rr=Object.keys(b)}function Tr(a,b){for(var c=Rr,d=c.length,e;d--;)if(e=c[d],!b[e])throw Error("\'"+e+"\' key missing in translation map for "+a);};Sr("nl-NL",{"layers.normal":"Kaartweergave","layers.satellite":"Satelliet","layers.terrain":"Terrein","layer.transit":"Openbaar vervoer","layer.traffic":"Verkeerssituatie","layer.incidents":"Toon verkeersincidenten","layers.choose":"Weergave kiezen",minimap:"Minimap","scale.switchToImperial":"Overgaan naar mijlen","scale.switchToMetric":"Wijzigen naar km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Uitzoomen","zoom.in":"Inzoomen","zoom.rectangle":"Zoom rectangle","panorama.leave":"Straatbeeld verlaten",\n"panorama.showCoverage":"Toon straatbeeld","panorama.hideCoverage":"Verberg straatbeeld","panorama.unavailableHere":"Hier hebben we geen Straatbeeld dekking","traffic.MASS_TRANSIT":"Openbaar vervoer","traffic.MISCELLANEOUS":"Diversen","traffic.ACCIDENT":"Ongeval","traffic.OTHER_NEWS":"Meer informatie","traffic.PLANNED_EVENT":"Geplande afzetting","traffic.ROAD_HAZARD":"Gevaar op de weg","traffic.WEATHER":"Weer","traffic.CONGESTION":"Verkeersopstopping","traffic.CONSTRUCTION":"Wegwerkzaamheden","traffic.DISABLED_VEHICLE":"Voertuig met pech",\n"traffic.from":"Begintijd:","traffic.until":"Geschatte eindtijd:","distance.measurement":"Measure distance"});Sr("pt-PT",{"layers.normal":"Vista do mapa","layers.satellite":"Sat\\u00e9lite","layers.terrain":"Terreno","layer.transit":"Transportes p\\u00fablicos","layer.traffic":"Condi\\u00e7\\u00f5es de tr\\u00e2nsito","layer.incidents":"Mostrar incidentes de tr\\u00e2nsito","layers.choose":"Escolher vista",minimap:"Minimap","scale.switchToImperial":"Mudar para milhas","scale.switchToMetric":"Mudar para km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Diminuir","zoom.in":"Aumentar",\n"zoom.rectangle":"Zoom rectangle","panorama.leave":"Sair de Vista de Rua","panorama.showCoverage":"Visualizar \\u00e1reas com Vista de Rua","panorama.hideCoverage":"Esconder \\u00e1reas com Vista de Rua","panorama.unavailableHere":"Vista de Rua indispon\\u00edvel neste local.","traffic.MASS_TRANSIT":"Transportes p\\u00fablicos","traffic.MISCELLANEOUS":"Diversos","traffic.ACCIDENT":"Acidente","traffic.OTHER_NEWS":"Outras not\\u00edcias","traffic.PLANNED_EVENT":"Evento planeado","traffic.ROAD_HAZARD":"Perigo na estrada",\n"traffic.WEATHER":"Meteorologia","traffic.CONGESTION":"Congestionamento","traffic.CONSTRUCTION":"Constru\\u00e7\\u00e3o","traffic.DISABLED_VEHICLE":"Ve\\u00edculo avariado","traffic.from":"Hora de in\\u00edcio:","traffic.until":"Hora de fim prevista:","distance.measurement":"Measure distance"});Sr("ru-RU",{"layers.normal":"\\u0420\\u0435\\u0436\\u0438\\u043c \\u043a\\u0430\\u0440\\u0442\\u044b","layers.satellite":"\\u0421\\u043f\\u0443\\u0442\\u043d\\u0438\\u043a\\u043e\\u0432\\u0430\\u044f","layers.terrain":"\\u041c\\u0435\\u0441\\u0442\\u043d\\u043e\\u0441\\u0442\\u044c","layer.transit":"\\u041e\\u0431\\u0449\\u0435\\u0441\\u0442\\u0432\\u0435\\u043d\\u043d\\u044b\\u0439 \\u0442\\u0440\\u0430\\u043d\\u0441\\u043f\\u043e\\u0440\\u0442","layer.traffic":"\\u0414\\u043e\\u0440\\u043e\\u0436\\u043d\\u044b\\u0435 \\u0443\\u0441\\u043b\\u043e\\u0432\\u0438\\u044f",\n"layer.incidents":"\\u041f\\u043e\\u043a\\u0430\\u0437\\u0430\\u0442\\u044c \\u0434\\u043e\\u0440\\u043e\\u0436\\u043d\\u044b\\u0435 \\u0441\\u043e\\u0431\\u044b\\u0442\\u0438\\u044f","layers.choose":"\\u0412\\u044b\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0432\\u0438\\u0434",minimap:"Minimap","scale.switchToImperial":"\\u0418\\u0441\\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u044c \\u043c\\u0438\\u043b\\u0438","scale.switchToMetric":"\\u0418\\u0441\\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u044c \\u043a\\u0438\\u043b\\u043e\\u043c\\u0435\\u0442\\u0440\\u044b",\n"scale.km":"\\u043a\\u043c","scale.m":"\\u043c","scale.mi":"\\u043c\\u0438\\u043b\\u044c","scale.ft":"\\u0444\\u0443\\u0442","zoom.out":"\\u041e\\u0442\\u0434\\u0430\\u043b\\u0438\\u0442\\u044c","zoom.in":"\\u041f\\u0440\\u0438\\u0431\\u043b\\u0438\\u0437\\u0438\\u0442\\u044c","zoom.rectangle":"Zoom rectangle","panorama.leave":"\\u0412\\u044b\\u0439\\u0442\\u0438 \\u0438\\u0437 \\u0440\\u0435\\u0436\\u0438\\u043c\\u0430 \\u043f\\u0440\\u043e\\u0441\\u043c\\u043e\\u0442\\u0440\\u0430 \\u0443\\u043b\\u0438\\u0446","panorama.showCoverage":"\\u041f\\u043e\\u043a\\u0430\\u0437\\u0430\\u0442\\u044c \\u043e\\u0431\\u043b\\u0430\\u0441\\u0442\\u0438 \\u0441 \\u043f\\u0430\\u043d\\u043e\\u0440\\u0430\\u043c\\u0430\\u043c\\u0438 \\u0443\\u043b\\u0438\\u0446",\n"panorama.hideCoverage":"\\u0421\\u043a\\u0440\\u044b\\u0442\\u044c \\u043e\\u0431\\u043b\\u0430\\u0441\\u0442\\u0438 \\u0441 \\u043f\\u0430\\u043d\\u043e\\u0440\\u0430\\u043c\\u0430\\u043c\\u0438 \\u0443\\u043b\\u0438\\u0446","panorama.unavailableHere":"\\u041d\\u0435\\u0432\\u043e\\u0437\\u043c\\u043e\\u0436\\u043d\\u043e \\u043f\\u043e\\u043a\\u0430\\u0437\\u0430\\u0442\\u044c \\u043f\\u0430\\u043d\\u043e\\u0440\\u0430\\u043c\\u0443 \\u044d\\u0442\\u0438\\u0445 \\u0443\\u043b\\u0438\\u0446","traffic.MASS_TRANSIT":"\\u041e\\u0431\\u0449\\u0435\\u0441\\u0442\\u0432\\u0435\\u043d\\u043d\\u044b\\u0439 \\u0442\\u0440\\u0430\\u043d\\u0441\\u043f\\u043e\\u0440\\u0442",\n"traffic.MISCELLANEOUS":"\\u041f\\u0440\\u043e\\u0447\\u0435\\u0435 \\u0414\\u0422\\u041f","traffic.ACCIDENT":"\\u0414\\u0422\\u041f","traffic.OTHER_NEWS":"\\u0414\\u0440\\u0443\\u0433\\u0438\\u0435 \\u043d\\u043e\\u0432\\u043e\\u0441\\u0442\\u0438","traffic.PLANNED_EVENT":"\\u041f\\u043b\\u0430\\u043d\\u043e\\u0432\\u043e\\u0435 \\u043c\\u0435\\u0440\\u043e\\u043f\\u0440\\u0438\\u044f\\u0442\\u0438\\u0435","traffic.ROAD_HAZARD":"\\u0414\\u043e\\u0440\\u043e\\u0436\\u043d\\u0430\\u044f \\u043e\\u043f\\u0430\\u0441\\u043d\\u043e\\u0441\\u0442\\u044c","traffic.WEATHER":"\\u041f\\u043e\\u0433\\u043e\\u0434\\u0430",\n"traffic.CONGESTION":"\\u041f\\u0440\\u043e\\u0431\\u043a\\u0430","traffic.CONSTRUCTION":"\\u0420\\u0435\\u043c\\u043e\\u043d\\u0442","traffic.DISABLED_VEHICLE":"\\u041d\\u0435\\u0438\\u0441\\u043f\\u0440\\u0430\\u0432\\u043d\\u044b\\u0439 \\u0430\\u0432\\u0442\\u043e\\u043c\\u043e\\u0431\\u0438\\u043b\\u044c","traffic.from":"\\u0412\\u0440\\u0435\\u043c\\u044f \\u043d\\u0430\\u0447\\u0430\\u043b\\u0430:","traffic.until":"\\u041e\\u0436\\u0438\\u0434\\u0430\\u0435\\u043c\\u043e\\u0435 \\u0432\\u0440\\u0435\\u043c\\u044f \\u043e\\u043a\\u043e\\u043d\\u0447\\u0430\\u043d\\u0438\\u044f:",\n"distance.measurement":"\\u0418\\u0437\\u043c\\u0435\\u0440\\u0438\\u0442\\u044c \\u0440\\u0430\\u0441\\u0441\\u0442\\u043e\\u044f\\u043d\\u0438\\u0435"});Sr("fi-FI",{"layers.normal":"Karttan\\u00e4kym\\u00e4","layers.satellite":"Satelliitti","layers.terrain":"Maasto","layer.transit":"Julkinen liikenne","layer.traffic":"Liikenneolosuhteet","layer.incidents":"N\\u00e4yt\\u00e4 liikennetapahtumat","layers.choose":"Valitse n\\u00e4kym\\u00e4",minimap:"Minimap","scale.switchToImperial":"Vaihda maileihin","scale.switchToMetric":"Vaihda kilometreihin","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Loitonna","zoom.in":"L\\u00e4henn\\u00e4",\n"zoom.rectangle":"Zoom rectangle","panorama.leave":"Poistu katun\\u00e4kym\\u00e4st\\u00e4","panorama.showCoverage":"N\\u00e4yt\\u00e4 katutason kattavuus","panorama.hideCoverage":"Piilota katutason kattavuus","panorama.unavailableHere":"Emme voi n\\u00e4ytt\\u00e4\\u00e4 sinulle katu tasoa t\\u00e4ss\\u00e4","traffic.MASS_TRANSIT":"Julkinen liikenne","traffic.MISCELLANEOUS":"Erittelem\\u00e4t\\u00f6n syy","traffic.ACCIDENT":"Onnettomuus","traffic.OTHER_NEWS":"Muu tapahtuma","traffic.PLANNED_EVENT":"Suunniteltu tapahtuma",\n"traffic.ROAD_HAZARD":"Vaara tiell\\u00e4","traffic.WEATHER":"S\\u00e4\\u00e4","traffic.CONGESTION":"Ruuhka","traffic.CONSTRUCTION":"Rakennusty\\u00f6","traffic.DISABLED_VEHICLE":"Pys\\u00e4htynyt ajoneuvo","traffic.from":"Alkamisaika:","traffic.until":"Arvioitu p\\u00e4\\u00e4ttymisaika:","distance.measurement":"Measure distance"});Sr("pt-BR",{"layers.normal":"Exibi\\u00e7\\u00e3o do mapa","layers.satellite":"Sat\\u00e9lite","layers.terrain":"Terreno","layer.transit":"Transporte p\\u00fablico","layer.traffic":"Condi\\u00e7\\u00f5es do tr\\u00e2nsito","layer.incidents":"Mostrar incidentes no tr\\u00e2nsito","layers.choose":"Escolher exibi\\u00e7\\u00e3o",minimap:"Minimap","scale.switchToImperial":"Mudar para milhas","scale.switchToMetric":"Mudar para km","scale.km":"km","scale.m":"m","scale.mi":"milhas","scale.ft":"p\\u00e9s","zoom.out":"Menos zoom",\n"zoom.in":"Mais zoom","zoom.rectangle":"Zoom rectangle","panorama.leave":"Sair de n\\u00edvel de rua","panorama.showCoverage":"Mostrar \\u00e1reas com N\\u00edvel de Rua","panorama.hideCoverage":"Esconder \\u00e1reas com N\\u00edvel de Rua","panorama.unavailableHere":"N\\u00e3o \\u00e9 poss\\u00edvel mostrar N\\u00edvel da Rua aqui.","traffic.MASS_TRANSIT":"Transporte p\\u00fablico","traffic.MISCELLANEOUS":"Miscel\\u00e2nea","traffic.ACCIDENT":"Acidente","traffic.OTHER_NEWS":"Outras not\\u00edcias","traffic.PLANNED_EVENT":"Evento planejado",\n"traffic.ROAD_HAZARD":"Risco na estrada","traffic.WEATHER":"Clima","traffic.CONGESTION":"Congestionamento","traffic.CONSTRUCTION":"Constru\\u00e7\\u00e3o","traffic.DISABLED_VEHICLE":"Ve\\u00edculo incapacitado","traffic.from":"Hora de in\\u00edcio:","traffic.until":"Tempo final estimado:","distance.measurement":"Measure distance"});Sr("zh-CN",{"layers.normal":"\\u5730\\u56fe\\u89c6\\u56fe","layers.satellite":"\\u536b\\u661f","layers.terrain":"\\u5730\\u5f62","layer.transit":"\\u516c\\u5171\\u4ea4\\u901a","layer.traffic":"\\u4ea4\\u901a\\u60c5\\u51b5","layer.incidents":"\\u663e\\u793a\\u4ea4\\u901a\\u4e8b\\u4ef6","layers.choose":"\\u9009\\u62e9\\u89c6\\u56fe",minimap:"Minimap","scale.switchToImperial":"\\u5207\\u6362\\u4e3a\\u300c\\u82f1\\u91cc\\u300d","scale.switchToMetric":"\\u5207\\u6362\\u4e3a\\u300c\\u516c\\u91cc\\u300d","scale.km":"\\u516c\\u91cc","scale.m":"\\u7c73",\n"scale.mi":"\\u82f1\\u91cc","scale.ft":"\\u82f1\\u5c3a","zoom.out":"\\u7f29\\u5c0f","zoom.in":"\\u653e\\u5927","zoom.rectangle":"Zoom rectangle","panorama.leave":"\\u9000\\u51fa\\u8857\\u666f","panorama.showCoverage":"\\u663e\\u793a\\u652f\\u6301\\u8857\\u666f\\u7684\\u533a\\u57df","panorama.hideCoverage":"\\u9690\\u85cf\\u652f\\u6301\\u8857\\u666f\\u7684\\u533a\\u57df","panorama.unavailableHere":"\\u6b64\\u5730\\u8fd8\\u4e0d\\u652f\\u6301\\u8857\\u666f","traffic.MASS_TRANSIT":"\\u516c\\u5171\\u4ea4\\u901a","traffic.MISCELLANEOUS":"\\u7efc\\u5408\\u4e8b\\u4ef6",\n"traffic.ACCIDENT":"\\u4ea4\\u901a\\u610f\\u5916","traffic.OTHER_NEWS":"\\u5176\\u4ed6\\u65b0\\u95fb","traffic.PLANNED_EVENT":"\\u9884\\u5b9a\\u4e8b\\u4ef6","traffic.ROAD_HAZARD":"\\u9053\\u8def\\u5371\\u9669","traffic.WEATHER":"\\u5929\\u6c14","traffic.CONGESTION":"\\u5835\\u585e","traffic.CONSTRUCTION":"\\u65bd\\u5de5","traffic.DISABLED_VEHICLE":"\\u8f66\\u8f86\\u629b\\u951a","traffic.from":"\\u5f00\\u59cb\\u65f6\\u95f4\\uff1a","traffic.until":"\\u9884\\u8ba1\\u7ed3\\u675f\\u65f6\\u95f4\\uff1a","distance.measurement":"Measure distance"});Sr("es-ES",{"layers.normal":"Mapa","layers.satellite":"Sat\\u00e9lite","layers.terrain":"Terreno","layer.transit":"Transporte p\\u00fablico","layer.traffic":"Estado del tr\\u00e1fico","layer.incidents":"Mostrar incidentes de tr\\u00e1fico","layers.choose":"Elija una vista",minimap:"Minimap","scale.switchToImperial":"Cambiar a millas","scale.switchToMetric":"Cambiar a km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Alejar","zoom.in":"Acercar","zoom.rectangle":"Zoom rectangle",\n"panorama.leave":"Salir de vista de calles","panorama.showCoverage":"Mostrar \\u00e1reas con vista desde la calle","panorama.hideCoverage":"Ocultar \\u00e1reas con vista desde la calle","panorama.unavailableHere":"No se puede mostrar vista desde la calle aqu\\u00ed","traffic.MASS_TRANSIT":"Transporte p\\u00fablico","traffic.MISCELLANEOUS":"Varios","traffic.ACCIDENT":"Accidente","traffic.OTHER_NEWS":"M\\u00e1s noticias","traffic.PLANNED_EVENT":"Acto programado","traffic.ROAD_HAZARD":"Riesgo en carretera",\n"traffic.WEATHER":"Tiempo","traffic.CONGESTION":"Atasco","traffic.CONSTRUCTION":"Construcci\\u00f3n","traffic.DISABLED_VEHICLE":"Veh\\u00edculo averiado","traffic.from":"Inicio:","traffic.until":"Finalizaci\\u00f3n estimada:","distance.measurement":"Measure distance"});Sr("fr-FR",{"layers.normal":"Carte","layers.satellite":"Satellite","layers.terrain":"Terrain","layer.transit":"Transports publics","layer.traffic":"Conditions de circulation","layer.incidents":"Afficher les incidents de circulation","layers.choose":"Choisir la vue",minimap:"Minimap","scale.switchToImperial":"Passer en miles","scale.switchToMetric":"Passer en km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Zoom arri\\u00e8re","zoom.in":"Zoom avant","zoom.rectangle":"Zoom rectangle",\n"panorama.leave":"Quitter le mode chauss\\u00e9e","panorama.showCoverage":"Activer le mode Chauss\\u00e9e","panorama.hideCoverage":"D\\u00e9sactiver le mode Chauss\\u00e9e","panorama.unavailableHere":"Le mode chauss\\u00e9e n\'est pas disponible ici","traffic.MASS_TRANSIT":"Transports publics","traffic.MISCELLANEOUS":"Divers","traffic.ACCIDENT":"Accident","traffic.OTHER_NEWS":"Autre","traffic.PLANNED_EVENT":"\\u00c9v\\u00e9nement pr\\u00e9vu","traffic.ROAD_HAZARD":"Danger routier","traffic.WEATHER":"M\\u00e9t\\u00e9o",\n"traffic.CONGESTION":"Embouteillage","traffic.CONSTRUCTION":"Travaux","traffic.DISABLED_VEHICLE":"V\\u00e9hicule en panne","traffic.from":"Date ou heure de d\\u00e9but:","traffic.until":"Date et heure de fin estim\\u00e9es:","distance.measurement":"Measure distance"});Sr("pl-PL",{"layers.normal":"Widok mapy","layers.satellite":"Satelita","layers.terrain":"Teren","layer.transit":"Transport publiczny","layer.traffic":"Warunki drogowe","layer.incidents":"Poka\\u017c zdarzenia drogowe","layers.choose":"Wybierz widok",minimap:"Minimap","scale.switchToImperial":"Zmie\\u0144 na mile","scale.switchToMetric":"Zmie\\u0144 na km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Oddal","zoom.in":"Przybli\\u017c","zoom.rectangle":"Zoom rectangle","panorama.leave":"Wyjd\\u017a z panoramy",\n"panorama.showCoverage":"Poka\\u017c obszary trybu panoramy","panorama.hideCoverage":"Ukryj obszary trybu panoramy","panorama.unavailableHere":"Niemo\\u017cliwe jest pokazanie widoku panoramy w tym miejscu.","traffic.MASS_TRANSIT":"Transport publiczny","traffic.MISCELLANEOUS":"Inne zdarzenie","traffic.ACCIDENT":"Wypadek","traffic.OTHER_NEWS":"Inne wiadomo\\u015bci","traffic.PLANNED_EVENT":"Zdarzenie planowane","traffic.ROAD_HAZARD":"Niebezpiecze\\u0144stwo na drodze","traffic.WEATHER":"Pogoda","traffic.CONGESTION":"Korek",\n"traffic.CONSTRUCTION":"Budowa","traffic.DISABLED_VEHICLE":"Uszkodzony pojazd","traffic.from":"Data rozpocz\\u0119cia:","traffic.until":"Przybli\\u017cona data zako\\u0144czenia:","distance.measurement":"Measure distance"});Sr("de-DE",{"layers.normal":"Kartenansicht","layers.satellite":"Satellit","layers.terrain":"Gel\\u00e4nde","layer.transit":"\\u00d6ffentliche Verkehrsmittel","layer.traffic":"Verkehrslage","layer.incidents":"Verkehrsst\\u00f6rungen anzeigen","layers.choose":"Ansicht ausw\\u00e4hlen",minimap:"Minimap","scale.switchToImperial":"Umrechnung in Meilen","scale.switchToMetric":"Umrechnung in Kilometer","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Verkleinern","zoom.in":"Vergr\\u00f6\\u00dfern",\n"zoom.rectangle":"Zoom rectangle","panorama.leave":"Stra\\u00dfenansicht verlassen","panorama.showCoverage":"Gebiete mit Stra\\u00dfenszenen anzeigen","panorama.hideCoverage":"Gebiete mit Stra\\u00dfenszenen ausblenden","panorama.unavailableHere":"Keine Stra\\u00dfenszenen verf\\u00fcgbar","traffic.MASS_TRANSIT":"\\u00d6ffentliche Verkehrsmittel","traffic.MISCELLANEOUS":"Diverse","traffic.ACCIDENT":"Unfall","traffic.OTHER_NEWS":"Anderes Ereignis","traffic.PLANNED_EVENT":"Geplantes Ereignis","traffic.ROAD_HAZARD":"Verkehrshindernis",\n"traffic.WEATHER":"Wetter","traffic.CONGESTION":"Verkehrsstau","traffic.CONSTRUCTION":"Baustelle","traffic.DISABLED_VEHICLE":"Liegengebliebenes Fahrzeug","traffic.from":"Beginn:","traffic.until":"Voraussichtliches Ende:","distance.measurement":"Measure distance"});Sr("tr-TR",{"layers.normal":"Harita g\\u00f6r\\u00fcn\\u00fcm\\u00fc","layers.satellite":"Uydu","layers.terrain":"Arazi","layer.transit":"Toplu ula\\u015f\\u0131m","layer.traffic":"Trafik durumlar\\u0131","layer.incidents":"Trafik olaylar\\u0131n\\u0131 g\\u00f6ster","layers.choose":"G\\u00f6r\\u00fcn\\u00fcm se\\u00e7",minimap:"Minimap","scale.switchToImperial":"Mile d\\u00f6n\\u00fc\\u015ft\\u00fcr","scale.switchToMetric":"Kilometreye d\\u00f6n\\u00fc\\u015ft\\u00fcr","scale.km":"km","scale.m":"m","scale.mi":"mil","scale.ft":"ft",\n"zoom.out":"Uzakla\\u015ft\\u0131r","zoom.in":"Yak\\u0131nla\\u015ft\\u0131r","zoom.rectangle":"Zoom rectangle","panorama.leave":"Sokak g\\u00f6r\\u00fcn\\u00fcm\\u00fc kapat","panorama.showCoverage":"Sokak G\\u00f6r\\u00fcn\\u00fcm\\u00fcn\\u00fc g\\u00f6ster","panorama.hideCoverage":"Sokak G\\u00f6r\\u00fcn\\u00fcm\\u00fcn\\u00fc sakla","panorama.unavailableHere":"Cadde g\\u00f6r\\u00fcn\\u00fcm\\u00fc yok","traffic.MASS_TRANSIT":"Toplu ula\\u015f\\u0131m","traffic.MISCELLANEOUS":"\\u00c7e\\u015fitli","traffic.ACCIDENT":"Kaza",\n"traffic.OTHER_NEWS":"Di\\u011fer haberler","traffic.PLANNED_EVENT":"Planl\\u0131 etkinlik","traffic.ROAD_HAZARD":"Yol tehlikesi","traffic.WEATHER":"Hava durumu","traffic.CONGESTION":"Yo\\u011funluk","traffic.CONSTRUCTION":"Yol \\u00e7al\\u0131\\u015fmas\\u0131","traffic.DISABLED_VEHICLE":"Ara\\u00e7 ar\\u0131zas\\u0131","traffic.from":"Ba\\u015flang\\u0131\\u00e7 zaman\\u0131:","traffic.until":"Tahmini biti\\u015f zaman\\u0131:","distance.measurement":"Measure distance"});Sr("it-IT",{"layers.normal":"Vista mappa","layers.satellite":"Satellite","layers.terrain":"Terreno","layer.transit":"Mezzi pubblici","layer.traffic":"Condizioni del traffico","layer.incidents":"Mostra incidenti stradali","layers.choose":"Scegli vista",minimap:"Minimap","scale.switchToImperial":"Passa a miglia","scale.switchToMetric":"Passa a km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Zoom indietro","zoom.in":"Zoom avanti","zoom.rectangle":"Zoom rectangle","panorama.leave":"Abbandona il livello strada",\n"panorama.showCoverage":"Mostra le aree al livello strada","panorama.hideCoverage":"Nascondi le aree al livello strada","panorama.unavailableHere":"Impossibile mostrare il livello strada in questo punto","traffic.MASS_TRANSIT":"Mezzi pubblici","traffic.MISCELLANEOUS":"Varie","traffic.ACCIDENT":"Incidente","traffic.OTHER_NEWS":"Altre notizie","traffic.PLANNED_EVENT":"Evento pianificato","traffic.ROAD_HAZARD":"Strada dissestata","traffic.WEATHER":"Maltempo","traffic.CONGESTION":"Ingorgo","traffic.CONSTRUCTION":"Lavori in corso",\n"traffic.DISABLED_VEHICLE":"Veicolo in panne","traffic.from":"Ora di inizio:","traffic.until":"Ora di fine stimata:","distance.measurement":"Measure distance"});Sr("en-US",{"layers.normal":"Map view","layers.satellite":"Satellite","layers.terrain":"Terrain","layer.transit":"Public transport","layer.traffic":"Traffic conditions","layer.incidents":"Show traffic incidents","layers.choose":"Choose view",minimap:"Minimap","scale.switchToImperial":"Change to miles","scale.switchToMetric":"Change to km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Zoom out","zoom.in":"Zoom in","zoom.rectangle":"Zoom rectangle","panorama.leave":"Leave street level",\n"panorama.showCoverage":"Show street level areas","panorama.hideCoverage":"Hide street level areas","panorama.unavailableHere":"Can\'t show you street level here","traffic.MASS_TRANSIT":"Public transport","traffic.MISCELLANEOUS":"Miscellaneous","traffic.ACCIDENT":"Accident","traffic.OTHER_NEWS":"Other news","traffic.PLANNED_EVENT":"Planned event","traffic.ROAD_HAZARD":"Road hazard","traffic.WEATHER":"Weather","traffic.CONGESTION":"Congestion","traffic.CONSTRUCTION":"Construction","traffic.DISABLED_VEHICLE":"Disabled vehicle",\n"traffic.from":"Start time:","traffic.until":"Estimated end time:","distance.measurement":"Measure distance"});function Ur(a,b){var c;if(!ra(a))throw new TypeError("string locale code required");if(ta(b))c=b,Tr(a,c);else{if(-1===Pr.indexOf(a))throw Error("Default locale \'"+a+"\' does nto exist.");c=Qr[a]}this.a=c||{};this.b=a}r("H.ui.i18n.Localization",Ur);Ur.prototype.c=function(){return this.b};Ur.prototype.getLocale=Ur.prototype.c;Ur.prototype.fc=function(){return Object.keys(this.a)};Ur.prototype.getKeys=Ur.prototype.fc;Ur.prototype.ng=function(a){return!(!this.a||!this.a[a])};\nUr.prototype.hasKey=Ur.prototype.ng;Ur.prototype.translate=function(a){var b=this.a[a];if(!ra(b))throw Error("Translation missing for key \'"+a+"\'.");return b};Ur.prototype.translate=Ur.prototype.translate;function Vr(a){B(a,ne,Vr,1);X.call(this,"div","H_context_menu_item");this.c=a;this.l=z(this.l,this);this.a=z(this.a,this);this.c.addEventListener("update",this.a)}v(Vr,X);r("H.ui.context.Item",Vr);Vr.prototype.l=function(a){var b=this.c,c=b.callback;c&&!b.isDisabled()&&(this.dispatchEvent("click"),c(a))};Vr.prototype.X=function(){var a=this,b=this.el;ui(b,"click",this.l);b.addEventListener("keyup",function(b){13==b.keyCode&&a.l(b)});this.a()};Vr.prototype.renderInternal=Vr.prototype.X;\nVr.prototype.a=function(){var a=this.el,b=this.c;b.callback?(this.f("clickable"),a.setAttribute("tabindex","0")):(this.i("clickable"),a.removeAttribute("tabindex"));b.isDisabled()?this.f("disabled"):this.i("disabled");b=b.getLabel();Wr.textContent=b;a.innerHTML=Wr.innerHTML.split("\\n").join("<br/>")};Vr.prototype.D=function(){X.prototype.D.call(this);this.c.removeEventListener("update",this.a)};var Xr=new X("div","H_context_menu_item_separator");function Yr(a){B(a,Array,Yr,1);tr.call(this,"div","H_context_menu");this.m=a;this.a=null}v(Yr,tr);r("H.ui.context.Menu",Yr);Yr.prototype.X=function(){tr.prototype.X.apply(this,arguments);this.m.forEach(function(a){a===oe?a=Xr:(a=new Vr(a),a.addEventListener("click",this.s.bind(this)));this.c(a)},this);ui(this.el,["mousedown","touchstart","pointerdown","wheel"],function(a){a.stopPropagation()})};Yr.prototype.renderInternal=Yr.prototype.X;\nYr.prototype.j=function(a,b){if(this.a){var c=this.el,d=c.offsetWidth,e=c.offsetHeight,f=this.a,g=f.va.width,f=f.va.height;a+d>g&&a>g/2&&(a-=d);b+e>f&&b>f/2&&(b-=e);ar(c,a,b)}};Yr.prototype.setPosition=Yr.prototype.j;Yr.prototype.s=function(){this.a&&this.a.dispatchEvent(new Bc("contextmenuclose",this.a))};Yr.prototype.l=function(a){this.a=a};Yr.prototype.setMap=Yr.prototype.l;function Z(a,b){var c=a.b,d=this;I.call(this);this.a=a;this.l=c.ownerDocument;this.f={};this.c=[];this.oa=ir(this.l,"div","H_ui");this.O=z(function(a){var b=this.v,c=a.target;a=a.target.Mb;var c=c?c.b():null,d=a?b.a[a]:null;c&&d&&(c.parentElement&&c.parentElement.removeChild(c),d.insertBefore(c,/(bottom|right)$/.test(a)||/(center|middle)/.test(a)&&d.childNodes.length%2?d.firstChild:null));Mr(b)},this);this.addEventListener("alignmentchange",this.O);this.ba=z(function(){this.N()},this);this.addEventListener("toggleunitsystem",\nthis.ba);this.U=z(function(){var a=this.a.g().type;if(a!==this.m){var a=this.m=a,b=this.f,c;for(c in b)if(b[c]instanceof Y)b[c].onMapEngineTypeChange(a);Mr(this.v)}},this);this.a.addEventListener("enginechange",this.U);this.oa.addEventListener("contextmenu",this.C,!1);this.oa.addEventListener("MSHoldVisual",this.C,!1);this.a.addEventListener("contextmenu",this.T,!1,this);this.a.addEventListener("contextmenuclose",this.F,!1,this);this.b=null;this.A=-1;this.v=new Cr(this.oa,this.l);this.i=Or.METRIC;\nZr(this,"en-US");this.m=this.a.g().type;b&&$r(this,b);c.appendChild(this.oa);w.setTimeout(function(){Mr(d.v)},1)}v(Z,I);r("H.ui.UI",Z);Z.prototype.C=function(a){for(var b=a.target;b&&!/\\bH_ib_content\\b/.test(b.className);)b=b.parentNode;b||a.preventDefault()};Z.prototype.P=function(){return this.oa};Z.prototype.getElement=Z.prototype.P;Z.prototype.Bb=function(){return this.a};Z.prototype.getMap=Z.prototype.Bb;Z.prototype.I=function(){return this.i};Z.prototype.getUnitSystem=Z.prototype.I;\nZ.prototype.o=function(a){var b=this.f,c;if(a!==this.i)for(c in this.i=a,b)if(b[c]instanceof Y)b[c].onUnitSystemChange(this.i)};Z.prototype.setUnitSystem=Z.prototype.o;function Zr(a,b){var c,d;if(ra(b))c=b;else if(b instanceof Ur)c=b.b,d=b;else throw Error("The locale parameter must be a string or a H.ui.i18n.Localization object.");if(c)if(d)a.s=d;else if(0<=Pr.indexOf(c))a.s=new Ur(c);else throw Error("Locale ["+c+"] is not supported.");else throw Error("No locale was defined.");}\nZ.prototype.da=function(){return this.s};Z.prototype.N=function(){this.i===Or.METRIC?this.o(Or.IMPERIAL):this.o(Or.METRIC)};Z.prototype.toggleUnitSystem=Z.prototype.N;Z.prototype.ud=function(a){var b=this.c.length,c=this.oa,d,e;0>this.c.indexOf(a)&&(a.ia(this),a.a=this.a,d=a.ca(this.l),0<b?e=this.c[b-1].el.nextSibling:e=this.oa.firstChild,c.insertBefore(d,e),this.c.push(a))};Z.prototype.addBubble=Z.prototype.ud;\nZ.prototype.T=function(a){var b=a.items;this.b&&this.F();clearTimeout(this.A);this.A=w.setTimeout(function(){b.length&&(this.b=new Yr(b),this.oa.insertBefore(this.b.ca(this.l),this.oa.firstChild),this.b.ia(this),this.b.l(this.a),this.b.j(a.viewportX,a.viewportY))}.bind(this),0)};Z.prototype.F=function(){this.b&&(this.b.J(),this.b=null)};Z.prototype.B=function(a){var b=this.c.indexOf(a);-1<b&&(a.ia(null),a.a=null,this.c.splice(b,1),this.oa.removeChild(a.b()))};Z.prototype.removeBubble=Z.prototype.B;\nZ.prototype.K=function(){return this.c};Z.prototype.getBubbles=Z.prototype.K;Z.prototype.g=function(a,b){if(this.j(a))throw Error("A control with name ["+a+"] is already registered.");b.ia(this);b.Wa(this.a);b.sa=this.s;b.ca(this.l);b.onUnitSystemChange(this.i);b.onMapEngineTypeChange(this.a.g().type);this.f[a]=b};Z.prototype.addControl=Z.prototype.g;\nZ.prototype.ea=function(a){var b=this.j(a);if(b)b.ia(null),b.Wa(null),or(b),delete this.f[a];else throw Error("Control ["+a+"] not found in this UI\'s controls.");return b};Z.prototype.removeControl=Z.prototype.ea;Z.prototype.j=function(a){return this.f[a]};Z.prototype.getControl=Z.prototype.j;\nZ.prototype.D=function(){for(var a in this.f)cr.hasOwnProperty.call(this.f,a)&&this.f[a].J();this.c.forEach(function(a){a.J()});(a=this.oa.parentNode)&&a.removeChild(this.oa);I.prototype.D.call(this);this.oa=null};Z.prototype.J=function(){I.prototype.J.call(this)};Z.prototype.dispose=Z.prototype.J;\nfunction $r(a,b){var c,d;b.unitSystem&&a.o(b.unitSystem);(d=b.locale)&&Zr(a,d);(c=b.zoom)&&a.g("zoom",new as("object"===typeof c?c:null));(c=b.zoomrectangle)&&a.g("zoomrectangle",new bs("object"===typeof c?c:null));(c=b.mapsettings)&&a.g("mapsettings",new cs("object"===typeof c?c:null));(c=b.scalebar)&&a.g("scalebar",new ds("object"===typeof c?c:null));(c=b.panorama)&&ja("H.map.render.panorama")&&a.g("panorama",new zr("object"===typeof c?c:null));(c=b.distancemeasurement)&&a.g("distancemeasurement",\nnew es("object"===typeof c?c:null))}Z.prototype.ya=function(a,b,c,d){var e=this.j("scalebar"),f=a.getContext("2d"),g=a.width,h=a.height,k=5*b;e&&e.getVisibility()?e.ya(b,function(b){f.drawImage(b,g-b.width-k,h-b.height-k);c(a)},d):c(a)};Z.prototype.capture=Z.prototype.ya;\nZ.createDefault=function(a,b,c){var d=[];b.normal&&d.push({name:"layers.normal",mapType:b.normal});b.satellite&&d.push({name:"layers.satellite",mapType:b.satellite});b.terrain&&d.push({name:"layers.terrain",mapType:b.terrain});if(!d.length)throw Error("The mapTypes parameter does not contain any known map types.");return new Z(a,{unitSystem:Or.METRIC,zoom:{alignment:"right-middle"},mapsettings:{alignment:"bottom-right",entries:d,incidents:b.incidents},scalebar:{alignment:"bottom-right"},panorama:{alignment:"top-right",\nmapTypes:b},locale:c||"en-US"})};function fs(a){a=a||{};var b;this.s=!!a.vertical;this.T=a.length||"10em";this.a=ab(b=a.min)?b:0;this.o=mb(this.a,ab(b=a.max)?b:100);this.O=D(b=a.step)?1:b;this.m=gs(this,ab(b=a.value)?b:(this.a+this.o)/2);this.Qd=z(this.Qd,this);this.Hd=z(this.Hd,this);this.Ud=z(this.Ud,this);this.Sd=z(this.Sd,this);this.c=a.pointerArea;X.call(this,"div","H_slider"+(this.s?"":" H_l_horizontal"))}v(fs,X);r("H.ui.base.Slider",fs);\nfs.prototype.de=function(a,b){var c,d=this.s;if(!this.l||b)a=Qb(a,this.a,this.o),this.j&&(c=100*(a-this.a)/(this.o-this.a),this.j.style[d?"top":"left"]=(d?-1:1)*c+"%"),this.m=gs(this,a);return this.m};fs.prototype.setValue=fs.prototype.de;fs.prototype.K=function(){return this.m};fs.prototype.getValue=fs.prototype.K;function hs(a){a.A||(lr(a.b(),"start",a.Qd),lr(a.c,"move",a.Hd),lr(a.c,"end",a.Ud),lr(a.c,"out",a.Sd),a.A=!0)}\nfunction is(a){a.A&&(mr(a.b(),"start",a.Qd),mr(a.c,"move",a.Hd),mr(a.c,"end",a.Ud),mr(a.c,"out",a.Sd),a.A=!1)}function gs(a,b){var c=a.O;b=Qb(b,a.a,a.o);return c?a.a+nb((b-a.a)/c)*c:b}function js(a,b){var c=a.C,d=a.s;a.F||(a.F=c["offset"+(d?"Height":"Width")]);b-=br(c)[d?"y":"x"];0>b&&(b=0);c=(a.o-a.a)*b/a.F;c=gs(a,d?a.o-c:a.a+c);a.m!==c&&(a.de(c,!0),a.dispatchEvent(new Ne(a.Cg.nc,c,a.m)))}function ks(a,b){return(b.touches?b.targetTouches[0]:b)["page"+(a.s?"Y":"X")]}\nfunction ls(a){var b=!1,c=a.type;-1!==c.indexOf("pointer")||-1!==c.indexOf("touch")?b=!0:B(a,MouseEvent)&&(b=1===a.which||1===a.buttons);return b}function ms(a){var b=a.touches;return b&&1===b.length||B(a,MouseEvent)}p=fs.prototype;p.Qd=function(a){var b=this.s,c,d;ls(a)&&ms(a)&&(c=ks(this,a),d=a.target,d===this.j||d.parentElement===this.j?(this.I=c-br(this.j)[b?"y":"x"]-this.j.offsetWidth/2,this.l=!0):js(this,c),a.preventDefault())};p.Ud=function(){this.l&&(this.l=!1)};\np.Sd=function(a){this.l&&a.target===this.c&&(this.l=!1)};p.Hd=function(a){this.l&&ms(a)&&(ls(a)?(js(this,ks(this,a)-this.I),a.preventDefault()):this.l=!1)};p.Cg={nc:"change"};\np.X=function(a,b){var c=ir(b,"div","H_slider_cont"),d=ir(b,"div","H_slider_knob_cont"),e=ir(b,"div","H_slider_knob"),f=ir(b,"div","H_slider_knob_halo"),g=ir(b,"div","H_slider_track");a.appendChild(c);c.appendChild(g);c.appendChild(d);d.appendChild(e);d.appendChild(f);this.C=g;this.j=d;this.c||(this.c=a.ownerDocument.body);c.style[this.s?"height":"width"]=this.T;this.de(this.m);hs(this)};fs.prototype.renderInternal=fs.prototype.X;fs.prototype.D=function(){is(this)};\nfs.prototype.qa=function(a){a?is(this):this.C&&hs(this);return X.prototype.qa.call(this,a)};fs.prototype.setDisabled=fs.prototype.qa;var ns={"in":\'<svg class="H_icon" viewBox="0 0 25 25"><path d="M 18.5,11 H 14 V 6.5 c 0,-.8 -.7,-1.5 -1.5,-1.5 -.8,0 -1.5,.7 -1.5,1.5 V 11 H 6.5 C 5.7,11 5,11.7 5,12.5 5,13.3 5.7,14 6.5,14 H 11 v 4.5 c 0,.8 .7,1.5 1.5,1.5 .8,0 1.5,-.7 1.5,-1.5 V 14 h 4.5 C 19.3,14 20,13.3 20,12.5 20,11.7 19.3,11 18.5,11 z" /></svg>\',out:\'<svg class="H_icon" viewBox="0 0 25 25"><path d="m 6.5,11 h 12 c .8,0 1.5,.7 1.5,1.5 0,.8 -.7,1.5 -1.5,1.5 H 6.5 C 5.7,14 5,13.3 5,12.5 5,11.7 5.67,11 6.5,11 z" /></svg>\'};function as(a){a=a||{};var b=a.slider;Y.call(this);this.s=z(this.s,this);this.A=z(this.A,this);this.a=z(this.a,this);b&&(this.C=z(this.C,this),this.I=b,this.ba=a.sliderSnaps);this.F=new pr({label:ns["in"],onStateChange:this.s});this.K=new pr({label:ns.out,onStateChange:this.s});this.f("H_zoom");this.f("H_grp");this.setZoomSpeed(a.zoomSpeed||.004);this.l(a.alignment||"right-middle")}v(as,Y);r("H.ui.ZoomControl",as);as.prototype.O=function(){return this.T};as.prototype.getZoomSpeed=as.prototype.O;\nas.prototype.U=function(a){this.T=a};as.prototype.setZoomSpeed=as.prototype.U;as.prototype.Wa=function(a){this.map!==a&&os(this);Y.prototype.Wa.apply(this,arguments);this.map&&this.a()};as.prototype.setMap=as.prototype.Wa;as.prototype.Qa=function(a){this.b().style.display=0!==a?"none":""};as.prototype.onMapEngineTypeChange=as.prototype.Qa;as.prototype.D=function(){Y.prototype.D.apply(this,arguments);os(this)};\nas.prototype.X=function(a,b){Y.prototype.renderInternal.call(this,a,b);nr(this.F,this.da().translate("zoom.in"));nr(this.K,this.da().translate("zoom.out"))};as.prototype.renderInternal=as.prototype.X;as.prototype.l=function(a){var b=this.Mb;Y.prototype.l.call(this,a);b!==a&&this.a();return this};as.prototype.setAlignment=as.prototype.l;as.prototype.A=function(a){this.m.de(a.target.getZoom())};\nfunction os(a){a.removeChild(a.m);a.m=null;a.map&&(a.map.removeEventListener("baselayerchange",a.a),a.map.removeEventListener("mapviewchange",a.A));a.j&&(a.j.removeEventListener("minchange",a.a),a.j.removeEventListener("maxchange",a.a),a.j=null)}as.prototype.s=function(a){a=a.target;var b=a===this.F?1:-1,c=0<b?Math.ceil:Math.floor,d=this.map;d&&("down"===a.getState()?(d.c.startControl(),d.c.control(0,0,b*this.T,0,0,0)):d.c.endControl(!0,function(a){a.zoom=c(a.zoom)}))};\nas.prototype.C=function(a){this.map&&this.map.Ha(a.newValue)};\nas.prototype.a=function(){var a=this.Mb,b,c;/^top/g.test(a)||/^bottom/g.test(a)?(b=this.K,a=this.F,c=!1):(b=this.F,a=this.K,c=!0);this.removeChild(b);this.removeChild(a);this.c(b);this.I&&(os(this),b=c,c=this.map,this.I&&c&&(this.j=c.i)&&(this.m=new fs({step:this.ba?1:0,vertical:b,min:this.j.min,max:this.j.max,value:c.getZoom(),pointerArea:c.b}),this.m.addEventListener(this.m.Cg.nc,this.C),c.addEventListener("baselayerchange",this.a),c.addEventListener("mapviewchange",this.A),this.j.addEventListener("minchange",\nthis.a),this.j.addEventListener("maxchange",this.a)),this.c(this.m));this.c(a)};var ps={btn:\'<svg version="1.1" class="H_icon" viewBox="0 0 20 20"><path d="m15,1H2C1.447,1,1,1.448,1,2v5.001C1,7.553,1.447,8,2,8h13c0.553,0,1-0.447,1-1V2C16,1.448,15.553,1,15,1z M15,5.999v0.91v0.09V7H2l0,0V3h1v3h2V5h1v1h2V4h1v2h2V5h1v0.999h2V3h1V5.999z"transform="translate(1,6)" /></svg>\',point:\'<svg width="22" height="22" xmlns="http://www.w3.org/2000/svg"><circle cx="11" cy="11" r="8" stroke="#661144" stroke-width="4.5" fill="white" /></svg>\'};var qs,rs=navigator.userAgent,ss=-1<rs.indexOf("Android")&&-1<rs.indexOf("Mozilla/5.0")&&-1<rs.indexOf("AppleWebKit"),ts=/AppleWebKit\\/([\\d.]+)/,us=null===ts.exec(rs)?null:parseFloat(ts.exec(rs)[1]);qs=ss&&null!==us&&537>us;var vs=Function("return this")(),Wr=document.createElement("T");function ws(a,b,c){fh.call(this,a,{icon:xs,visibility:c});ys(this,b)}v(ws,fh);function ys(a,b){a.ci=b;a.oa&&(a.oa.textContent=b)}var xs=new Rh(ir(vs.document,"span","H_dm_label"),{onAttach:function(a,b,c){c.oa=a;ys(c,c.ci)},onDetach:function(a,b,c){delete c.oa}});function zs(a,b){I.call(this);this.b=a;this.a=new ws(this.o,"");b.push(this.a);this.ub=new P({objects:b,data:this})}v(zs,I);zs.prototype.Sb=!1;zs.prototype.o={lat:0,lng:0};zs.prototype.Sa=function(a,b){ys(this.a,a);this.a.a(b)};function As(a,b){b&&(a.nextSibling=b,b.previousSibling=a)};function Bs(a,b,c,d){var e=new F;As(a,this);As(this,b);e.c(a.getPosition());e.c(b.getPosition());this.c=new pg(e,{style:c.Ac});this.i=new pg(e,{style:{strokeColor:"transparent",lineWidth:Math.min(100,this.c.Na().lineWidth+2*(d||5))}});zs.call(this,c,[this.c,this.i]);this.g=this.f=-1;a=this.ub;a.addEventListener("pointermove",this.j,!0,this);a.addEventListener("pointerleave",this.l,!0,this)}v(Bs,zs);Bs.prototype.$c=function(){var a=this.c.Ca();return a.g(0).distance(a.g(1))};\nfunction Cs(a,b,c){var d=a.c.Ca();d.i(3*c,3,[b.lat,b.lng,0]);a.c.c(d)}Bs.prototype.j=function(a){var b=a.currentPointer;a=this.previousSibling.getPosition();var c=this.nextSibling.getPosition(),d=this.b.b,e=b.viewportX,b=b.viewportY;if(this.f!==e||this.g!==b)this.f=e,this.g=b,d.a(this.b.c(a,c,{x:e,y:b})),d.setVisibility(!0)};Bs.prototype.l=function(){this.b.b.setVisibility()};Bs.prototype.yf=function(){this.Sa(this.b.a(this.$c()),this.c.S().Oa())};function Ds(a,b,c){c=b.bd(c||0);this.c=new xi(a,{icon:c,zIndex:0});this.c.draggable=!0;zs.call(this,b,[this.c]);a=this.ub;a.addEventListener("dragstart",this.mi,!0,this);a.addEventListener("drag",this.ni,!0,this);a.addEventListener("dragend",this.li,!0,this)}v(Ds,zs);p=Ds.prototype;p.rc=0;p.af={nc:"change"};p.$c=function(){return this.rc};p.getPosition=function(){return this.c.Ca()};\nfunction Es(a){var b=0;a.nextSibling&&a.previousSibling&&(a.nextSibling.Sb||a.previousSibling.Sb?a.nextSibling.Sb&&!a.previousSibling.Sb&&(b=2):b=1);b=a.b.bd(b);a.c.$b(b)}p.ni=function(a){var b=a.currentPointer;a=b.viewportX;b=b.viewportY;if(this.g!==a||this.i!==b)this.g=a,this.i=b,this.c.a(this.b.map.Ka(a-this.f.x,b-this.f.y)),this.dispatchEvent(new Bc(this.af.nc,this))};\np.mi=function(a){var b=a.currentPointer,c=b.viewportX,b=b.viewportY,d=this.b.map.o(this.getPosition());this.c.Ha(1);this.f={x:c-d.x,y:b-d.y};a.stopPropagation()};p.li=function(){this.c.Ha(0)};p.yf=function(a){this.rc=a;this.Sa(this.b.a(a),this.getPosition())};function Fs(a,b){this.c=b;this.b=a;this.a={previousSibling:null,nextSibling:null,Sb:!0};Gs(this,this.a);this.Pd=z(this.Pd,this)}r("H.ui.distanceMeasurement.Model",Fs);p=Fs.prototype;p.ed=function(){return this.a.nextSibling===this.a};function Hs(a,b){for(var c=a.a,d=c.nextSibling;d!==c;)d.a.setVisibility(d.previousSibling===c?!1:b),d=d.nextSibling}\nfunction Is(a,b){var c;c=b||a.a.nextSibling;var d=0,e=0;if(b&&!Js(a,b))throw new C(a.$e,0,b);for(c instanceof Ds?d=c.$c():c instanceof Bs&&(d=c.previousSibling.$c());c&&c!==a.a;c=c.nextSibling,e++)c.yf(d),1===e%2&&(d+=c.$c())}p.Qc=function(a){var b=this.a.previousSibling,c=this.ed();a=new Ds(a,this.c,c?0:2);this.b.V(a.ub);As(a,this.a);a.addEventListener(a.af.nc,this.Pd);c?Gs(this,a):(Ks(this,b,a),Es(b),Is(this,b));return a};\np.insertBefore=function(a,b){var c,d,e,f;d=!1;f=1;if(b){if(!Js(this,b))throw new C(this.insertBefore,1,b);if(d=b.previousSibling.Sb)f=0;f=new Ds(a,this.c,f);f.addEventListener(f.af.nc,this.Pd);this.b.V(f.ub);d?(c=this.a.nextSibling,Ks(this,f,c),Gs(this,f),d=f,Es(c)):(c=b.previousSibling,d=c.previousSibling,e=c.nextSibling,this.b.a(c.ub),Ks(this,d,f),Ks(this,f,e));Is(this,d)}else f=this.Qc(a);return f};p.Ea=function(){Gs(this,this.a);this.b.Ea()};\np.$e=function(a){var b=this.a,c=a.previousSibling,d=a.nextSibling,e;if(!Js(this,a))throw new C(this.$e,0,a);this.b.a(a.ub);c===b?(e=d,e!==b?(a=e.nextSibling,Gs(this,a),a.yf(0),Es(a),Is(this,a)):Gs(this,this.a)):d===b?(e=c,a=e.previousSibling,As(a,b),Es(a)):c&&d&&(Ks(this,c.previousSibling,d.nextSibling),this.b.v([d.ub,c.ub]),Is(this,c.previousSibling));e&&e!==b&&this.b.a(e.ub)};function Js(a,b){for(var c=a.a.nextSibling,d=!1;c!==a.a;){if(c===b){d=!0;break}c=c.nextSibling}return d}\nfunction Ks(a,b,c){b=new Bs(b,c,a.c);a.b.V(b.ub)}function Gs(a,b){a.a.nextSibling=b;b.previousSibling=a.a}p.Pd=function(a){a=a.target;var b=a.previousSibling,c=a.nextSibling,d=a.getPosition(),e;c.Sb||(Cs(c,d,!1),e=a);b.Sb||(Cs(b,d,!0),e=b.previousSibling);Is(this,e)};function es(a){a=a||{};var b,c=a.lineStyle;Y.call(this);this.j=new rr({label:ps.btn,onStateChange:z(this.ii,this)});this.c(this.j);if(b=a.distanceFormatter)this.I=b;c&&(this.O=c);this.l(a.alignment||"right-bottom");this.s={};this.s[0]=a.startIcon;this.s[2]=a.endIcon;this.s[1]=a.stopoverIcon;this.s[3]=a.splitIcon}v(es,Y);r("H.ui.DistanceMeasurement",es);es.prototype.O={strokeColor:"rgba(102,17,68,.7)",lineWidth:6};\nfunction Ls(a){var b=a.map,c,d={};a.m||(a.A=new L,a.C=new Jj(a.A,{pixelRatio:a.map.A()}),a.U=c=a.A.f,c.addEventListener("dragstart",a.gi,!0,a),c.addEventListener("dragend",a.pd,!0,a),c.addEventListener("pointerenter",a.pd,!0,a),c.addEventListener("pointerleave",a.hi,!0,a),c.addEventListener("tap",a.ji,!0,a),a.F=Ms(a),d.a=z(a.I,a),d.bd=z(a.bd,a),d.c=z(a.T,a),d.map=a.map,d.b=a.F,d.Ac=a.O,a.a=new Fs(a.U,d),a.m=!0);a.F&&a.U.V(a.F);b.addEventListener("tap",a.Jg,!0,a);b.fa.add(a.C)}\nfunction Ns(a){var b=a.map;a.m&&(b.removeEventListener("tap",a.Jg,!0,a),b.tf(a.C),a.a.Ea())}function Ms(a){function b(){var a=c.b,a={anchor:c.a.clone().scale(g).floor(),size:new Th(pb(a.w*g),pb(a.h*g)),hitArea:d};return new ri(c.Pb(),a)}var c=a.bd(3),d=new Uh(Vh.NONE,[]),e=c.Pc.READY,f,g=c===a.K?.5:1,h;c.getState()===e?h=b():(h=new ri("<svg/>",{hitArea:d}),c.addEventListener("statechange",function(){c.getState()===e&&f.$b(b())}));return f=new xi(a.map.Oa(),{visibility:!1,icon:h})}\nes.prototype.I=function(a){var b="m",c=0;"metric"===this.ba?1E3<=a&&(a/=1E3,b="km",c=1):(a/=.3048,b="ft",5280<=a&&(a/=5280,b="mi",c=1));return a.toFixed(c)+" "+this.da().translate("scale."+b)};es.prototype.T=function(a,b,c){a=this.map.o(a);b=this.map.o(b);c=(new M(c.x,c.y)).a(a,b);return this.map.Ka(c.x,c.y)};\nes.prototype.X=function(a,b){var c=22*this.map.A(),d=c/2;Y.prototype.renderInternal.call(this,a,b);this.ba=Or.METRIC;this.K=new ri(ps.point,{anchor:{x:d,y:d},size:{w:c,h:c},hitArea:new Uh(Vh.CIRCLE,[d,d,d])});nr(this.j,this.da().translate("distance.measurement"))};es.prototype.renderInternal=es.prototype.X;p=es.prototype;p.bd=function(a){return this.s[a]||this.K};p.pd=function(){Hs(this.a,!0)};p.gi=function(){Hs(this.a)};p.hi=function(a){"touch"!==a.currentPointer.type&&Hs(this.a)};\np.ji=function(a){var b=a.currentPointer,c;c=a.target.Da;var d;c&&(c=c.getData())instanceof zs&&(d=c);c=d;a=a.originalEvent;a=a.metaKey||a.altKey;c&&(a&&c instanceof Ds?this.a.$e(c):c instanceof Bs&&(a=c.previousSibling.getPosition(),d=c.nextSibling.getPosition(),b={x:b.viewportX,y:b.viewportY},this.a.insertBefore(this.T(a,d,b),c.nextSibling),this.F.setVisibility()),this.pd())};\np.Jg=function(a){var b=a.currentPointer;a=a.target;if(a===this.map||a.Pa()!==this.A)this.a.Qc(this.map.Ka(b.viewportX,b.viewportY)),this.pd()};p.ii=function(a){"down"===a.target.getState()?Ls(this):Ns(this)};p.ld=function(a){this.ba=a;this.m&&(Is(this.a),this.pd())};es.prototype.onUnitSystemChange=es.prototype.ld;es.prototype.Qa=function(a){a=0===a;this.j.setVisibility(a);a||this.j.L("up")};es.prototype.onMapEngineTypeChange=es.prototype.Qa;\nes.prototype.J=function(){Ns(this);this.m&&(this.A.J(),this.C.J());Y.prototype.dispose.call(this)};es.prototype.dispose=es.prototype.J;es.prototype.Wa=function(a){a?this.j.getState()===qr.DOWN&&(this.map=a,Ls(this)):(Ns(this),this.m=!1);Y.prototype.Wa.apply(this,arguments)};es.prototype.setMap=es.prototype.Wa;function xr(a,b){var c=b||{},d=this;X.call(this,"div","H_ib");this.I=z(function(a){d.g||(d.close(),a.preventDefault())},this);this.j=z(this.j,this);this.m=z(this.m,this);this.s(a);this.o(c.content);c.onStateChange&&this.addEventListener("statechange",c.onStateChange);this.L(Os.OPEN)}v(xr,X);r("H.ui.InfoBubble",xr);xr.prototype.a=null;xr.prototype.getPosition=function(){return this.c};xr.prototype.s=function(a){this.c=ic(a);this.j()};xr.prototype.setPosition=xr.prototype.s;\nxr.prototype.X=function(a,b){this.A=ir(b,"div","H_ib_body");this.tailEl_=ir(b,"div","H_ib_tail",Ps);this.F=ir(b,"div","H_ib_close",Qs);this.l=ir(b,"div","H_ib_content","&nbsp;");this.A.appendChild(this.F);this.A.appendChild(this.l);lr(this.F,"start",this.I);this.a.c.addEventListener("sync",this.j);this.a.va.addEventListener("sync",this.j);this.a.addEventListener("enginechange",this.m);a.appendChild(this.A);a.appendChild(this.tailEl_);this.o(this.C)};\nxr.prototype.renderInternal=xr.prototype.X;xr.prototype.m=function(){this.K||(this.K=setTimeout(this.j,0))};\nxr.prototype.j=function(){var a=this.el,b=this.a,c,d="none",e;this.K=0;b&&this.b()&&this.getState()===Os.OPEN&&(b.g().type!==Pi&&(c=b.o(this.c))&&(e=c.x,c=c.y,b=b.va.width,e>=-b||e<=2*b||c>=-b||c<=2*b)&&(d="",qs?(a.style.left=e-b+"px",a.style.top=c+"px"):ar(a,e,c),b=this.l.offsetWidth,e=e-b,40>e&&(e=Math.max(0,Math.min((b||this.l.offsetWidth)-this.tailEl_.offsetWidth,-e)),this.A.style.right=e?-e+"px":"0")),a.style.display=d)};var Os={OPEN:"open",CLOSED:"closed"};xr.State=Os;xr.prototype.G=Os.OPEN;\nxr.prototype.getState=function(){return this.G};xr.prototype.getState=xr.prototype.getState;xr.prototype.L=function(a){a!==this.G&&(this.G=a,this.dispatchEvent("statechange"));if(a=this.b())this.G===Os.OPEN?(a.style.display="block",this.m()):a.style.display="none"};xr.prototype.setState=xr.prototype.L;xr.prototype.close=function(){this.L(Os.CLOSED)};xr.prototype.close=xr.prototype.close;xr.prototype.open=function(){this.L(Os.OPEN)};xr.prototype.open=xr.prototype.open;xr.prototype.T=function(){return this.l};\nxr.prototype.getContentElement=xr.prototype.T;xr.prototype.o=function(a){if(a)if("string"===typeof a||"number"===typeof a.nodeType&&"string"===typeof a.nodeName)this.C=a;else throw Error("InfoBubble content must be a string or HTML node.");else this.C=void 0;this.b()&&(this.C?(this.l.innerHTML="","string"===typeof this.C?this.l.innerHTML=a:"number"===typeof a.nodeType&&"string"===typeof a.nodeName&&this.l.appendChild(a)):this.l.innerHTML="&nbsp;",this.m())};xr.prototype.setContent=xr.prototype.o;\nxr.prototype.D=function(){this.close();this.o(null);this.F&&mr(this.F,"end",this.I);this.a&&(this.a.c.removeEventListener("sync",this.j),this.a.va.removeEventListener("sync",this.j));X.prototype.D.call(this)};\nvar Ps=\'<svg viewBox="0 0 25 25"><g><path d="M 11.3,0.23 5.08,12.1 C 2.28,12.2 0,13.2 0,14.5 0,15.9 2.28,17 5.08,17 c 2.8,0 5.12,-1.1 5.12,-2.5 0,-0.6 -0.62,-1.2 -1.52,-1.7 L 20.9,1.13 21,0.23 l -9.7,0 z" style="fill:#0d2e41;fill-opacity:0.3" /><path d="M 19.9,0.266 4.88,14.8 12.5,0.266 z" /></g></svg>\',Qs=\'<svg version="1.1" class="H_icon" viewBox="0 0 12 22"><path d="M 9.01,17 6.04,14 3,17 0.03,14.1 3,11 0.096,8.17 3.07,5.15 6.04,8.07 8.95,5.15 11.9,8.17 9.01,11 12,14.1 9.01,17" /></svg>\';function Rs(){this.G=Ss.CLOSED;tr.call(this,"div","H_overlay")}v(Rs,tr);r("H.ui.base.OverlayPanel",Rs);Rs.prototype.L=function(a,b){if(a!==this.G||b)this.G=a,a===Ss.OPEN?this.f("H_open"):this.i("H_open");return this};Rs.prototype.setState=Rs.prototype.L;Rs.prototype.getState=function(){return this.G};Rs.prototype.getState=Rs.prototype.getState;\nRs.prototype.a=function(a){var b=a.Mb;a=a.b();var c=this.b(),d=c.style,e;this.i("H_top");this.i("H_middle");this.i("H_bottom");this.i("H_left");this.i("H_center");this.i("H_right");d.bottom=d.top=d.left=d.right=d.margin="";/top/g.test(b)?(this.f("H_top"),d.top="0",d.margin="0 1.2em",e=-1):/bottom/g.test(b)?(this.f("H_bottom"),d.bottom="0",d.margin="0 1.2em",e=1):(this.f("H_middle"),d.top="50%",d.margin="0 1.2em",d.marginTop=-Math.round(.5*c.offsetHeight)+\n"px",e=0);/left/g.test(b)?(this.f("H_left"),d.left=a.offsetWidth+"px",d.marginLeft="1.2em"):/right/g.test(b)?(this.f("H_right"),d.right=a.offsetWidth+"px",d.marginRight="1.2em"):(this.f("H_center"),d.left="50%",0>e?(d.top=a.offsetHeight+"px",d.marginTop="1.2em"):0<e&&(d.bottom=a.offsetHeight+"px",d.marginBottom="1.2em"),d.marginLeft=-Math.round(.5*c.offsetWidth)+"px",a.appendChild(c))};Rs.prototype.pointToControl=Rs.prototype.a;var Ss={OPEN:"open",CLOSED:"closed"};Rs.State=Ss;function Ts(a){a=a||{};tr.call(this,"div","H_rdo");this.A=new X("div","H_rdo_title");this.j=new tr("div","H_rdo_buttons");this.c(this.A);this.c(this.j);this.F=z(function(a){a.target.getState()===qr.DOWN?(this.a(a.target,!0),this.dispatchEvent(Us)):a.target.L(qr.DOWN,!0)},this);this.addEventListener("statechange",this.F);this.m(a.title||"");a.onActiveButtonChange&&this.addEventListener(Us,a.onActiveButtonChange);a.buttonsOptions&&a.buttonsOptions.forEach(function(a){this.pe(new rr(a))},\nthis)}v(Ts,tr);r("H.ui.base.RadioGroup",Ts);var Us="activebuttonchange";Ts.prototype.X=function(a,b){tr.prototype.renderInternal.call(this,a,b);this.m(this.s,!0)};Ts.prototype.renderInternal=Ts.prototype.X;Ts.prototype.m=function(a,b){if(a!==this.s||b)this.s=a,this.A.b()&&(this.A.b().innerHTML=this.s);return this};Ts.prototype.setTitle=Ts.prototype.m;Ts.prototype.C=function(){return this.s};Ts.prototype.getTitle=Ts.prototype.C;\nTs.prototype.pe=function(a){if(!(a instanceof rr))throw Error("PushButton expected");a.ia(this);this.j.c(a);return this};Ts.prototype.addButton=Ts.prototype.pe;Ts.prototype.K=function(a){this.j.removeChild(a);a.ia(null);return this};Ts.prototype.removeButton=Ts.prototype.K;Ts.prototype.l=function(){return this.j.ea()};Ts.prototype.getButtons=Ts.prototype.l;Ts.prototype.a=function(a,b){for(var c=this.l(),d=c.length;d--;)c[d].L(c[d]===a?qr.DOWN:qr.UP,b)};Ts.prototype.setActiveButton=Ts.prototype.a;\nTs.prototype.D=function(){this.removeEventListener("statechange",this.F);tr.prototype.D.call(this)};function Vs(){this.f=z(this.f,this);this.l=z(this.l,this);this.a=new rr({label:"Show traffic incidents",onStateChange:this.l});this.b=null;this.i=0;this.g=22}function Ws(a,b){var c;(c=a.a.getData())&&c.Pa().removeEventListener("tap",a.f);b?(c=b.Pa(),c.addEventListener("tap",a.f),a.i=c.min,a.g=c.max,a.a.B(b),a.a.setVisibility(!0),Xs(a)):(a.a.B(null),a.a.setVisibility(!1),a.i=0,a.g=22)}\nfunction Ys(a,b){a.c=b;a.a.Sa(b.da().translate("layer.incidents"));Xs(a);a.c.Bb().addEventListener("mapviewchange",function(b){var d=b.newValue.zoom;a.b&&b.modifiers&b.ZOOM&&(d<a.i||d>a.g)&&a.b.close()})}function Xs(a){var b=a.c,c=a.a.getData(),d;b&&(d=b.Bb())&&c?0<=d.fa.indexOf(c)?a.a.L("down",!0):(a.a.L("up",!0),a.b&&a.b.close()):a.a.L("up",!0)}Vs.prototype.l=function(){var a=this.c.Bb(),b=this.a.getData();a&&b&&(this.a.getState()===qr.DOWN?a.re(b):a.tf(b))};\nVs.prototype.f=function(a){var b,c;a.target&&(b=a.target.getData())&&0===a.currentPointer.button&&(this.b||(this.b=new xr(a.target.getPosition()),this.c.ud(this.b)),this.b.s(a.target.getPosition()),c=b.TRAFFIC_ITEM_TYPE_DESC.replace(" ","_"),this.c.da().ng("traffic."+c)&&(c=this.c.da().translate("traffic."+c)),this.b.o(\'<div class="H_tib"><p>{{title}}</p><p class="H_tib_desc">{{desc}}</p><p class="H_tib_time"><span class="H_tib_left">{{traffic.from}}</span><span class="H_tib_right">{{from}}</span><br/><span class="H_tib_left">{{traffic.until}}</span><span class="H_tib_right">{{until}}</span></p></div>\'.replace("{{title}}",\nc).replace("{{desc}}",b.TRAFFIC_ITEM_DESCRIPTION[0].value).replace("{{traffic.from}}",this.c.da().translate("traffic.from")).replace("{{traffic.until}}",this.c.da().translate("traffic.until")).replace("{{from}}",b.START_TIME).replace("{{until}}",b.END_TIME)),this.b.open());a.stopPropagation()};function cs(a){a=a||{};Y.call(this);this.nf=z(this.nf,this);this.of=z(this.of,this);this.kd=z(this.kd,this);this.hd=z(this.hd,this);this.A=z(this.A,this);this.m=new Rs;this.vb=new Ts({onActiveButtonChange:this.kd});this.j=new rr({onStateChange:this.of});this.a=new rr({onStateChange:this.nf});this.s=new Vs;Ws(this.s,a.incidents);this.F=new rr({label:\'<svg version="1.1" class="H_icon" viewBox="0 0 26 26"><polygon points="19,14 17,14 19,16 13,19 6,16 9,14 7,14 3,16 13,21 23,16" /><polygon points="13,15 3,10 13,5 23,10"/></svg>\',\nonStateChange:z(function(a){a.target.getState()===qr.DOWN?(this.m.L(Ss.OPEN),this.m.a(this)):this.m.L(Ss.CLOSED)},this)});this.m.c(this.vb);this.m.c(this.a);this.m.c(this.j);this.m.c(this.s.a);this.c(this.F);this.c(this.m);a.entries&&a.entries.forEach(function(a){this.vb.pe(new rr({label:a.name,data:a.mapType}))},this);this.l(a.alignment||"bottom-right")}v(cs,Y);r("H.ui.MapSettingsControl",cs);\ncs.prototype.X=function(a,b){var c=this.Bb().fa;Y.prototype.renderInternal.call(this,a,b);this.vb.m(this.da().translate("layers.choose"));this.vb.l().forEach(function(a){var b=a.a;"layers."===b.substr(0,7)&&a.Sa(this.da().translate(b))},this);this.j.Sa(this.da().translate("layer.transit"));this.a.Sa(this.da().translate("layer.traffic"));nr(this.F,this.da().translate("layers.choose"));Ys(this.s,this.jb());c.addEventListener("add",this.hd);c.addEventListener("remove",this.hd);c.addEventListener("set",\nthis.hd);this.Bb().addEventListener("tap",this.A);Zs(this)};cs.prototype.renderInternal=cs.prototype.X;p=cs.prototype;p.kd=function(){var a;a:{a=this.vb.l();for(var b=a.length;b--;)if(a[b].getState()===qr.DOWN){a=a[b];break a}a=null}(a=a?a.getData():null)?(b=a.map,this.j.qa(!a.transit),a.transit&&(this.j.g||this.j.getState()!==qr.DOWN||(b=a.transit)),this.a.qa(!a.traffic),a.traffic&&(this.a.g||this.a.getState()!==qr.DOWN||(b=a.traffic)),b&&this.map&&this.map.Zb(b)):(this.j.qa(!0),this.a.qa(!0))};\np.nf=function(){this.a.getState()===qr.DOWN&&this.j.L(qr.UP,!0);this.kd()};p.of=function(){this.j.getState()===qr.DOWN&&this.a.L(qr.UP,!0);this.kd()};p.hd=function(a){0===a.idx?Zs(this,a):Xs(this.s)};\nfunction Zs(a,b){var c=null,d=b?b.added:a.map.i;a.vb.l().forEach(function(a){var b=a.getData();b.map===d?(this.vb.a(a,!0),this.j.L(qr.UP,!0),this.a.L(qr.UP,!0),c=b):b.transit&&b.transit===d?(this.vb.a(a,!0),this.j.L(qr.DOWN,!0),this.a.L(qr.UP,!0),c=b):b.traffic&&b.traffic===d&&(this.vb.a(a,!0),this.j.L(qr.UP,!0),this.a.L(qr.DOWN,!0),c=b)},a);c?(a.j.qa(!c.transit),a.a.qa(!c.traffic)):a.vb.a(null,!0)}p.Qa=function(a){this.b().style.display=a===Pi?"none":""};cs.prototype.onMapEngineTypeChange=cs.prototype.Qa;\ncs.prototype.A=function(){this.F.L(qr.UP)};cs.prototype.C=function(a){Ws(this.s,a)};cs.prototype.setIncidentsLayer=cs.prototype.C;function bs(a){a=a||{};Y.call(this);a.adjustZoom&&(this.yg=a.adjustZoom);this.j=new rr({label:\'<svg version="1.1" class="H_icon" viewBox="0 0 26 26"><polyline points="3,5 3,21 23,21 23,5 3,5" style="fill:none;stroke:white;stroke-width:3"/></svg>\',onStateChange:z(this.ki,this)});this.c(this.j);this.l(a.alignment||"bottom-right")}v(bs,Y);r("H.ui.ZoomRectangle",bs);p=bs.prototype;p.yg=function(a){return Math.floor(a)};\np.ki=function(a){var b=this.map,c=b.va.element;a.target.getState()===qr.DOWN?(b.addEventListener("dragstart",this.Ag,!0,this),b.addEventListener("drag",this.Bg,!0,this),b.addEventListener("dragend",this.zg,!0,this),a=c.ownerDocument.createElement("div"),b=a.style,b.position="absolute",b.display="none",b.border="2px solid #000",b.zIndex=1E5,b.backgroundColor="rgba(204,204,204,0.5)",c.appendChild(a),this.a=a):(b.removeEventListener("dragstart",this.Ag,!0,this),b.removeEventListener("drag",this.Bg,!0,\nthis),b.removeEventListener("dragend",this.zg,!0,this),c.removeChild(this.a))};p.Ag=function(a){var b=this.a.style,c=a.currentPointer,d=c.viewportX,c=c.viewportY;a.target===this.map&&(a.stopPropagation(),b.width="0px",b.height="0px",b.top=c+"px",b.left=d+"px",b.display="block",this.s=c,this.m=d)};\np.Bg=function(a){var b=a.currentPointer,c=b.viewportX,d=b.viewportY,b=this.m,e=this.s,f=this.a.style;a.target===this.map&&(a=c-b,c=d-e,f.left=b+(0>a?a:0)+"px",f.top=e+(0>c?c:0)+"px",f.width=Math.abs(a)+"px",f.height=Math.abs(c)+"px")};p.zg=function(a){var b=this.map,c=a.currentPointer;a.target===this.map&&(this.a.style.display="none",a=b.U(fc([b.Ka(this.m,this.s),b.Ka(c.viewportX,c.viewportY)])),a.animate=!0,a.zoom=this.yg(a.zoom,this.map),b.c.Jb(a))};\np.X=function(a,b){Y.prototype.renderInternal.call(this,a,b);nr(this.j,this.da().translate("zoom.rectangle"))};bs.prototype.renderInternal=bs.prototype.X;bs.prototype.Qa=function(a){a=a===Pi;this.b().style.display=a?"none":"";a&&this.j.L("up")};bs.prototype.onMapEngineTypeChange=bs.prototype.Qa;function $s(a,b){var c=b||{};if(!(a&&a instanceof oh))throw Error("Base layer is mandatory for overview UI element");Y.call(this);this.j=new rr({label:\'<svg class="H_icon" viewBox="4 4 25 25"><path d="m 8,10 l 0,14 l 18,0 l 0,-14 z m 1,1 l 16,0 l 0,12 L 9,23 z"/><path d="m 10,12 l 0,10 l 6,0 l 0,-6 l 8,0 l 0,-4 z"/></svg>\',onStateChange:z(this.m,this)});this.c(this.j);this.a=new at(a,c.zoomDelta,c.scaleX,c.scaleY);this.l(c.alignment||"right-bottom");this.c(this.a)}v($s,Y);\nr("H.ui.Overview",$s);$s.prototype.Zb=function(a){this.a.Zb(a);return this};$s.prototype.setBaseLayer=$s.prototype.Zb;$s.prototype.m=function(a){a.target.getState()===qr.DOWN?bt(this.a):ct(this.a)};$s.prototype.X=function(a,b){Y.prototype.renderInternal.call(this,a,b);this.j.el.style["float"]=this.Mb.match("right")?"right":"left";this.a.Wa(this.map);nr(this.j,this.da().translate("minimap"))};$s.prototype.renderInternal=$s.prototype.X;\n$s.prototype.Qa=function(a){this.b().style.display=a===Pi?"none":"";this.j.getState()===qr.DOWN&&bt(this.a)};$s.prototype.onMapEngineTypeChange=$s.prototype.Qa;$s.prototype.D=function(){this.a.J();X.prototype.D.call(this)};function at(a,b,c,d){this.A=a;"number"===typeof b&&(this.nh=b);"number"===typeof c&&(this.Sg=c);"number"===typeof d&&(this.Tg=d);tr.call(this,"div","H_overview")}v(at,Y);at.prototype.Zb=function(a){this.j.Zb(a)};\nat.prototype.X=function(a,b){var c=ir(b,"div","H_overview_map");jr(a,c);this.m=c};at.prototype.renderInternal=at.prototype.X;p=at.prototype;p.nh=3;p.Sg=5;p.Tg=5;p.Wa=function(a){this.a=a;this.j=new Q(this.m,this.A,{pixelRatio:this.a.A()});this.j.j.b.style.display="none";this.F=this.j.c;this.s=this.a.c};function bt(a){dt(a,!0);a.Cf();a.f("H_overview_active");a.a.addEventListener("mapviewchange",a.Cf,!1,a)}\nfunction ct(a){dt(a);a.i("H_overview_active");a.a.removeEventListener("mapviewchange",a.Cf,!1,a)}p.Cf=function(a){a&&a.modifiers&a.SIZE&&dt(this,!0);a=this.s.Ab();a.zoom=a.zoom-this.nh;this.F.Jb(a)};function dt(a,b){var c=a.a.va.element,d=a.el.style,e=c.offsetWidth/a.Sg/10,c=c.offsetHeight/a.Tg/10,f=a.m.style;b?(d.width=e+"em",d.height=c+"em",f.width=e-1+"em",f.height=c-1+"em"):d.width=d.height="0em";a.j.va.resize()}p.J=function(){ct(this);this.j.J()};function ds(a){a=a||{};Y.call(this);this.f("H_scalebar");this.l(a.alignment||"bottom-right");this.a=z(this.a,this);this.A=this.s=this.C=this.F=this.m=null}v(ds,Y);r("H.ui.ScaleBar",ds);\nds.prototype.X=function(a,b){Y.prototype.renderInternal.call(this,a,b);var c;a.innerHTML=\'<svg height="28" version="1.1" class="H_scalebar_svg" xmlns="http://www.w3.org/2000/svg"><polyline style="fill:none;stroke:white;stroke-width:4;stroke-opacity:0.8" points="2,19 2,26 98,26 98,19"/><polyline style="fill:none; stroke:black; stroke-width:2" points="2,20 2,26 98,26 98,20"/><text style="stroke:white;stroke-width:2;stroke-opacity:0.8;text-anchor:end;font: bold 10px \\\'Lucida Grande\\\',\\\'Lucida Sans Unicode\\\',Arial,Helvetica,sans-serif" x="90" y="22"></text><text style="text-anchor:end;font: bold 10px \\\'Lucida Grande\\\',\\\'Lucida Sans Unicode\\\',Arial,Helvetica,sans-serif;color:black;" x="90" y="22"></text></svg>\';a.style.direction=\n"ltr";this.m=a.firstChild;c=this.m.childNodes;this.F=c[0];this.C=c[1];this.s=c[2];this.A=c[3];this.K=Or.METRIC;this.I=z(function(a){this.g||(this.dispatchEvent("toggleunitsystem"),a.preventDefault())},this);this.j=z(function(a){a.preventDefault()},this);lr(a,"start",this.j);lr(a,"end",this.I);nr(this,this.da().translate("scale.switchToImperial"));this.a()};ds.prototype.renderInternal=ds.prototype.X;\nds.prototype.Wa=function(a){this.map&&this.map.removeEventListener("mapviewchange",this.a);a&&a.addEventListener("mapviewchange",this.a);Y.prototype.Wa.apply(this,arguments)};ds.prototype.setMap=ds.prototype.Wa;\nds.prototype.ya=function(a,b,c){var d=document.createElement("canvas"),e=d.getContext("2d"),f=Fe(this.m,document,!1),g;g=parseFloat(f.getAttribute("width"));var h=parseFloat(f.getAttribute("height")),k=g*a;a*=h;f.setAttribute("viewBox","0 0 "+g+" "+h);f.setAttribute("width",k);f.setAttribute("height",a);g=document.createElement("div");g.appendChild(f);f=xe(g.innerHTML);d.width=k;d.height=a;(new Gh("image",f)).then(function(a){e.drawImage(a,0,0);b(d)},c)};ds.prototype.capture=ds.prototype.ya;\nds.prototype.ld=function(a){this.K=a;nr(this,"imperial"===a?this.da().translate("scale.switchToMetric"):this.da().translate("scale.switchToImperial"));this.a()};ds.prototype.onUnitSystemChange=ds.prototype.ld;ds.prototype.Qa=function(a){this.b().style.display=a===Pi?"none":""};ds.prototype.onMapEngineTypeChange=ds.prototype.Qa;\nds.prototype.a=function(){if(this.b()&&(!this.map||this.map.g().type!==Pi)){var a,b=0;a=this.map;var c,d,e;a&&(c=Math.round(.5*a.va.width),d=Math.round(.5*a.va.height),e=a.Ka(c,d))&&(b=ic(e),a=ic(a.Ka(c+1,d)),b=100*b.distance(a));if(a=b)this.K===Or.IMPERIAL?a<et?(d=a/ft,c=this.da().translate("scale.ft")):(d=a/et,c=this.da().translate("scale.mi")):1E3>a?(d=a,c=this.da().translate("scale.m")):(d=a/1E3,c=this.da().translate("scale.km")),a=Math.pow(10,Math.floor(Math.log(d)/Math.LN10)),d=a/d*100,30>d?\n(a*=5,d*=5):75>d?(a*=2,d*=2):150<d&&(a/=2,d/=2),d=Math.round(d),this.m.setAttribute("width",d),this.A.textContent=this.s.textContent=a+" "+c,this.A.setAttribute("x",d-8),this.s.setAttribute("x",d-8),this.F.points.getItem(2).x=this.C.points.getItem(2).x=this.F.points.getItem(3).x=this.C.points.getItem(3).x=d-2}};var et=1609.344,ft=.3048006;r("H.ui.buildInfo",function(){return Bh("mapsjs-ui","0.17.0","7ec7e09")});\n'),H.util.eval('Vi.prototype.Ge=ca(1,function(){return this.b});function uq(){}uq.prototype.o=function(){};uq.prototype.S=function(){};uq.prototype.j=function(){};r("H.clustering.ICluster.prototype.forEachEntry",uq.prototype.j);uq.prototype.i=function(){};r("H.clustering.ICluster.prototype.forEachDataPoint",uq.prototype.i);function vq(a,b,c){this.v=this.m=c;this.b=[];this.g=0;this.a=Xe(a,b,!0)}r("H.clustering.grid.Cluster",vq);vq.prototype.Qc=function(a){this.c||(this.c=ic(a));this.g+=a.wt||1;this.b.push(a)};vq.prototype.Ge=function(){return this.b};vq.prototype.getPosition=function(){return this.c};vq.prototype.getPosition=vq.prototype.getPosition;vq.prototype.Db=function(){return this.g};vq.prototype.getWeight=vq.prototype.Db;vq.prototype.l=Be;vq.prototype.isCluster=vq.prototype.l;vq.prototype.f=function(){return this.m};\nvq.prototype.getMinZoom=vq.prototype.f;vq.prototype.o=function(){return this.v};vq.prototype.getMaxZoom=vq.prototype.o;vq.prototype.S=function(){return this.a};vq.prototype.getBounds=vq.prototype.S;vq.prototype.j=function(a){this.i(a)};vq.prototype.forEachEntry=vq.prototype.j;vq.prototype.i=function(a){var b=this;if(!sa(a))throw new C(this.i,0,a);this.b.forEach(function(c){a(new wq(c,b.m+1))})};vq.prototype.forEachDataPoint=vq.prototype.i;function xq(a){xc.call(this);this.a=[];var b;a?Ca(b={},yq,a):b=yq;this.g=b;xc.call(this)}v(xq,xc);var zq={cancel:sc},Aq={clusters:[],noisePoints:[]},yq={projection:ih,min:0,max:22,eps:32,minWeight:2};p=xq.prototype;p.gc=function(a){this.a=a;this.b=!0};p.eb=function(a){this.a.push(a);this.b=!0};p.vg=function(a){this.a=this.a.concat(a);this.b=!0};p.Oe=function(a){this.a=this.a.filter(function(b){return b!==a});this.b=!0};p.D=function(){xq.u.D.call(this);this.a=null};p.bh=sc;function wq(a,b){this.a=a;this.b=b}r("H.clustering.grid.NoisePoint",wq);wq.prototype.getPosition=function(){return ic(this.a)};wq.prototype.getPosition=wq.prototype.getPosition;wq.prototype.Db=function(){return this.a.wt};wq.prototype.getWeight=wq.prototype.Db;wq.prototype.l=Ce;wq.prototype.isCluster=wq.prototype.l;wq.prototype.f=function(){return this.b};wq.prototype.getMinZoom=wq.prototype.f;wq.prototype.getData=function(){return this.a.data};wq.prototype.getData=wq.prototype.getData;function Bq(a){xq.call(this,a)}v(Bq,xq);\nBq.prototype.Af=function(a){var b=this.g,c=b.min,d=b.max,e=[],f=[],g;if(this.b){for(g=this.a;c<=d;c++){for(var h=c,k=g,l=e,m=f,n=void 0,q=n=void 0,t=void 0,u=b.eps,y=b.projection,J=b.minWeight,T=t=void 0,ea=void 0,la=t=void 0,ob=k.length,na=void 0,ia=Math.pow(2,h+8),Ja=void 0,Jb=void 0,Ja=void 0,Sd=[];n=k[--ob];)if(!n.Kf){la=y.qb(n).scale(ia).floor();q=ia;T=la.x;ea=la.y;for(na=Sd.length;na--;)Ja=Sd[na],t=Ja.getPosition(),Ja.Jf||(Ja.Jf=y.qb(t).scale(ia).floor()),t=Ja.Jf,t=t.distance(la),t<q&&(q=t,\nJb=Ja);Jb&&Jb.S().Vc(n)||(Jb=new vq(y.Fc({x:(T-u)/ia,y:(ea-u)/ia}),y.Fc({x:(T+u)/ia,y:(ea+u)/ia}),h),Sd.push(Jb));Jb.Qc(n);Jb=null}for(ob=Sd.length;ob--;)if(Ja=Sd[ob],n=Ja.Db(),n<J)for(Ja=Ja.Ge(),na=Ja.length;n=Ja[--na];)m.push(new wq(n,h)),n.Kf=!0;else l.push(Ja)}c=0;for(d=g.length;c<d;c++)delete g[c].Kf;this.b=!1;a({clusters:e,noisePoints:f})}return zq};function Cq(a){this.a=a;a=document.createElement("canvas");var b=a.getContext("2d"),c=a.width=a.height=14*this.a;b.beginPath();b.strokeStyle="#FFFFFF";b.fillStyle="#1080DD";b.arc(c/2,c/2,6*this.a,0,2*Math.PI,!1);b.fill();b.lineWidth=1;b.stroke();this.i=new ri(a,{size:{w:c,h:c},anchor:{x:c/2,y:c/2}});this.b={};this.c={}}r("H.clustering.theme.Circular",Cq);\nfunction Dq(a,b,c){var d,e,f=document.createElement("canvas"),g=f.getContext("2d");b*=a.a;d=b+":"+c;f.width=f.height=b;(e=a.b[d])?g.putImageData(e,0,0):(e=b/2,g.beginPath(),g.strokeStyle="rgba("+c+",0.2)",g.fillStyle="rgba("+c+",1)",g.arc(e,e,e/5*3,0,2*Math.PI,!1),g.fill(),g.lineWidth=e/5*4,g.stroke(),a.b[d]=g.getImageData(0,0,b,b));return f}\nCq.prototype.f=function(a){var b,c,d=a.Db(),e,f,g;b=this.c[d];b||(10>d?(b=Dq(this,28,"118,209,0"),e={x:11,y:18}):25>d?(b=Dq(this,38,"255,105,0"),e={x:13,y:23}):50>d?(b=Dq(this,38,"240,60,0"),e={x:13,y:23}):100>d?(b=Dq(this,38,"181,0,21"),e={x:13,y:23}):1E3>d?(b=Dq(this,48,"181,0,21"),e={x:15,y:28}):(b=Dq(this,66,"181,0,21"),e={x:20,y:38}),c=e,e=b.width,f=b.getContext("2d"),f.fillStyle="#FFFFFF",g=11*this.a,f.font="bold "+g+"px Arial",g=c.x*this.a,c=c.y*this.a,f.fillText(d,g,c),b=new ri(b,{anchor:{x:e/\n2,y:e/2}}),this.c[d]=b);d=new xi(a.getPosition(),{icon:b,min:a.f(),max:a.o()});d.g(a);return d};Cq.prototype.getClusterPresentation=Cq.prototype.f;Cq.prototype.g=function(a){var b=new xi(a.getPosition(),{icon:this.i,min:a.f()});b.g(a);return b};Cq.prototype.getNoisePresentation=Cq.prototype.g;function Eq(a){xq.call(this,a);a=this.g;if(a.projection!==ih)throw new C(Eq,0,"Other projection than mercator not supported yet");this.j=a.projection;this.f=a.eps;this.s=a.minWeight;this.o=new jh(this.j);(new Lh).md("cluster","H.clustering.dynamicgrid.worker");this.i=z(this.i,this);this.l=z(this.l,this)}v(Eq,xq);Eq.prototype.bh=function(a,b){this.m=a;this.v=nb(b)};\nEq.prototype.Af=function(a,b){var c,d,e,f;c=this.c;var g=this.m,h=this.v||0;d=!c||!(c.zoom===h&&c.b.pa(g));var k=zq;if(g&&(this.b||d)){c&&3>c.state&&c.cancel();this.b=!1;c=this.f;var l;c>=128*ub(2,h)?f=Fq:(d=this.o,d.Ja(h),e=d.geoToPixel(g.tb()),f=d.geoToPixel(g.rb()),e.y-=c,f.y+=c,e=d.a(e),l=d.a(f),f=new G(e.lat,e.lng,l.lat,l.lng),c=d.Aa(c,0).lng+180,f=f.a(e.lat,e.lng-c,l.lat,e.lng).a(e.lat,l.lng,l.lat,l.lng+c));c=f;e=this.a;f=[];for(d=e.length;d--;)c.Vc(e[d])&&f.push(e[d]);0<f.length?(this.c=new Gq(g,\nh,f,this.f,this.s,this.j!==ih,a,b),this.c.then(this.i,this.l),k=this.c):a(Aq)}return k};Eq.prototype.i=function(a){qa(a)||(a=new w.Uint32Array(a));this.c.g(Hq(this,a))};Eq.prototype.l=function(a){ra(a)&&this.c.f(a)};var Fq=new G(90,-180,-90,180);\nfunction Hq(a,b){for(var c=0,d=b[c++],e=Array(d),f=0,g=[],h=b.length,k=a.c.a,l=a.c.zoom;d--;)e[f++]=new wq(k[b[c++]],l);for(;c<h;){var d=b[c++],f=k[b[c]],m=a.o,n=void 0,q=a.f,t=void 0,n=void 0;m.Ja(a.c.zoom);n=m.geoToPixel(f);t=m.Aa(n.x-q,n.y-q);n=m.Aa(n.x+q,n.y+q);f=new G(t.lat,t.lng,n.lat,n.lng);for(f=new vq(f.tb(),f.rb(),l);d--;)f.Qc(k[b[c++]]);g.push(f)}return{clusters:g,noisePoints:e}}Eq.prototype.D=function(){Eq.u.D.call(this)};\nfunction Gq(a,b,c,d,e,f,g,h){this.b=a;this.zoom=b;this.a=c;this.g=g;this.f=h;a=c.length;g=3*a;h=new (w.Float64Array||Array)(g);for(var k;a--;)k=c[a],h[--g]=k.lat,h[--g]=k.lng,h[--g]=k.wt;td.call(this,"cluster",{message:[h,d,e,b,f]},void 0)}v(Gq,Nh);function Iq(a,b,c){this.b=a;this.a=b;this.g=c}r("H.clustering.fastgrid.NoisePoint",Iq);Iq.prototype.getPosition=function(){this.c||(this.c=this.b.Aa(this.a[1],this.a[0],1));return this.c};Iq.prototype.getPosition=Iq.prototype.getPosition;Iq.prototype.Db=function(){return this.a.a};Iq.prototype.getWeight=Iq.prototype.Db;Iq.prototype.l=Ce;Iq.prototype.isCluster=Iq.prototype.l;Iq.prototype.f=function(){return this.g-this.b.c};Iq.prototype.getMinZoom=Iq.prototype.f;Iq.prototype.getData=function(){return this.a.data};\nIq.prototype.getData=Iq.prototype.getData;function Jq(a,b,c,d){this.g=a;this.b=b;this.B=c;this.F=d;this.v=ya(this.v,this);this.m=ya(this.m,this)}r("H.clustering.fastgrid.Cluster",Jq);Jq.prototype.getPosition=function(){this.c||(this.c=this.g.Aa(this.b.Tc,this.b.Uc,this.b.gb));return this.c};Jq.prototype.getPosition=Jq.prototype.getPosition;Jq.prototype.Db=function(){return this.b.gb};Jq.prototype.getWeight=Jq.prototype.Db;Jq.prototype.l=Be;Jq.prototype.isCluster=Jq.prototype.l;\nJq.prototype.f=function(){return this.B?this.B-this.g.c:-1/0};Jq.prototype.getMinZoom=Jq.prototype.f;Jq.prototype.o=function(){return this.F-this.g.c};Jq.prototype.getMaxZoom=Jq.prototype.o;Jq.prototype.S=function(){this.a||(this.a=Xe(this.g.Aa(this.b.a,this.b.f,1),this.g.Aa(this.b.b,this.b.c,1),!0));return this.a};Jq.prototype.getBounds=Jq.prototype.S;Jq.prototype.j=function(a){this.s=a;Kq(this.b,this.v)};Jq.prototype.forEachEntry=Jq.prototype.j;\nJq.prototype.v=function(a,b){var c=!1,d,e,f;a.gb>=this.g.j&&a!==this.b&&a.gb!==this.b.gb&&(this.s(new Jq(this.g,a,0,b)),c=!0);if(!c&&(d=a.entries))for(e=d.length,f=0;f<e;f++)this.s(new Iq(this.g,d[f],b));return c};Jq.prototype.i=function(a){this.A=a;Kq(this.b,this.m)};Jq.prototype.forEachDataPoint=Jq.prototype.i;Jq.prototype.m=function(a,b){var c,d,e;if(c=a.entries)for(d=c.length,e=0;e<d;e++)this.A(new Iq(this.g,c[e],b));return!1};function Lq(a,b,c,d,e,f){this.i=b;a&&(this.g=a,b&1?(c=a[8],e=a[5]):(c=a[7],e=a[8]),b&2?(d=a[9],f=a[6]):(d=a[4],f=a[9]));this[7]=c;this[5]=e;this[8]=(c+e)/2;this[4]=d;this[6]=f;this[9]=(d+f)/2}p=Lq.prototype;p.pc=0;function Mq(a,b){return a[b]||(++a.pc,a[b]=new Lq(a,b))}p.removeChild=function(a){var b=a.i;this[b]===a&&(delete this[b],delete a.g,--this.pc)};function Kq(a,b){for(var c=0,d=a;d=d.g;)++c;Nq(a,b,Lb,c)}\nfunction Nq(a,b,c,d){var e,f;if(!b(a,d)&&c--)for(++d,e=0;4>e;e++)(f=a[e])&&Nq(f,b,c,d)}p.Tc=0;p.Uc=0;p.gb=0;function Oq(a){this.b=a||10;this.a=null;Pq(this)}function Pq(a){a.head=a.a=new Lq(null,NaN,0,0,4294967296,4294967296)}function Qq(a,b){var c,d;for(c=0;4>c;c++)if(d=b[c])Qq(a,d),delete b[c];delete b.g;delete b.entries}function Rq(a,b){var c=a.head,d,e;if(b){if(d=b,d!==c)for(c=d;d=d.g;)if(d.entries||1<d.pc)c=d}else for(;!c.entries&&2>(e=c.pc);)if(e)c=d;else break;a.head=c}\nfunction Sq(a,b,c,d,e,f,g){var h;h=b.entries;var k;f?b.pc?h=Sq(a,Mq(b,c>=b[8]|(d>=b[9])<<1),c,d,e,f-1,g):h?(h=h[0],k=Mq(b,h[1]>=b[8]|(h[0]>=b[9])<<1),k.entries=b.entries,k.Tc=b.Tc,k.Uc=b.Uc,k.gb=b.gb,k.a=b.a,k.f=b.f,k.b=b.b,k.c=b.c,delete b.entries,h.node=k,Rq(a,k),h=Sq(a,Mq(b,c>=b[8]|(d>=b[9])<<1),c,d,e,f-1,g)):(f=h=new Tq(c,d,e,g),(b.entries||(b.entries=[])).push(f),Rq(a,b)):(h||Rq(a,b),a=h=new Tq(c,d,e,g),(b.entries||(b.entries=[])).push(a));b.Tc+=c*e;b.Uc+=d*e;b.gb+=e;b.a===A?(b.a=b.b=c,b.f=b.c=\nd):(c<b.a?b.a=c:c>b.b&&(b.b=c),d<b.f?b.f=d:d>b.c&&(b.c=d));return h}function Tq(a,b,c,d){this[0]=b;this[1]=a;this.a=c;this.data=d};function Uq(a){xq.call(this,a);a=this.g;this.l=a.projection;this.o=a.min;this.f=a.max;this.j=a.minWeight;this.c=7-nb(sb(mb(1,a.eps))/Cb);this.i=new Oq(mb(this.o,this.f+this.c))}v(Uq,xq);p=Uq.prototype;\np.gc=function(a){var b=0,c=a.length,d,e=new M(0,0),f=this.l,g=this.i;Uq.u.gc.call(this,a);Qq(g,g.a);for(Pq(g);b<c;b++){f.qb(d=a[b],e).scale(4294967296).floor();var h=e.x,k=e.y,l=g.a;if(!(h>=l[7]&&k>=l[4]&&h<=l[5]&&k<=l[6]))throw Error("Coordinates out of bounds");Sq(g,g.a,h,k,d.wt,g.b,d.data)}this.b=!0};p.eb=function(a){Uq.u.eb.call(this,a);this.gc(this.a)};p.vg=function(a){for(var b=a.length,c=Uq.u.eb;b--;)c.call(this,a[b]);this.gc(this.a)};p.Oe=function(a){Uq.u.Oe.call(this,a);this.gc(this.a)};\np.Aa=function(a,b,c,d){return this.l.Aa(a/c/4294967296,b/c/4294967296,d)};p.Af=function(a){var b;this.b&&(b={clusters:[],noisePoints:[]},Vq(this,this.i.a,0,this.f+this.c,-1/0,b,null),this.b=!1,a(b));return zq};function Vq(a,b,c,d,e,f,g){var h=b.gb,k;g&&(g.node.gb!==h?(f.clusters.push(new Jq(a,g.node,g.depth,c-1)),g=null):e++);g||(h>=a.j?(g={node:b,depth:c},e=c):Wq(a,b,e+1,f));if(b.pc&&d--)for(c++,h=0;4>h;h++)if(k=b[h])Vq(a,k,c,d,e,f,g),g=null;g&&f.clusters.push(new Jq(a,g.node,g.depth,a.f+a.c))}\nfunction Wq(a,b,c,d){b=b.entries;var e,f;if(b)for(e=b.length,d=d.noisePoints,f=0;f<e;f++)d.push(new Iq(a,b[f],c));else for(f=0;4>f;f++)(e=a[f])&&Wq(a,e,c,d)}p.D=function(){Uq.u.D.call(this);this.i=null};function Xq(a,b,c,d){this.lat=a;this.lng=b;this.wt=c===+c?c:1;this.data=d}r("H.clustering.DataPoint",Xq);Xq.prototype.lat=NaN;Xq.prototype.lng=NaN;function W(a,b){var c=b||{},d={},e=c.min||0,f=mb(e,c.max||22),g={min:e,max:f};this.min=e;this.max=f;W.u.constructor.call(this);this.B=c.pixelRatio||1;this.f=new L(g);this.f.ia(this);this.g=this.f.f;Ca(d,yq,g,c.clusteringOptions||{});d.minWeight=mb(yq.minWeight,d.minWeight);switch(d.strategy){case Yq.DYNAMICGRID:if(d.projection!==ih)throw new C(W,1,"Unsupported projection");this.a=new Eq(d);break;case Yq.GRID:this.a=new Bq(d);break;default:this.a=new Uq(d)}this.a.gc(a);this.i=c.theme||new Cq(this.B);\nthis.j=z(this.j,this);this.v=z(this.v,this);Zq(this)}v(W,I);r("H.clustering.Provider",W);W.prototype.D=function(){W.u.D.call(this);this.g.Ea();this.f=null;this.a.J();this.i=this.l=this.a=null;w.clearTimeout(this.o)};var Yq={FASTGRID:0,GRID:1,DYNAMICGRID:2};W.Strategy=Yq;W.prototype.j=function(){this.dispatchEvent(this.m.rh);this.a.Af(this.v,sc)};function Zq(a,b,c){a.o&&w.clearTimeout(a.o);b&&a.a.bh(b,c);a.o=w.setTimeout(a.j,150)}\nW.prototype.v=function(a){this.dispatchEvent(this.m.qh);this.l=a;$q(this)};W.prototype.U=function(a){this.a.gc(a);Zq(this)};W.prototype.setDataPoints=W.prototype.U;W.prototype.eb=function(a){this.a.eb(a);Zq(this)};W.prototype.addDataPoint=W.prototype.eb;W.prototype.A=function(a){this.a.vg(a);Zq(this)};W.prototype.addDataPoints=W.prototype.A;W.prototype.P=function(a){this.a.Oe(a);Zq(this)};W.prototype.removeDataPoint=W.prototype.P;W.prototype.s=function(){return this.i};W.prototype.getTheme=W.prototype.s;\nW.prototype.ba=function(a){this.i=a;this.l&&(this.g.Ea(),$q(this))};W.prototype.setTheme=W.prototype.ba;function $q(a){var b=a.l.clusters,c=a.l.noisePoints,d,e=b.length,f=c.length,g=0<e+f;for(a.g.Ea();e--;)d=b[e],a.g.V(a.i.getClusterPresentation(d));for(;f--;)b=c[f],a.g.V(a.i.getNoisePresentation(b));g&&a.dispatchEvent(a.m.la)}W.prototype.m={la:"update",rh:"start",qh:"end"};W.prototype.N=function(){return!0};W.prototype.providesDomMarkers=W.prototype.N;\nW.prototype.b=function(a,b,c,d){Zq(this,a,b);return this.f.b(a,b,c,d)};W.prototype.requestDomMarkers=W.prototype.b;W.prototype.K=function(){return!0};W.prototype.providesMarkers=W.prototype.K;W.prototype.c=function(a,b,c,d){Zq(this,a,b);return this.f.c(a,b,c,d)};W.prototype.requestMarkers=W.prototype.c;W.prototype.I=function(){return!0};W.prototype.providesSpatials=W.prototype.I;W.prototype.T=function(a,b,c,d){Zq(this,a,b);return this.f.m(a,b,c,d)};W.prototype.requestSpatials=W.prototype.T;\nW.prototype.O=function(a,b,c){return this.f.g(a,b,c)};W.prototype.requestSpatialsByTile=W.prototype.O;W.prototype.F=function(){return this.f.N()};W.prototype.getInvalidations=W.prototype.F;W.prototype.C=function(a,b){this.f.o(a,b)};W.prototype.invalidateObject=W.prototype.C;W.prototype.Ia=function(){return null};W.prototype.getCopyrights=W.prototype.Ia;r("H.clustering.buildInfo",function(){return Bh("mapsjs-clustering","0.17.0","b369779")});\n');